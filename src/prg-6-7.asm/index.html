<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.15.28"/><title data-react-helmet="true">/src/prg-6-7.asm | Super Mario Bros 2. Discombobulated</title><meta data-react-helmet="true" name="description" content="The annotated disassembly of SMB2 (USA) for NES."/><meta data-react-helmet="true" property="og:title" content="/src/prg-6-7.asm"/><meta data-react-helmet="true" property="og:description" content="The annotated disassembly of SMB2 (USA) for NES."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Keith McKnight"/><meta data-react-helmet="true" name="twitter:title" content="/src/prg-6-7.asm"/><meta data-react-helmet="true" name="twitter:description" content="The annotated disassembly of SMB2 (USA) for NES."/><style data-styled="kVlzQS cARMVe  jZQtxI eRqCXL kvnzNL" data-styled-version="4.4.0">
/* sc-component-id: sc-global-3029663097 */
@import url('https://fonts.googleapis.com/css?family=Asap:400,600|Fira+Code:400&display=swap'); html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,main,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;} article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block;} *[hidden]{display:none;} body{line-height:1;} ol,ul{list-style:none;} blockquote,q{quotes:none;} blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;} table{border-collapse:collapse;border-spacing:0;} *,*::before,*::after{box-sizing:border-box;} html{font-size:16px;} body{font-family:'Asap',sans-serif;font-weight:400;font-size:0.9rem;line-height:1.2;background-color:#fcfcfc;color:#000000;} *::selection{background-color:#f53a1b;color:#fcfcfc;} a{color:#0923f8;} a:hover{color:#0f5ef4;} a:active{color:#f53a1b;} strong,b{font-weight:600;} em,i{font-style:italic;} pre,code{font-family:'Fira Code',monospace;font-weight:400;} h1,h2,h3,h4,h5,h5{font-family:'Asap',sans-serif;font-weight:600;margin-bottom:0.6rem;} h1:not(:first-child),h2:not(:first-child),h3:not(:first-child),h4:not(:first-child),h5:not(:first-child),h5:not(:first-child){margin-top:0.4rem;} ul,ol,pre,blockquote{margin-bottom:0.6rem;} ul:not(:first-child),ol:not(:first-child),pre:not(:first-child),blockquote:not(:first-child){margin-top:0.4rem;} li{margin-bottom:0.2rem;} p,figure,pre{margin-bottom:0.4rem;} h1{font-size:2rem;} h2{font-size:1.6rem;} h3{font-size:1.3rem;} h4{font-size:1rem;} h5{font-size:0.8rem;} h6{font-size:0.6rem;} ul{list-style:square;} ul li{margin-left:1.5em;} blockquote{border-left:2px solid #bcbcbc;padding-left:0.4rem;} hr{border:0;border-top:1px solid #bcbcbc;} aside code{margin-left:0.1rem;margin-right:0.1rem;padding-left:0.2rem;padding-right:0.2rem;border-radius:0.2rem;border:1px solid #bcbcbc;background-color:#fcfcfc;color:#0923f8;font-size:0.9em;} aside > pre > code:only-child{display:block;margin:inherit;padding:0.4rem;font-size:0.9em;} aside h1 code,aside h2 code,aside h3 code,aside h4 code,aside h5 code,aside h6 code{margin:0;padding:0;border-radius:0;border:0;background-color:inherit;color:inherit;font-weight:inherit;font-size:inherit;}
/* sc-component-id: GithubCorner-sc-112dcqw-0 */
body *:focus > .eRqCXL .octocat-arm,.eRqCXL:focus .octocat-arm,.eRqCXL:hover .octocat-arm{-webkit-animation:octocat-wave 560ms ease-in-out;animation:octocat-wave 560ms ease-in-out;} @-webkit-keyframes octocat-wave{0%,100%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}20%,60%{-webkit-transform:rotate(-25deg);-ms-transform:rotate(-25deg);transform:rotate(-25deg);}40%,80%{-webkit-transform:rotate(10deg);-ms-transform:rotate(10deg);transform:rotate(10deg);}} @keyframes octocat-wave{0%,100%{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}20%,60%{-webkit-transform:rotate(-25deg);-ms-transform:rotate(-25deg);transform:rotate(-25deg);}40%,80%{-webkit-transform:rotate(10deg);-ms-transform:rotate(10deg);transform:rotate(10deg);}} @media (max-width:500px){.eRqCXL .octocat-arm{-webkit-animation:octocat-wave 560ms ease-in-out;animation:octocat-wave 560ms ease-in-out;}.eRqCXL:hover .octocat-arm{-webkit-animation:none;animation:none;}}
/* sc-component-id: Header-mdepkv-0 */
.jZQtxI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-height:200px;background-color:#44bdfa;color:#fcfcfc;padding:2rem 4rem;} @media (max-width:800px){.jZQtxI{padding-left:2rem;padding-right:2rem;}} .jZQtxI h1{text-shadow:0 2px 0 #000000;} .jZQtxI h1 > a{color:inherit;-webkit-text-decoration:none;text-decoration:none;} .jZQtxI .GithubCorner-sc-112dcqw-0{position:absolute;top:0;right:0;}
/* sc-component-id: Footer-xbtfn2-0 */
.kvnzNL{background-color:#f65b98;color:#fcfcfc;padding:2rem 4rem 3rem;} @media (max-width:800px){.kvnzNL{padding-left:2rem;padding-right:2rem;}} .kvnzNL p{margin-bottom:0.5rem;text-align:center;} .kvnzNL ul{display:grid;grid-template-columns:repeat(2,max-content);grid-column-gap:1em;justify-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;list-style:none;} .kvnzNL ul li{margin:0;} .kvnzNL a{color:inherit;}
/* sc-component-id: Layout-sc-11e418k-0 */
.cARMVe{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;} .cARMVe > main{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}
/* sc-component-id: AsmSource-h73kpj-0 */
.kVlzQS > header{padding:1rem 4rem;background-color:#fbdfab;color:#e25c22;} .kVlzQS > header h3{font-family:'Fira Code',monospace;font-weight:400;} .kVlzQS > section{display:grid;grid-template-columns:[code-comment] minmax(min-content,50%) [code-content] minmax(50%,max-content);line-height:1.3;} .kVlzQS > section > aside,.kVlzQS > section > pre{position:relative;margin:0;padding:0;border:1px solid transparent;border-radius:0;box-sizing:border-box;} .kVlzQS > section > aside:nth-child(1),.kVlzQS > section > pre:nth-child(2){padding-top:1rem;} .kVlzQS > section > aside{grid-column:code-comment;padding-left:4rem;padding-right:1rem;background-color:#f8f8f8;color:#000000;word-break:break-word;} .kVlzQS > section > pre{grid-column:code-content;padding-left:1rem;padding-right:1rem;overflow:visible;white-space:pre-wrap;word-break:break-word;tab-size:4;} .kVlzQS > section > pre > a[name][href^="#"]{position:absolute;top:0;right:1rem;-webkit-text-decoration:none;text-decoration:none;color:#f65b98;-webkit-transition:opacity 0.1s linear;transition:opacity 0.1s linear;opacity:0;} .kVlzQS > section > pre > a[name][href^="#"]:focus,.kVlzQS > section > pre > a[name][href^="#"]:hover{opacity:1;} .kVlzQS > section > pre:hover > a[name][href^="#"]{opacity:1;} @media (max-width:800px){.kVlzQS > header{padding-left:2rem;padding-right:2rem;}.kVlzQS > section{display:block;}.kVlzQS > section > aside,.kVlzQS > section > pre{padding-top:1rem;padding-bottom:1rem;}.kVlzQS > section > aside{max-width:none;padding-left:2rem;padding-right:2rem;color:#7c7c7c;}.kVlzQS > section > aside:before{content:'';position:absolute;top:0;bottom:0;left:0;pointer-events:none;width:4px;background-color:#bcbcbc;}} .kVlzQS .token{color:#4f2f04;} .kVlzQS .keyword{color:#d61eca;} .kVlzQS .variable{color:#f7b72a;} .kVlzQS .opcode{color:#f53a1b;} .kVlzQS .string{color:#17a61a;} .kVlzQS .decimalnumber{color:#4430b9;} .kVlzQS .hexnumber{color:#0923f8;} .kVlzQS .binarynumber{color:#034057;} .kVlzQS .register{color:#f65b98;} .kVlzQS .directive{color:#fa9f4e;} .kVlzQS .comment{color:#7c7c7c;}</style><link rel="shortcut icon" href="/smb2/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/smb2/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/smb2/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/smb2/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/smb2/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/smb2/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/smb2/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/smb2/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/smb2/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/smb2/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><link as="script" rel="preload" href="/smb2/webpack-runtime-e27abee7082aa8f18f3b.js"/><link as="script" rel="preload" href="/smb2/app-73183e4eb413cfdc340b.js"/><link as="script" rel="preload" href="/smb2/commons-a9b9bc07b970d3a1ecc3.js"/><link as="script" rel="preload" href="/smb2/component---src-templates-asm-source-jsx-3bb2cbd0a842989d029d.js"/><link as="fetch" rel="preload" href="/smb2/page-data/src/prg-6-7.asm/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="Layout-sc-11e418k-0 cARMVe"><header class="Header-mdepkv-0 jZQtxI"><a href="https://github.com/XKeeper0/smb2"><svg class="GithubCorner-sc-112dcqw-0 eRqCXL" fill="#fcfcfc" height="80" viewBox="0 0 250 250" width="80" xmlns="http://www.w3.org/2000/svg"><path d="M0 0l115 115h15l12 27 108 108V0z"></path><g class="octocat" fill="#f65b98"><path class="octocat-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16" style="transform-origin:130px 106px"></path><path class="octocat-body" d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z"></path></g></svg></a><h1><a href="/smb2/">Super Mario Bros 2. Discombobulated</a></h1><p>The annotated disassembly of SMB2 (USA) for NES.</p></header><main><article class="AsmSource-h73kpj-0 kVlzQS"><header><h3>/src/prg-6-7.asm</h3></header><section><aside><h1>Bank 6 &#x26; Bank 7</h1>
<p>What's inside:</p>
<ul>
<li>Level palettes</li>
<li>Groundset data</li>
<li>Object tiles</li>
<li>Level handling code</li>
</ul>
<hr>
&nbsp;</aside><pre><a name="l14" href="#l14" title="Link to line 14">#</a><code>&nbsp;</code></pre><aside><h2>Level palettes</h2>
<p>Each world has several sets of background and sprite palettes, which are set per area in the level
header. Subspace is defined separately in each world, but they all use the same colors!</p>
&nbsp;</aside><pre><a name="l21" href="#l21" title="Link to line 21">#</a><code>&nbsp;</code></pre><aside><h4>Palette pointers</h4>
&nbsp;</aside><pre><a name="l25" href="#l25" title="Link to line 25">#</a><code>WorldBackgroundPalettePointersLo:
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">1</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">2</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">3</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">4</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">5</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">6</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">7</span>BackgroundPalettes

WorldSpritePalettePointersLo:
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">1</span>SpritePalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">2</span>SpritePalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">3</span>SpritePalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">4</span>SpritePalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">5</span>SpritePalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">6</span>SpritePalettes
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">7</span>SpritePalettes

WorldBackgroundPalettePointersHi:
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">1</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">2</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">3</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">4</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">5</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">6</span>BackgroundPalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">7</span>BackgroundPalettes

WorldSpritePalettePointersHi:
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">1</span>SpritePalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">2</span>SpritePalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">3</span>SpritePalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">4</span>SpritePalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">5</span>SpritePalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">6</span>SpritePalettes
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">7</span>SpritePalettes
&nbsp;</code></pre><aside><h4>World 1</h4>
&nbsp;</aside><pre><a name="l63" href="#l63" title="Link to line 63">#</a><code>World<span class="token decimalnumber string">1</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Day</p>
&nbsp;</aside><pre><a name="l65" href="#l65" title="Link to line 65">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Night</p>
&nbsp;</aside><pre><a name="l70" href="#l70" title="Link to line 70">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l75" href="#l75" title="Link to line 75">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0C</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar</p>
&nbsp;</aside><pre><a name="l80" href="#l80" title="Link to line 80">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C</span>&nbsp;</code></pre><aside><p>Castle</p>
&nbsp;</aside><pre><a name="l85" href="#l85" title="Link to line 85">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$2C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$3C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$15</span>, <span class="token hexnumber string">$05</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l90" href="#l90" title="Link to line 90">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$06</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$26</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l95" href="#l95" title="Link to line 95">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">1</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l102" href="#l102" title="Link to line 102">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l106" href="#l106" title="Link to line 106">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l110" href="#l110" title="Link to line 110">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">1</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h4>World 2</h4>
&nbsp;</aside><pre><a name="l120" href="#l120" title="Link to line 120">#</a><code>World<span class="token decimalnumber string">2</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Day</p>
&nbsp;</aside><pre><a name="l122" href="#l122" title="Link to line 122">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$11</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$11</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$11</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$11</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Night (unused?)</p>
&nbsp;</aside><pre><a name="l127" href="#l127" title="Link to line 127">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l132" href="#l132" title="Link to line 132">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar</p>
&nbsp;</aside><pre><a name="l137" href="#l137" title="Link to line 137">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$11</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C;</span>&nbsp;</code></pre><aside><p>Castle (unused)</p>
&nbsp;</aside><pre><a name="l142" href="#l142" title="Link to line 142">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$15</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l147" href="#l147" title="Link to line 147">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$3A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l152" href="#l152" title="Link to line 152">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">2</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l159" href="#l159" title="Link to line 159">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l163" href="#l163" title="Link to line 163">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l167" href="#l167" title="Link to line 167">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$23</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">2</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h4>World 3</h4>
&nbsp;</aside><pre><a name="l177" href="#l177" title="Link to line 177">#</a><code>World<span class="token decimalnumber string">3</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Day</p>
&nbsp;</aside><pre><a name="l179" href="#l179" title="Link to line 179">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$22</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$22</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$22</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$22</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Night (unused)</p>
&nbsp;</aside><pre><a name="l184" href="#l184" title="Link to line 184">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$04</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l189" href="#l189" title="Link to line 189">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0C</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$26</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$06</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar</p>
&nbsp;</aside><pre><a name="l194" href="#l194" title="Link to line 194">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C</span>&nbsp;</code></pre><aside><p>Castle</p>
&nbsp;</aside><pre><a name="l199" href="#l199" title="Link to line 199">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$3C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l204" href="#l204" title="Link to line 204">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$11</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l209" href="#l209" title="Link to line 209">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">3</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l216" href="#l216" title="Link to line 216">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l220" href="#l220" title="Link to line 220">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l224" href="#l224" title="Link to line 224">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$2B</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">3</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h4>World 4</h4>
&nbsp;</aside><pre><a name="l234" href="#l234" title="Link to line 234">#</a><code>World<span class="token decimalnumber string">4</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Day</p>
&nbsp;</aside><pre><a name="l236" href="#l236" title="Link to line 236">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$23</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$23</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$23</span>, <span class="token hexnumber string">$2B</span>, <span class="token hexnumber string">$1B</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$23</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$32</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Night (unused)</p>
&nbsp;</aside><pre><a name="l241" href="#l241" title="Link to line 241">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2B</span>, <span class="token hexnumber string">$1B</span>, <span class="token hexnumber string">$0B</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l246" href="#l246" title="Link to line 246">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$32</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2B</span>, <span class="token hexnumber string">$1B</span>, <span class="token hexnumber string">$0B</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar</p>
&nbsp;</aside><pre><a name="l251" href="#l251" title="Link to line 251">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C</span>&nbsp;</code></pre><aside><p>Castle</p>
&nbsp;</aside><pre><a name="l256" href="#l256" title="Link to line 256">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$3C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$03</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l261" href="#l261" title="Link to line 261">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l266" href="#l266" title="Link to line 266">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">4</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l273" href="#l273" title="Link to line 273">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l277" href="#l277" title="Link to line 277">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l281" href="#l281" title="Link to line 281">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">4</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h4>World 5</h4>
&nbsp;</aside><pre><a name="l291" href="#l291" title="Link to line 291">#</a><code>World<span class="token decimalnumber string">5</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Night</p>
&nbsp;</aside><pre><a name="l293" href="#l293" title="Link to line 293">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2B</span>, <span class="token hexnumber string">$1B</span>, <span class="token hexnumber string">$0B</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Also night (unused)</p>
&nbsp;</aside><pre><a name="l298" href="#l298" title="Link to line 298">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l303" href="#l303" title="Link to line 303">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$3C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0C</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar/Tree</p>
&nbsp;</aside><pre><a name="l308" href="#l308" title="Link to line 308">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C</span>&nbsp;</code></pre><aside><p>Castle</p>
&nbsp;</aside><pre><a name="l313" href="#l313" title="Link to line 313">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$3C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$15</span>, <span class="token hexnumber string">$05</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l318" href="#l318" title="Link to line 318">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$24</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$34</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l323" href="#l323" title="Link to line 323">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">5</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l330" href="#l330" title="Link to line 330">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l334" href="#l334" title="Link to line 334">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l338" href="#l338" title="Link to line 338">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">5</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h4>World 6</h4>
&nbsp;</aside><pre><a name="l348" href="#l348" title="Link to line 348">#</a><code>World<span class="token decimalnumber string">6</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Day</p>
&nbsp;</aside><pre><a name="l350" href="#l350" title="Link to line 350">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Night</p>
&nbsp;</aside><pre><a name="l355" href="#l355" title="Link to line 355">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l360" href="#l360" title="Link to line 360">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar</p>
&nbsp;</aside><pre><a name="l365" href="#l365" title="Link to line 365">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C</span>&nbsp;</code></pre><aside><p>Castle</p>
&nbsp;</aside><pre><a name="l370" href="#l370" title="Link to line 370">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$15</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l375" href="#l375" title="Link to line 375">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$1B</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2B</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$3B</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l380" href="#l380" title="Link to line 380">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">6</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l387" href="#l387" title="Link to line 387">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l391" href="#l391" title="Link to line 391">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l395" href="#l395" title="Link to line 395">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$23</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">6</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h4>World 7</h4>
&nbsp;</aside><pre><a name="l405" href="#l405" title="Link to line 405">#</a><code>World<span class="token decimalnumber string">7</span>BackgroundPalettes:&nbsp;</code></pre><aside><p>Day</p>
&nbsp;</aside><pre><a name="l407" href="#l407" title="Link to line 407">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$21</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $0C</span>&nbsp;</code></pre><aside><p>Night (unused)</p>
&nbsp;</aside><pre><a name="l412" href="#l412" title="Link to line 412">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$01</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$29</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $1C</span>&nbsp;</code></pre><aside><p>Castle</p>
&nbsp;</aside><pre><a name="l417" href="#l417" title="Link to line 417">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$0C</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$0A</span> <span class="token comment">; $2C</span>&nbsp;</code></pre><aside><p>Jar (unused)</p>
&nbsp;</aside><pre><a name="l422" href="#l422" title="Link to line 422">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$27</span>, <span class="token hexnumber string">$17</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$31</span>, <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $3C</span>&nbsp;</code></pre><aside><p>Castle (unused)</p>
&nbsp;</aside><pre><a name="l427" href="#l427" title="Link to line 427">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$3C</span>, <span class="token hexnumber string">$2C</span>, <span class="token hexnumber string">$0C</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$15</span>, <span class="token hexnumber string">$05</span> <span class="token comment">; $4C</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l432" href="#l432" title="Link to line 432">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$08</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0C</span>, <span class="token hexnumber string">$28</span>, <span class="token hexnumber string">$08</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $5C</span>&nbsp;</code></pre><aside><p>Subspace</p>
&nbsp;</aside><pre><a name="l437" href="#l437" title="Link to line 437">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $6C</span>

World<span class="token decimalnumber string">7</span>SpritePalettes:&nbsp;</code></pre><aside><p>Overworld</p>
&nbsp;</aside><pre><a name="l444" href="#l444" title="Link to line 444">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $08</span>&nbsp;</code></pre><aside><p>Underground</p>
&nbsp;</aside><pre><a name="l448" href="#l448" title="Link to line 448">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$38</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$25</span>, <span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>&nbsp;</code></pre><aside><p>Boss</p>
&nbsp;</aside><pre><a name="l452" href="#l452" title="Link to line 452">#</a><code>	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$10</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FF</span>, <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$2A</span>, <span class="token hexnumber string">$0F</span> <span class="token comment">; $20</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">7</span>SpritePalettes + <span class="token hexnumber string">$30</span>, <span class="token hexnumber string">$FF</span>
ENDIF

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l460" href="#l460" title="Link to line 460">#</a><code>&nbsp;</code></pre><aside><h2>Ground appearance tiles</h2>
<p>The ground setting defines a single column (or row, for vertical areas) where each row (or column)
is be one of four tiles. That set of four tiles is the ground appearance. Each world has its own
ground appearances defined, which are which are divided into horizontal and vertical sets.</p>
<p>An area has its initial ground appearance set in the header, but it can be changed mid-area using
the <code>$F6</code> special object.</p>
&nbsp;</aside><pre><a name="l472" href="#l472" title="Link to line 472">#</a><code>&nbsp;</code></pre><aside><h4>Ground appearance pointers</h4>
&nbsp;</aside><pre><a name="l476" href="#l476" title="Link to line 476">#</a><code>GroundTilesHorizontalLo:
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">1</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">2</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">3</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">4</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">5</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">6</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">7</span>GroundTilesHorizontal

GroundTilesVerticalLo:
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">1</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">2</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">3</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">4</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">5</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">6</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">7</span>GroundTilesVertical

GroundTilesHorizontalHi:
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">1</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">2</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">3</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">4</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">5</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">6</span>GroundTilesHorizontal
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">7</span>GroundTilesHorizontal

GroundTilesVerticalHi:
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">1</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">2</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">3</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">4</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">5</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">6</span>GroundTilesVertical
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">7</span>GroundTilesVertical
&nbsp;</code></pre><aside><h4>Ground appearance tile definitions</h4>
<p>These are the tiles used to render the ground setting of an area.
Each row in a world's table corresponds to the ground type.</p>
<p>You'll notice that the first entry, which correponds to the sky/background is
$00 instead of $40. This is skipped with a BEQ in WriteGroundSetTiles,
presumably as an optimization, so the value doesn't matter!</p>
&nbsp;</aside><pre><a name="l522" href="#l522" title="Link to line 522">#</a><code>World<span class="token decimalnumber string">1</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$D5</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">1</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">1</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$05</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$C2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">1</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">2</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$8A</span>, <span class="token hexnumber string">$8A</span>, <span class="token hexnumber string">$8A</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$8B</span>, <span class="token hexnumber string">$8B</span>, <span class="token hexnumber string">$8B</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">2</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">2</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$40</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">2</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">3</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$D5</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">3</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">3</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$C6</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$9D</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$05</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$C2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$06</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">3</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">4</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$D5</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$0A</span>, <span class="token hexnumber string">$0A</span>, <span class="token hexnumber string">$08</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$1F</span>, <span class="token hexnumber string">$1F</span>, <span class="token hexnumber string">$1F</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">4</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">4</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$C6</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$9D</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$9B</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$D6</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">4</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">5</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$D5</span>, <span class="token hexnumber string">$40</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">5</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">5</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$05</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$A4</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$C2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">5</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">6</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$99</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$8A</span>, <span class="token hexnumber string">$8A</span>, <span class="token hexnumber string">$8A</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$8B</span>, <span class="token hexnumber string">$8B</span>, <span class="token hexnumber string">$8B</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D6</span>, <span class="token hexnumber string">$9B</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">6</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">6</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$18</span>, <span class="token hexnumber string">$40</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9E</span>, <span class="token hexnumber string">$C6</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">6</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">7</span>GroundTilesHorizontal:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$D7</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$19</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">7</span>GroundTilesHorizontal + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

World<span class="token decimalnumber string">7</span>GroundTilesVertical:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$05</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$C2</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$00</span> <span class="token comment">; $07</span>
IFDEF EXPAND_TABLES
	unusedSpace World<span class="token decimalnumber string">7</span>GroundTilesVertical + <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$00</span>
ENDIF

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l705" href="#l705" title="Link to line 705">#</a><code>&nbsp;</code></pre><aside><h2>Tile quads (unused)</h2>
<p>These appear to be duplicates of the tile quads from bank F.</p>
&nbsp;</aside><pre><a name="l712" href="#l712" title="Link to line 712">#</a><code>UnusedTileQuadPointersLo:
	<span class="token directive keyword">.db</span> &#x3C;UnusedTileQuads<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> &#x3C;UnusedTileQuads<span class="token decimalnumber string">2</span>
	<span class="token directive keyword">.db</span> &#x3C;UnusedTileQuads<span class="token decimalnumber string">3</span>
	<span class="token directive keyword">.db</span> &#x3C;UnusedTileQuads<span class="token decimalnumber string">4</span>

UnusedTileQuadPointersHi:
	<span class="token directive keyword">.db</span> >UnusedTileQuads<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> >UnusedTileQuads<span class="token decimalnumber string">2</span>
	<span class="token directive keyword">.db</span> >UnusedTileQuads<span class="token decimalnumber string">3</span>
	<span class="token directive keyword">.db</span> >UnusedTileQuads<span class="token decimalnumber string">4</span>

UnusedTileQuads<span class="token decimalnumber string">1</span>:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$B4</span>,<span class="token hexnumber string">$B6</span>,<span class="token hexnumber string">$B5</span>,<span class="token hexnumber string">$B7</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$B8</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B9</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B2</span>,<span class="token hexnumber string">$B3</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$BE</span>,<span class="token hexnumber string">$BE</span>,<span class="token hexnumber string">$BF</span>,<span class="token hexnumber string">$BF</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$BF</span>,<span class="token hexnumber string">$BF</span>,<span class="token hexnumber string">$BF</span>,<span class="token hexnumber string">$BF</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4A</span>,<span class="token hexnumber string">$4A</span>,<span class="token hexnumber string">$4B</span>,<span class="token hexnumber string">$4B</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$5E</span>,<span class="token hexnumber string">$5F</span>,<span class="token hexnumber string">$5E</span>,<span class="token hexnumber string">$5F</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E8</span>,<span class="token hexnumber string">$E8</span>,<span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$A9</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$46</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$46</span>,<span class="token hexnumber string">$FC</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$A9</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span> <span class="token comment">; $2C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E9</span>,<span class="token hexnumber string">$E9</span>,<span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$A9</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$48</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$48</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$11</span>,<span class="token hexnumber string">$11</span>,<span class="token hexnumber string">$11</span>,<span class="token hexnumber string">$11</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$22</span>,<span class="token hexnumber string">$22</span>,<span class="token hexnumber string">$22</span>,<span class="token hexnumber string">$22</span> <span class="token comment">; $3C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$33</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E8</span>,<span class="token hexnumber string">$EB</span>,<span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$A9</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$74</span>,<span class="token hexnumber string">$76</span>,<span class="token hexnumber string">$75</span>,<span class="token hexnumber string">$77</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$98</span>,<span class="token hexnumber string">$9A</span>,<span class="token hexnumber string">$99</span>,<span class="token hexnumber string">$9B</span> <span class="token comment">; $4C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$9C</span>,<span class="token hexnumber string">$9A</span>,<span class="token hexnumber string">$9D</span>,<span class="token hexnumber string">$9B</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$9C</span>,<span class="token hexnumber string">$9E</span>,<span class="token hexnumber string">$9B</span>,<span class="token hexnumber string">$9F</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$58</span>,<span class="token hexnumber string">$5A</span>,<span class="token hexnumber string">$59</span>,<span class="token hexnumber string">$5B</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$5E</span>,<span class="token hexnumber string">$5F</span>,<span class="token hexnumber string">$5E</span>,<span class="token hexnumber string">$5F</span> <span class="token comment">; $5C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$8E</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8E</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$72</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$72</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A6</span>,<span class="token hexnumber string">$A6</span>,<span class="token hexnumber string">$A7</span>,<span class="token hexnumber string">$A7</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$92</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$92</span> <span class="token comment">; $6C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$74</span>,<span class="token hexnumber string">$76</span>,<span class="token hexnumber string">$75</span>,<span class="token hexnumber string">$77</span> <span class="token comment">; $70</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$70</span>,<span class="token hexnumber string">$72</span>,<span class="token hexnumber string">$71</span>,<span class="token hexnumber string">$73</span> <span class="token comment">; $74</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$71</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$71</span>,<span class="token hexnumber string">$73</span> <span class="token comment">; $78</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$24</span>,<span class="token hexnumber string">$26</span>,<span class="token hexnumber string">$25</span>,<span class="token hexnumber string">$27</span> <span class="token comment">; $7C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$32</span>,<span class="token hexnumber string">$34</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span> <span class="token comment">; $80</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span> <span class="token comment">; $84</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$24</span>,<span class="token hexnumber string">$26</span>,<span class="token hexnumber string">$25</span>,<span class="token hexnumber string">$27</span> <span class="token comment">; $88</span>

UnusedTileQuads<span class="token decimalnumber string">2</span>:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $2C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$B0</span>,<span class="token hexnumber string">$B1</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$A2</span>,<span class="token hexnumber string">$A1</span>,<span class="token hexnumber string">$A3</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>,<span class="token hexnumber string">$82</span>,<span class="token hexnumber string">$81</span>,<span class="token hexnumber string">$83</span> <span class="token comment">; $3C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$F4</span>,<span class="token hexnumber string">$86</span>,<span class="token hexnumber string">$F5</span>,<span class="token hexnumber string">$87</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$84</span>,<span class="token hexnumber string">$86</span>,<span class="token hexnumber string">$85</span>,<span class="token hexnumber string">$87</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AD</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$AC</span>,<span class="token hexnumber string">$AD</span> <span class="token comment">; $4C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AC</span>,<span class="token hexnumber string">$AC</span>,<span class="token hexnumber string">$AC</span>,<span class="token hexnumber string">$AC</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$3B</span>,<span class="token hexnumber string">$3B</span>,<span class="token hexnumber string">$AC</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span>,<span class="token hexnumber string">$FC</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$F4</span>,<span class="token hexnumber string">$86</span>,<span class="token hexnumber string">$F5</span>,<span class="token hexnumber string">$87</span> <span class="token comment">; $5C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$49</span>,<span class="token hexnumber string">$49</span>,<span class="token hexnumber string">$FB</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$6D</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$3C</span>,<span class="token hexnumber string">$3E</span>,<span class="token hexnumber string">$3D</span>,<span class="token hexnumber string">$3F</span> <span class="token comment">; $6C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$58</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$59</span>,<span class="token hexnumber string">$5A</span> <span class="token comment">; $70</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$5B</span>,<span class="token hexnumber string">$5A</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span> <span class="token comment">; $74</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$5B</span>,<span class="token hexnumber string">$5C</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$5D</span> <span class="token comment">; $78</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$5B</span>,<span class="token hexnumber string">$5A</span> <span class="token comment">; $7C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $80</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $84</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$6E</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$6F</span> <span class="token comment">; $88</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$20</span>,<span class="token hexnumber string">$22</span>,<span class="token hexnumber string">$21</span>,<span class="token hexnumber string">$23</span> <span class="token comment">; $8C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6E</span>,<span class="token hexnumber string">$6F</span>,<span class="token hexnumber string">$70</span>,<span class="token hexnumber string">$71</span> <span class="token comment">; $90</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$57</span>,<span class="token hexnumber string">$57</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$FB</span> <span class="token comment">; $94</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$57</span>,<span class="token hexnumber string">$57</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $98</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D3</span>,<span class="token hexnumber string">$D3</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$FB</span> <span class="token comment">; $9C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D2</span>,<span class="token hexnumber string">$D2</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$FB</span> <span class="token comment">; $A0</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$7C</span>,<span class="token hexnumber string">$7E</span>,<span class="token hexnumber string">$7D</span>,<span class="token hexnumber string">$7F</span> <span class="token comment">; $A4</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CA</span>,<span class="token hexnumber string">$CC</span>,<span class="token hexnumber string">$CB</span>,<span class="token hexnumber string">$CD</span> <span class="token comment">; $A8</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CA</span>,<span class="token hexnumber string">$CC</span>,<span class="token hexnumber string">$CB</span>,<span class="token hexnumber string">$CD</span> <span class="token comment">; $AC</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C0</span>,<span class="token hexnumber string">$C2</span>,<span class="token hexnumber string">$C1</span>,<span class="token hexnumber string">$C3</span> <span class="token comment">; $B0</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$2C</span>,<span class="token hexnumber string">$2E</span>,<span class="token hexnumber string">$2D</span>,<span class="token hexnumber string">$2F</span> <span class="token comment">; $B4</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$8E</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8E</span> <span class="token comment">; $B8</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$88</span>,<span class="token hexnumber string">$8A</span>,<span class="token hexnumber string">$89</span>,<span class="token hexnumber string">$8B</span> <span class="token comment">; $BC</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$89</span>,<span class="token hexnumber string">$8B</span>,<span class="token hexnumber string">$89</span>,<span class="token hexnumber string">$8B</span> <span class="token comment">; $C0</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$89</span>,<span class="token hexnumber string">$8B</span>,<span class="token hexnumber string">$8C</span>,<span class="token hexnumber string">$8D</span> <span class="token comment">; $C4</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$88</span>,<span class="token hexnumber string">$8A</span>,<span class="token hexnumber string">$8C</span>,<span class="token hexnumber string">$8D</span> <span class="token comment">; $C8</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$88</span>,<span class="token hexnumber string">$8A</span>,<span class="token hexnumber string">$89</span>,<span class="token hexnumber string">$8B</span> <span class="token comment">; $CC</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$88</span>,<span class="token hexnumber string">$8A</span>,<span class="token hexnumber string">$89</span>,<span class="token hexnumber string">$8B</span> <span class="token comment">; $D0</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6A</span>,<span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$6B</span>,<span class="token hexnumber string">$6D</span> <span class="token comment">; $D4</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$6D</span>,<span class="token hexnumber string">$6D</span> <span class="token comment">; $D8</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$6E</span>,<span class="token hexnumber string">$6D</span>,<span class="token hexnumber string">$6F</span> <span class="token comment">; $DC</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$54</span>,<span class="token hexnumber string">$6D</span>,<span class="token hexnumber string">$55</span> <span class="token comment">; $E0</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$32</span>,<span class="token hexnumber string">$34</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span> <span class="token comment">; $E4</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span> <span class="token comment">; $E8</span>

UnusedTileQuads<span class="token decimalnumber string">3</span>:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$94</span>,<span class="token hexnumber string">$95</span>,<span class="token hexnumber string">$94</span>,<span class="token hexnumber string">$95</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$96</span>,<span class="token hexnumber string">$97</span>,<span class="token hexnumber string">$96</span>,<span class="token hexnumber string">$97</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$48</span>,<span class="token hexnumber string">$49</span>,<span class="token hexnumber string">$48</span>,<span class="token hexnumber string">$49</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$32</span>,<span class="token hexnumber string">$32</span>,<span class="token hexnumber string">$33</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$33</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$34</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$34</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$30</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$FB</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$31</span>,<span class="token hexnumber string">$FB</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D0</span>,<span class="token hexnumber string">$D0</span>,<span class="token hexnumber string">$D0</span>,<span class="token hexnumber string">$D0</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D1</span>,<span class="token hexnumber string">$D1</span>,<span class="token hexnumber string">$D1</span>,<span class="token hexnumber string">$D1</span> <span class="token comment">; $2C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$64</span>,<span class="token hexnumber string">$66</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$67</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$68</span>,<span class="token hexnumber string">$6A</span>,<span class="token hexnumber string">$69</span>,<span class="token hexnumber string">$6B</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$6C</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$6C</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$6D</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$6D</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $3C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$92</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$92</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AE</span>,<span class="token hexnumber string">$AF</span>,<span class="token hexnumber string">$AE</span>,<span class="token hexnumber string">$AF</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$78</span>,<span class="token hexnumber string">$7A</span>,<span class="token hexnumber string">$79</span>,<span class="token hexnumber string">$7B</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A8</span>,<span class="token hexnumber string">$A8</span>,<span class="token hexnumber string">$AF</span>,<span class="token hexnumber string">$AE</span> <span class="token comment">; $4C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$94</span>,<span class="token hexnumber string">$95</span>,<span class="token hexnumber string">$94</span>,<span class="token hexnumber string">$95</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$96</span>,<span class="token hexnumber string">$97</span>,<span class="token hexnumber string">$96</span>,<span class="token hexnumber string">$97</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$22</span>,<span class="token hexnumber string">$24</span>,<span class="token hexnumber string">$23</span>,<span class="token hexnumber string">$25</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$92</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$92</span> <span class="token comment">; $5C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$50</span>,<span class="token hexnumber string">$51</span>,<span class="token hexnumber string">$50</span>,<span class="token hexnumber string">$51</span> <span class="token comment">; $60</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AE</span>,<span class="token hexnumber string">$AF</span>,<span class="token hexnumber string">$AE</span>,<span class="token hexnumber string">$AF</span> <span class="token comment">; $64</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$50</span>,<span class="token hexnumber string">$51</span>,<span class="token hexnumber string">$50</span>,<span class="token hexnumber string">$51</span> <span class="token comment">; $68</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$8E</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8E</span> <span class="token comment">; $6C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$72</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$72</span> <span class="token comment">; $70</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$50</span>,<span class="token hexnumber string">$52</span>,<span class="token hexnumber string">$51</span>,<span class="token hexnumber string">$53</span> <span class="token comment">; $74</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span> <span class="token comment">; $78</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FB</span>,<span class="token hexnumber string">$36</span>,<span class="token hexnumber string">$36</span>,<span class="token hexnumber string">$4F</span> <span class="token comment">; $7C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4F</span>,<span class="token hexnumber string">$4E</span>,<span class="token hexnumber string">$4E</span>,<span class="token hexnumber string">$4F</span> <span class="token comment">; $80</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4E</span>,<span class="token hexnumber string">$4F</span>,<span class="token hexnumber string">$4F</span>,<span class="token hexnumber string">$4E</span> <span class="token comment">; $84</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$92</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$93</span>,<span class="token hexnumber string">$92</span> <span class="token comment">; $88</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$8E</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8E</span> <span class="token comment">; $8C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$44</span>,<span class="token hexnumber string">$45</span>,<span class="token hexnumber string">$45</span>,<span class="token hexnumber string">$44</span> <span class="token comment">; $90</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4F</span>,<span class="token hexnumber string">$37</span>,<span class="token hexnumber string">$4E</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $94</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4F</span>,<span class="token hexnumber string">$3A</span>,<span class="token hexnumber string">$4E</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $98</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4F</span>,<span class="token hexnumber string">$4E</span>,<span class="token hexnumber string">$37</span>,<span class="token hexnumber string">$38</span> <span class="token comment">; $9C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$4A</span>,<span class="token hexnumber string">$4B</span>,<span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$FE</span> <span class="token comment">; $A0</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$72</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$4A</span>,<span class="token hexnumber string">$4B</span> <span class="token comment">; $A4</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$40</span>,<span class="token hexnumber string">$42</span>,<span class="token hexnumber string">$41</span>,<span class="token hexnumber string">$43</span> <span class="token comment">; $A8</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$41</span>,<span class="token hexnumber string">$43</span>,<span class="token hexnumber string">$41</span>,<span class="token hexnumber string">$43</span> <span class="token comment">; $AC</span>

UnusedTileQuads<span class="token decimalnumber string">4</span>:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$40</span>,<span class="token hexnumber string">$42</span>,<span class="token hexnumber string">$41</span>,<span class="token hexnumber string">$43</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$40</span>,<span class="token hexnumber string">$42</span>,<span class="token hexnumber string">$41</span>,<span class="token hexnumber string">$43</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$BA</span>,<span class="token hexnumber string">$BC</span>,<span class="token hexnumber string">$BB</span>,<span class="token hexnumber string">$BD</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$BA</span>,<span class="token hexnumber string">$BC</span>,<span class="token hexnumber string">$90</span>,<span class="token hexnumber string">$91</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$FA</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span>,<span class="token hexnumber string">$FD</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$61</span>,<span class="token hexnumber string">$63</span>,<span class="token hexnumber string">$61</span>,<span class="token hexnumber string">$63</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$63</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$63</span> <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$67</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$67</span> <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$60</span>,<span class="token hexnumber string">$62</span>,<span class="token hexnumber string">$61</span>,<span class="token hexnumber string">$63</span> <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$32</span>,<span class="token hexnumber string">$34</span>,<span class="token hexnumber string">$33</span>,<span class="token hexnumber string">$35</span> <span class="token comment">; $2C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$64</span>,<span class="token hexnumber string">$62</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$63</span> <span class="token comment">; $30</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$36</span>,<span class="token hexnumber string">$34</span>,<span class="token hexnumber string">$37</span>,<span class="token hexnumber string">$35</span> <span class="token comment">; $34</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$64</span>,<span class="token hexnumber string">$66</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$67</span> <span class="token comment">; $38</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$36</span>,<span class="token hexnumber string">$38</span>,<span class="token hexnumber string">$37</span>,<span class="token hexnumber string">$39</span> <span class="token comment">; $3C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$68</span>,<span class="token hexnumber string">$62</span>,<span class="token hexnumber string">$61</span>,<span class="token hexnumber string">$63</span> <span class="token comment">; $40</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$64</span>,<span class="token hexnumber string">$69</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$67</span> <span class="token comment">; $44</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$46</span>,<span class="token hexnumber string">$62</span>,<span class="token hexnumber string">$61</span>,<span class="token hexnumber string">$63</span> <span class="token comment">; $48</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$64</span>,<span class="token hexnumber string">$47</span>,<span class="token hexnumber string">$65</span>,<span class="token hexnumber string">$67</span> <span class="token comment">; $4C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$BA</span>,<span class="token hexnumber string">$BC</span>,<span class="token hexnumber string">$BB</span>,<span class="token hexnumber string">$BD</span> <span class="token comment">; $50</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$70</span>,<span class="token hexnumber string">$72</span>,<span class="token hexnumber string">$71</span>,<span class="token hexnumber string">$73</span> <span class="token comment">; $54</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$8E</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8F</span>,<span class="token hexnumber string">$8E</span> <span class="token comment">; $58</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$72</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$73</span>,<span class="token hexnumber string">$72</span> <span class="token comment">; $5C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$44</span>,<span class="token hexnumber string">$45</span>,<span class="token hexnumber string">$45</span>,<span class="token hexnumber string">$44</span> <span class="token comment">; $60</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l896" href="#l896" title="Link to line 896">#</a><code>&nbsp;</code></pre><aside><h2>Object creation routine selection</h2>
<p>Object types are grouped into <code>$10</code> value ranges, where the upper nybble determines which routine
or jump table to use.</p>
&nbsp;</aside><pre><a name="l904" href="#l904" title="Link to line 904">#</a><code>&nbsp;</code></pre><aside><h3>Length-based object table</h3>
<p>The <code>$3X-$FX</code> range is used for objects that specify a type in the upper nybble and length in the
lower nybble, including runs of horizontal or vertical blocks, platforms, and waterfalls.</p>
&nbsp;</aside><pre><a name="l911" href="#l911" title="Link to line 911">#</a><code>CreateObjects_<span class="token decimalnumber string">30</span>thruF<span class="token decimalnumber string">0</span>:
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> CreateObject_HorizontalBlocks <span class="token comment">; $3X</span>
	<span class="token directive keyword">.dw</span> CreateObject_HorizontalBlocks <span class="token comment">; $4X</span>
	<span class="token directive keyword">.dw</span> CreateObject_HorizontalBlocks <span class="token comment">; $5X</span>
	<span class="token directive keyword">.dw</span> CreateObject_HorizontalBlocks <span class="token comment">; $6X</span>
	<span class="token directive keyword">.dw</span> CreateObject_HorizontalBlocks <span class="token comment">; $7X</span>
	<span class="token directive keyword">.dw</span> CreateObject_VerticalBlocks <span class="token comment">; $8X</span>
	<span class="token directive keyword">.dw</span> CreateObject_VerticalBlocks <span class="token comment">; $9X</span>
	<span class="token directive keyword">.dw</span> CreateObject_VerticalBlocks <span class="token comment">; $AX</span>
IFNDEF ENABLE_LEVEL_OBJECT_MODE
	<span class="token directive keyword">.dw</span> CreateObject_WhaleOrDrawBridgeChain <span class="token comment">; $BX</span>
	<span class="token directive keyword">.dw</span> CreateObject_JumpthroughPlatform <span class="token comment">; $CX</span>
ELSE
	<span class="token directive keyword">.dw</span> CreateObject_Platform_BX <span class="token comment">; $BX</span>
	<span class="token directive keyword">.dw</span> CreateObject_Platform_CX <span class="token comment">; $CX</span>
ENDIF
	<span class="token directive keyword">.dw</span> CreateObject_HorizontalPlatform <span class="token comment">; $DX</span>
	<span class="token directive keyword">.dw</span> CreateObject_HorizontalPlatform <span class="token comment">; $EX</span>
	<span class="token directive keyword">.dw</span> CreateObject_WaterfallOrFrozenRocks <span class="token comment">; $FX</span>
&nbsp;</code></pre><aside><h3>Single object tables</h3>
<p>The <code>$0X-$2X</code> range is used for various single-block and one-off objects, such a mushroom blocks,
standable vines, doors, and vertical objects that extend all the way to the ground.</p>
&nbsp;</aside><pre><a name="l939" href="#l939" title="Link to line 939">#</a><code>CreateObjects_<span class="token decimalnumber string">00</span>:
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> CreateObject_SingleBlock <span class="token comment">; $00</span>
	<span class="token directive keyword">.dw</span> CreateObject_SingleBlock <span class="token comment">; $01</span>
	<span class="token directive keyword">.dw</span> CreateObject_SingleBlock <span class="token comment">; $02</span>
	<span class="token directive keyword">.dw</span> CreateObject_SingleBlock <span class="token comment">; $03</span>
	<span class="token directive keyword">.dw</span> CreateObject_SingleBlock <span class="token comment">; $04</span>
IFNDEF LEVEL_ENGINE_UPGRADES
	<span class="token directive keyword">.dw</span> CreateObject_SingleBlock <span class="token comment">; $05</span>
ELSE
	<span class="token directive keyword">.dw</span> CreateObject_StandableAutomatic <span class="token comment">; $05</span>
ENDIF
	<span class="token directive keyword">.dw</span> CreateObject_Vase <span class="token comment">; $06</span>
	<span class="token directive keyword">.dw</span> CreateObject_Vase <span class="token comment">; $07</span>
	<span class="token directive keyword">.dw</span> CreateObject_Vase <span class="token comment">; $08</span>
	<span class="token directive keyword">.dw</span> CreateObject_Door <span class="token comment">; $09</span>
	<span class="token directive keyword">.dw</span> CreateObject_Door <span class="token comment">; $0A</span>
	<span class="token directive keyword">.dw</span> CreateObject_Door <span class="token comment">; $0B</span>
	<span class="token directive keyword">.dw</span> CreateObject_Vine <span class="token comment">; $0C</span>
	<span class="token directive keyword">.dw</span> CreateObject_Vine <span class="token comment">; $0D</span>
	<span class="token directive keyword">.dw</span> CreateObject_StarBackground <span class="token comment">; $0E</span>
	<span class="token directive keyword">.dw</span> CreateObject_Pillar <span class="token comment">; $0F</span>

CreateObjects_<span class="token decimalnumber string">10</span>:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> CreateObject_BigCloud <span class="token comment">; $10</span>
	<span class="token directive keyword">.dw</span> CreateObject_SmallCloud <span class="token comment">; $11</span>
	<span class="token directive keyword">.dw</span> CreateObject_VineBottom <span class="token comment">; $12</span>
	<span class="token directive keyword">.dw</span> CreateObject_LightEntranceRight <span class="token comment">; $13</span>
	<span class="token directive keyword">.dw</span> CreateObject_LightEntranceLeft <span class="token comment">; $14</span>
	<span class="token directive keyword">.dw</span> CreateObject_Tall <span class="token comment">; $15</span>
	<span class="token directive keyword">.dw</span> CreateObject_Tall <span class="token comment">; $16</span>
	<span class="token directive keyword">.dw</span> CreateObject_Pyramid <span class="token comment">; $17</span>
	<span class="token directive keyword">.dw</span> CreateObject_Wall <span class="token comment">; $18</span>
	<span class="token directive keyword">.dw</span> CreateObject_Wall <span class="token comment">; $19</span>
	<span class="token directive keyword">.dw</span> CreateObject_Horn <span class="token comment">; $1A</span>
	<span class="token directive keyword">.dw</span> CreateObject_DrawBridgeChain <span class="token comment">; $1B</span>
	<span class="token directive keyword">.dw</span> CreateObject_Door <span class="token comment">; $1C</span>
	<span class="token directive keyword">.dw</span> CreateObject_Door <span class="token comment">; $1D</span>
	<span class="token directive keyword">.dw</span> CreateObject_RockWallEntrance <span class="token comment">; $1E</span>
	<span class="token directive keyword">.dw</span> CreateObject_TreeBackground <span class="token comment">; $1F</span>

CreateObjects_<span class="token decimalnumber string">20</span>:
	<span class="token opcode property">JMP</span> CreateObject_SingleObject


&nbsp;</code></pre><aside><h2>World object tiles</h2>
<p>The repeating blocks in the <code>$3X-$AX</code> range are specified per world in these
lookup tables. Each world has 4 values for each object type, which are
selected using byte 3 of the area header.</p>
<p><code>$3X-$9X</code> is specified using <code>%......XX</code> in byte 3 of the header.
<code>$AX</code> (ladder/chain) is specified using <code>%....XX..</code> in byte 3 of the header.</p>
&nbsp;</aside><pre><a name="l998" href="#l998" title="Link to line 998">#</a><code>WorldObjectTilePointersLo:
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">1</span>ObjectTiles
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">2</span>ObjectTiles
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">3</span>ObjectTiles
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">4</span>ObjectTiles
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">5</span>ObjectTiles
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">6</span>ObjectTiles
	<span class="token directive keyword">.db</span> &#x3C;World<span class="token decimalnumber string">7</span>ObjectTiles

WorldObjectTilePointersHi:
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">1</span>ObjectTiles
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">2</span>ObjectTiles
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">3</span>ObjectTiles
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">4</span>ObjectTiles
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">5</span>ObjectTiles
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">6</span>ObjectTiles
	<span class="token directive keyword">.db</span> >World<span class="token decimalnumber string">7</span>ObjectTiles

World<span class="token decimalnumber string">1</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$97</span>, <span class="token hexnumber string">$92</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$12</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>

World<span class="token decimalnumber string">2</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$96</span>, <span class="token hexnumber string">$92</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$12</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>

World<span class="token decimalnumber string">3</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$97</span>, <span class="token hexnumber string">$92</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$12</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$1C</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$00</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$A2</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>

World<span class="token decimalnumber string">4</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$92</span>, <span class="token hexnumber string">$16</span>, <span class="token hexnumber string">$12</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$A2</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$1F</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>

World<span class="token decimalnumber string">5</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$97</span>, <span class="token hexnumber string">$92</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$12</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$99</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A4</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>

World<span class="token decimalnumber string">6</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$96</span>, <span class="token hexnumber string">$92</span>, <span class="token hexnumber string">$93</span>, <span class="token hexnumber string">$12</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span>, <span class="token hexnumber string">$1C</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$40</span>, <span class="token hexnumber string">$9D</span>, <span class="token hexnumber string">$18</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>

World<span class="token decimalnumber string">7</span>ObjectTiles:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$68</span>, <span class="token hexnumber string">$12</span>, <span class="token hexnumber string">$9D</span> <span class="token comment">; 3X (horizontal jump-through block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$67</span>, <span class="token hexnumber string">$64</span>, <span class="token hexnumber string">$69</span> <span class="token comment">; 4X (horizontal solid block)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span>, <span class="token hexnumber string">$45</span> <span class="token comment">; 5X (small veggie grass)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span>, <span class="token hexnumber string">$65</span> <span class="token comment">; 6X (bridge)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span>, <span class="token hexnumber string">$1A</span> <span class="token comment">; 7X (spikes)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span>, <span class="token hexnumber string">$9C</span> <span class="token comment">; 8X (vertical wall, eg. rock, bombable)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span>, <span class="token hexnumber string">$A0</span> <span class="token comment">; 9X (vertical wall, eg. rock with angle)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>, <span class="token hexnumber string">$07</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$80</span> <span class="token comment">; AX (ladder, chain)</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span>, <span class="token hexnumber string">$81</span> <span class="token comment">; AX over background (ladder with shadow)</span>


&nbsp;</code></pre><aside><h2>Object creation routines</h2>
<p>These routines are responsible for turning an object in the level data into a set of tiles that
are applied to the raw tile buffer.</p>
<p>Some are specific one-offs to draw a particular object, where as otherws are generic routines,
such as drawing an <em>n</em>-tile row or column of tile <em>x</em>. Many fall somewhere in-between.</p>
&nbsp;</aside><pre><a name="l1104" href="#l1104" title="Link to line 1104">#</a><code>IFDEF LEVEL_ENGINE_UPGRADES&nbsp;</code></pre><aside><h4>Automatic climbable tile generation</h4>
&nbsp;</aside><pre><a name="l1109" href="#l1109" title="Link to line 1109">#</a><code>ClimbableTileSearch:
	<span class="token directive keyword">.db</span> BackgroundTile_LadderShadow
	<span class="token directive keyword">.db</span> BackgroundTile_Ladder
	<span class="token directive keyword">.db</span> BackgroundTile_Chain
	<span class="token directive keyword">.db</span> BackgroundTile_Vine

ClimbableTilePlatform:
	<span class="token directive keyword">.db</span> BackgroundTile_LadderStandableShadow
	<span class="token directive keyword">.db</span> BackgroundTile_LadderStandable
	<span class="token directive keyword">.db</span> BackgroundTile_ChainStandable
	<span class="token directive keyword">.db</span> BackgroundTile_VineStandable

&nbsp;</code></pre><aside><p>Find the corresponding climbable tile</p>
<h5>Input</h5>
<ul>
<li><code>A</code>: search tile</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>A</code>: replace tile</li>
<li><code>C</code>: set if a match was found</li>
</ul>
&nbsp;</aside><pre><a name="l1132" href="#l1132" title="Link to line 1132">#</a><code>FindClimableTile:
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> #(ClimbableTilePlatform - ClimbableTileSearch - <span class="token decimalnumber string">1</span>)

FindClimableTile_Loop:
	<span class="token opcode property">CMP</span> ClimbableTileSearch, <span class="token register variable">X</span>
	<span class="token opcode property">BEQ</span> FindClimableTile_LoadReplacement

	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> FindClimableTile_Loop

	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">RTS</span>

FindClimableTile_LoadReplacement:
	<span class="token opcode property">LDA</span> ClimbableTilePlatform, <span class="token register variable">X</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Creates a climbable tile that you can stand on based on <code>ObjectTypeAXthruFX</code>.</p>
<h5>Output</h5>
<ul>
<li><code>A</code>: tile that was written</li>
</ul>
&nbsp;</aside><pre><a name="l1158" href="#l1158" title="Link to line 1158">#</a><code>CreateObject_StandableObjectType:
	<span class="token opcode property">LDA</span> ObjectTypeAXthruFX
	<span class="token opcode property">BEQ</span> CreateObject_StandableObjectType_TableOffset
&nbsp;</code></pre><aside><p>Offset for shadow</p>
&nbsp;</aside><pre><a name="l1163" href="#l1163" title="Link to line 1163">#</a><code>	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$04</span>

CreateObject_StandableObjectType_TableOffset:&nbsp;</code></pre><aside><p>Offset to ladder/chain object definition</p>
&nbsp;</aside><pre><a name="l1168" href="#l1168" title="Link to line 1168">#</a><code>	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$1C</span>
	<span class="token opcode property">TAX</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDX</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> WorldObjectTilePointersLo, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_C
	<span class="token opcode property">LDA</span> WorldObjectTilePointersHi, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_D
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> (byte_RAM_C), <span class="token register variable">Y</span>
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>

	<span class="token opcode property">JSR</span> FindClimableTile

	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Creates a climbable tile that you can stand on based on the based on the tile underneath.</p>
<h5>Output</h5>
<ul>
<li><code>A</code>: tile that was written</li>
</ul>
&nbsp;</aside><pre><a name="l1195" href="#l1195" title="Link to line 1195">#</a><code>CreateObject_StandableAutomatic:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

	<span class="token opcode property">JSR</span> FindClimableTile
	<span class="token opcode property">BCC</span> CreateObject_StandableObjectType

	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>
ENDIF

&nbsp;</code></pre><aside><p>Places a tile using the world-specific tile lookup table.</p>
<h5>Input</h5>
<ul>
<li><code>Y</code>: destination tile</li>
<li><code>byte_RAM_50E</code>: type of object to create (upper nybble of level object minus 3)</li>
</ul>
<pre><code>$00 = jumpthrough block
$01 = solid block
$02 = grass
$03 = bridge
$04 = spikes
$05 = vertical rock
$06 = vertical rock with angle
$07 = ladder
$08 = whale
$09 = jumpthrough platform
$0A = log platform
$0B = cloud platform
$0C = waterfall
</code></pre>
<h5>Output</h5>
<ul>
<li><code>A</code>: tile that was written</li>
</ul>
&nbsp;</aside><pre><a name="l1233" href="#l1233" title="Link to line 1233">#</a><code>CreateWorldSpecificTile:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> byte_RAM_F
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$07</span>
	<span class="token opcode property">BCC</span> CreateWorldSpecificTile_<span class="token decimalnumber string">3</span>Xthru<span class="token decimalnumber string">9</span><span class="token register variable">X</span>

CreateWorldSpecificTile_AXthruFX:
	<span class="token opcode property">LDA</span> ObjectTypeAXthruFX
	<span class="token opcode property">JMP</span> CreateWorldSpecificTile_ApplyObjectType

CreateWorldSpecificTile_<span class="token decimalnumber string">3</span>Xthru<span class="token decimalnumber string">9</span><span class="token register variable">X</span>:
	<span class="token opcode property">LDA</span> ObjectType<span class="token decimalnumber string">3</span>Xthru<span class="token decimalnumber string">9</span><span class="token register variable">X</span>

CreateWorldSpecificTile_ApplyObjectType:
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> byte_RAM_F
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">BNE</span> CreateWorldSpecificTile_LookUpTile
&nbsp;</code></pre><aside><p>bridge casts a shadow on background bricks</p>
&nbsp;</aside><pre><a name="l1258" href="#l1258" title="Link to line 1258">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_BackgroundBrick
	<span class="token opcode property">BNE</span> CreateWorldSpecificTile_LookUpTile

	<span class="token opcode property">LDA</span> #BackgroundTile_BridgeShadow
	<span class="token opcode property">BNE</span> CreateWorldSpecificTile_Exit

CreateWorldSpecificTile_LookUpTile:
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDX</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> WorldObjectTilePointersLo, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_C
	<span class="token opcode property">LDA</span> WorldObjectTilePointersHi, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_D
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> (byte_RAM_C), <span class="token register variable">Y</span>
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>

CreateWorldSpecificTile_Exit:
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Creates a horizontal run of blocks</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_50D</code>: number of blocks to create</li>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l1290" href="#l1290" title="Link to line 1290">#</a><code>CreateObject_HorizontalBlocks:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>

CreateObject_HorizontalBlocks_Loop:
	<span class="token opcode property">JSR</span> CreateWorldSpecificTile

	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BPL</span> CreateObject_HorizontalBlocks_Loop

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Creates a light entrance with the trail facing right</p>
<p>World 6 has some extra logic to make the entrance extend down to the floor.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l1312" href="#l1312" title="Link to line 1312">#</a><code>CreateObject_LightEntranceRight:
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BNE</span> CreateObject_LightEntranceRight_NotWorld<span class="token decimalnumber string">6</span>

	<span class="token opcode property">JMP</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>

CreateObject_LightEntranceRight_NotWorld<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightDoor
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrailRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightDoor
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrail
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrailRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

IFNDEF DISABLE_DOOR_POINTERS
	<span class="token opcode property">LDA</span> CurrentWorld
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BEQ</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>or<span class="token decimalnumber string">7</span>Exit

	<span class="token opcode property">LDA</span> CurrentWorld
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BEQ</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>or<span class="token decimalnumber string">7</span>Exit

	<span class="token opcode property">JSR</span> LevelParser_EatDoorPointer
ENDIF

CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>or<span class="token decimalnumber string">7</span>Exit:
	<span class="token opcode property">RTS</span>

CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>

CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>Loop:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>_Exit

	<span class="token opcode property">LDA</span> #BackgroundTile_LightDoor
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">TAX</span>

CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>InnerLoop:
	<span class="token opcode property">CPX</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">BEQ</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>_TrailRight

	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrail
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEX</span>
	<span class="token opcode property">JMP</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>InnerLoop

CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>_TrailRight:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrailRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>Loop

CreateObject_LightEntranceRight_World<span class="token decimalnumber string">6</span>_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Creates a light entrance with the trail facing left</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l1402" href="#l1402" title="Link to line 1402">#</a><code>CreateObject_LightEntranceLeft:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightDoor
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrailLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightDoor
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrail
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_LightTrailLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

IFNDEF DISABLE_DOOR_POINTERS
	<span class="token opcode property">LDA</span> CurrentWorld
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BEQ</span> CreateObject_LightEntranceLeft_World<span class="token decimalnumber string">6</span>or<span class="token decimalnumber string">7</span>Exit

	<span class="token opcode property">LDA</span> CurrentWorld
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BEQ</span> CreateObject_LightEntranceLeft_World<span class="token decimalnumber string">6</span>or<span class="token decimalnumber string">7</span>Exit

	<span class="token opcode property">JSR</span> LevelParser_EatDoorPointer
ENDIF

CreateObject_LightEntranceLeft_World<span class="token decimalnumber string">6</span>or<span class="token decimalnumber string">7</span>Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Creates a vertical run of blocks.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_50D</code>: number of blocks to create</li>
<li><code>byte_RAM_50E</code>: type of object to create (upper nybble of level object minus 3)</li>
</ul>
<pre><code>$00 = jumpthrough block
$01 = solid block
$02 = grass
$03 = bridge
$04 = spikes
$05 = vertical rock
$06 = vertical rock with angle
$07 = ladder
$08 = whale
$09 = jumpthrough platform
$0A = log platform
$0B = cloud platform
$0C = waterfall
</code></pre>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l1463" href="#l1463" title="Link to line 1463">#</a><code>CreateObject_VerticalBlocks:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>

IFNDEF LEVEL_ENGINE_UPGRADES&nbsp;</code></pre><aside><p>This little hack is used to show the pile of rocks behind ClawGrip in his boss
room. If we're currently in 5-2, area 5, the vertical rock wall with an angled
top is replaced by ClawGrip's rocks instead.</p>
<p>The level/area check is important! If you go into one of the duplicates of the
boss room, you'll see the angled rock wall instead.</p>
&nbsp;</aside><pre><a name="l1475" href="#l1475" title="Link to line 1475">#</a><code>	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> CreateObject_VerticalBlocks_NotClawGrip

	<span class="token opcode property">LDA</span> CurrentLevel
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$0E</span>
	<span class="token opcode property">BNE</span> CreateObject_VerticalBlocks_NotClawGrip

	<span class="token opcode property">LDA</span> CurrentLevelArea
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BNE</span> CreateObject_VerticalBlocks_NotClawGrip

CreateObject_VerticalBlocks_ClawGripRockLoop:
	<span class="token opcode property">LDA</span> #BackgroundTile_ClawGripRock
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BPL</span> CreateObject_VerticalBlocks_ClawGripRockLoop

	<span class="token opcode property">RTS</span>
ENDIF

CreateObject_VerticalBlocks_NotClawGrip:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> CreateObject_VerticalBlocks_Normal

IFNDEF LEVEL_ENGINE_UPGRADES
	<span class="token opcode property">LDA</span> #BackgroundTile_RockWallAngle
ELSE&nbsp;</code></pre><aside><p>Use the previous tile for the top of the column UNLESS we're using a sky
tile or have set an object type for in the level header.</p>
<p>This supports creating a normal vertical block run for $9X as well as the
special rock wall with an angled top.</p>
&nbsp;</aside><pre><a name="l1513" href="#l1513" title="Link to line 1513">#</a><code>	<span class="token opcode property">LDX</span> ObjectType<span class="token decimalnumber string">3</span>Xthru<span class="token decimalnumber string">9</span><span class="token register variable">X</span>
	<span class="token opcode property">BNE</span> CreateObject_VerticalBlocks_Normal
	<span class="token opcode property">JSR</span> CreateWorldSpecificTile
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BEQ</span> CreateObject_VerticalBlocks_NextRow
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$00</span>
ENDIF
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JMP</span> CreateObject_VerticalBlocks_NextRow

CreateObject_VerticalBlocks_Normal:
	<span class="token opcode property">JSR</span> CreateWorldSpecificTile

CreateObject_VerticalBlocks_NextRow:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BPL</span> CreateObject_VerticalBlocks_Normal

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup tables for single blocks</p>
<p>Each the lower nybble of the object type is used as the offset, except for the
standable ladder, which is described in the subroutine below.</p>
&nbsp;</aside><pre><a name="l1542" href="#l1542" title="Link to line 1542">#</a><code>World<span class="token decimalnumber string">1</span>thru<span class="token decimalnumber string">6</span>SingleBlocks:
	<span class="token directive keyword">.db</span> BackgroundTile_MushroomBlock
	<span class="token directive keyword">.db</span> BackgroundTile_POWBlock
	<span class="token directive keyword">.db</span> BackgroundTile_BombableBrick
	<span class="token directive keyword">.db</span> BackgroundTile_VineStandable
	<span class="token directive keyword">.db</span> BackgroundTile_JarSmall
	<span class="token directive keyword">.db</span> BackgroundTile_LadderStandable
	<span class="token directive keyword">.db</span> BackgroundTile_LadderStandableShadow

World<span class="token decimalnumber string">7</span>SingleBlocks:
	<span class="token directive keyword">.db</span> BackgroundTile_MushroomBlock
	<span class="token directive keyword">.db</span> BackgroundTile_POWBlock
	<span class="token directive keyword">.db</span> BackgroundTile_BombableBrick
	<span class="token directive keyword">.db</span> BackgroundTile_ChainStandable
	<span class="token directive keyword">.db</span> BackgroundTile_JarSmall
	<span class="token directive keyword">.db</span> BackgroundTile_LadderStandable
	<span class="token directive keyword">.db</span> BackgroundTile_LadderStandableShadow

&nbsp;</code></pre><aside><p>Creates a single block</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_50E</code>: object type to use as an offset in the lookup table</li>
</ul>
&nbsp;</aside><pre><a name="l1567" href="#l1567" title="Link to line 1567">#</a><code>CreateObject_SingleBlock:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">TAX</span>
&nbsp;</code></pre><aside><p>Object <code>$05</code> is a single ladder tile that the player can stand on.</p>
<p>When <code>ObjectTypeAXthruFX</code> is set, it is given a shadow. This works by
incrementing the offset by one so that object <code>$05</code> ends up using offset <code>$06</code>
in the lookup table!</p>
&nbsp;</aside><pre><a name="l1578" href="#l1578" title="Link to line 1578">#</a><code>	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BNE</span> CreateObject_SingleBlock_NotLadderStandable

	<span class="token opcode property">LDA</span> ObjectTypeAXthruFX
	<span class="token opcode property">BEQ</span> CreateObject_SingleBlock_NotLadderStandable

	<span class="token opcode property">INX</span>

CreateObject_SingleBlock_NotLadderStandable:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>&nbsp;</code></pre><aside><p>World 7 gets its own lookup table for climbable chains instead of vines</p>
&nbsp;</aside><pre><a name="l1589" href="#l1589" title="Link to line 1589">#</a><code>	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> CreateObject_SingleBlock_NotWorld<span class="token decimalnumber string">7</span>

CreateObject_SingleBlock_World<span class="token decimalnumber string">7</span>:
	<span class="token opcode property">LDA</span> World<span class="token decimalnumber string">7</span>SingleBlocks, <span class="token register variable">X</span>
	<span class="token opcode property">JMP</span> CreateObject_SingleBlock_Exit

CreateObject_SingleBlock_NotWorld<span class="token decimalnumber string">7</span>:
	<span class="token opcode property">LDA</span> World<span class="token decimalnumber string">1</span>thru<span class="token decimalnumber string">6</span>SingleBlocks, <span class="token register variable">X</span>

CreateObject_SingleBlock_Exit:
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Horizontal platform lookup tables. Choose between logs and clouds.</p>
&nbsp;</aside><pre><a name="l1608" href="#l1608" title="Link to line 1608">#</a><code>HorizontalPlatformLeftTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogLeft
	<span class="token directive keyword">.db</span> BackgroundTile_CloudLeft
HorizontalPlatformMiddleTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_CloudMiddle
HorizontalPlatformRightTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogRight
	<span class="token directive keyword">.db</span> BackgroundTile_CloudRight
&nbsp;</code></pre><aside><p>Creates a horizontal platform with special tiles for the endcaps.</p>
<p>The log platforms and jump-through cloud platforms both use this.</p>
&nbsp;</aside><pre><a name="l1623" href="#l1623" title="Link to line 1623">#</a><code>CreateObject_HorizontalPlatform:
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$04</span>
	<span class="token opcode property">BNE</span> CreateObject_HorizontalPlatform_NotWorld<span class="token decimalnumber string">5</span>
&nbsp;</code></pre><aside><p>In World 5, we want to do some special stuff to make the logs look like
branches coming out of the tree trunk background.</p>
&nbsp;</aside><pre><a name="l1630" href="#l1630" title="Link to line 1630">#</a><code>	<span class="token opcode property">JMP</span> CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>

CreateObject_HorizontalPlatform_NotWorld<span class="token decimalnumber string">5</span>:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> HorizontalPlatformLeftTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BEQ</span> CreateObject_HorizontalPlatform_Exit

CreateObject_HorizontalPlatform_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> HorizontalPlatformMiddleTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BNE</span> CreateObject_HorizontalPlatform_Loop

CreateObject_HorizontalPlatform_Exit:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> HorizontalPlatformRightTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for the big green platforms.</p>
&nbsp;</aside><pre><a name="l1662" href="#l1662" title="Link to line 1662">#</a><code>GreenPlatformTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopLeft
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTop
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopRight
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformLeft
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformRight
&nbsp;</code></pre><aside><p>These are the background tiles that the green platforms are allowed to overwrite.
Any other tiles will stop the green platform from extending to the bottom of the page.</p>
&nbsp;</aside><pre><a name="l1672" href="#l1672" title="Link to line 1672">#</a><code>GreenPlatformOverwriteTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Sky
	<span class="token directive keyword">.db</span> BackgroundTile_WaterfallTop
	<span class="token directive keyword">.db</span> BackgroundTile_Waterfall
IFDEF LEVEL_ENGINE_UPGRADES
	<span class="token directive keyword">.db</span> BackgroundTile_WaterfallSplash
	<span class="token directive keyword">.db</span> BackgroundTile_Water
	<span class="token directive keyword">.db</span> BackgroundTile_WaterTop
ENDIF
GreenPlatformTiles_End:


IFNDEF ENABLE_LEVEL_OBJECT_MODE&nbsp;</code></pre><aside><p>Draws the typical green hill platforms in Worlds 1 through 6 or the mushroom
house platforms in World 7.</p>
&nbsp;</aside><pre><a name="l1689" href="#l1689" title="Link to line 1689">#</a><code>CreateObject_JumpthroughPlatform:
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> CreateObject_GreenJumpthroughPlatform

	<span class="token opcode property">JMP</span> CreateObject_MushroomJumpthroughPlatform
ELSE
CreateObject_Platform_CX:
	<span class="token opcode property">LDA</span> LevelObjectMode
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> CreateObject_GreenJumpthroughPlatform
	<span class="token directive keyword">.dw</span> CreateObject_GreenJumpthroughPlatform
	<span class="token directive keyword">.dw</span> CreateObject_Whale
	<span class="token directive keyword">.dw</span> CreateObject_MushroomJumpthroughPlatform
ENDIF

&nbsp;</code></pre><aside><h4>Green platforms</h4>
<p>Creates the typical (usually) green hill platforms used throughout World 1 through 6.</p>
<p>These platforms are allowed to overlap each other, but typically appear behind other tiles that
are already present in the area.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
<li><code>byte_RAM_E8</code>: area page</li>
<li><code>byte_RAM_50D</code>: width of platform</li>
</ul>
&nbsp;</aside><pre><a name="l1720" href="#l1720" title="Link to line 1720">#</a><code>CreateObject_GreenJumpthroughPlatform:&nbsp;</code></pre><aside><p>Start with a top-left tile.</p>
&nbsp;</aside><pre><a name="l1722" href="#l1722" title="Link to line 1722">#</a><code>	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$00</span>

CreateObject_GreenJumpthroughPlatform_Row:
	<span class="token opcode property">STX</span> byte_RAM_B&nbsp;</code></pre><aside><p>Update the area page.</p>
&nbsp;</aside><pre><a name="l1727" href="#l1727" title="Link to line 1727">#</a><code>	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>
&nbsp;</code></pre><aside><p>These two lines seem like leftovers.</p>
&nbsp;</aside><pre><a name="l1731" href="#l1731" title="Link to line 1731">#</a><code>	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
&nbsp;</code></pre><aside><p>Draw a left corner or side.</p>
&nbsp;</aside><pre><a name="l1735" href="#l1735" title="Link to line 1735">#</a><code>	<span class="token opcode property">LDX</span> byte_RAM_B
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JSR</span> CreateObject_GreenJumpthroughPlatformTile
&nbsp;</code></pre><aside><p>Skip to the right side if we're drawing a short platform.</p>
&nbsp;</aside><pre><a name="l1742" href="#l1742" title="Link to line 1742">#</a><code>	<span class="token opcode property">INX</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">BEQ</span> CreateObject_GreenJumpthroughPlatform_Right
&nbsp;</code></pre><aside><p>Draw top or middle tiles.</p>
&nbsp;</aside><pre><a name="l1747" href="#l1747" title="Link to line 1747">#</a><code>CreateObject_GreenJumpthroughPlatform_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">JSR</span> CreateObject_GreenJumpthroughPlatformTile

	<span class="token opcode property">BNE</span> CreateObject_GreenJumpthroughPlatform_Loop
&nbsp;</code></pre><aside><p>Draw right corner or side.</p>
&nbsp;</aside><pre><a name="l1755" href="#l1755" title="Link to line 1755">#</a><code>CreateObject_GreenJumpthroughPlatform_Right:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">INX</span>
	<span class="token opcode property">JSR</span> CreateObject_GreenJumpthroughPlatformTile
&nbsp;</code></pre><aside><p>Exit if we've hit the bottom of the page.</p>
&nbsp;</aside><pre><a name="l1762" href="#l1762" title="Link to line 1762">#</a><code>	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BCS</span> CreateObject_GreenJumpthroughPlatform_Exit
&nbsp;</code></pre><aside><p>Drawing a left side tile next.</p>
&nbsp;</aside><pre><a name="l1769" href="#l1769" title="Link to line 1769">#</a><code>	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> CreateObject_GreenJumpthroughPlatform_Row

CreateObject_GreenJumpthroughPlatform_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for green platform overlap tiles.</p>
<p>When drawing the top of a green platform, if the destination tile matches the compare tile, the
corresponding left or right overlap tile will be drawn instead.</p>
&nbsp;</aside><pre><a name="l1783" href="#l1783" title="Link to line 1783">#</a><code>GreenPlatformOverlapCompareTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformLeft
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformRight

GreenPlatformOverlapLeftTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopLeftOverlapEdge
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopLeftOverlap
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopLeftOverlap

GreenPlatformOverlapRightTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopRightOverlap
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopRightOverlap
	<span class="token directive keyword">.db</span> BackgroundTile_GreenPlatformTopRightOverlapEdge

&nbsp;</code></pre><aside><p>Draws a single tile of the green platform, taking into account the existing tile at the target.</p>
<h5>Input</h5>
<ul>
<li><code>X</code>: offset in <code>GreenPlatformTiles</code> table (0-2=top, 3-5=middle)</li>
<li><code>Y</code>: raw data offset</li>
</ul>
&nbsp;</aside><pre><a name="l1806" href="#l1806" title="Link to line 1806">#</a><code>CreateObject_GreenJumpthroughPlatformTile:
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">TXA</span>
	<span class="token opcode property">BNE</span> CreateObject_GreenJumpthroughPlatformTile_NotTopLeft
&nbsp;</code></pre><aside><p>Check if the top left corner requires a special tile</p>
&nbsp;</aside><pre><a name="l1812" href="#l1812" title="Link to line 1812">#</a><code>	<span class="token opcode property">LDX</span> #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - <span class="token decimalnumber string">1</span>)
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_GreenJumpthroughPlatformTile_TopLeftLoop:
	<span class="token opcode property">CMP</span> GreenPlatformOverlapCompareTiles, <span class="token register variable">X</span>
	<span class="token opcode property">BEQ</span> CreateObject_GreenJumpthroughPlatformTile_TopLeftMatch

	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> CreateObject_GreenJumpthroughPlatformTile_TopLeftLoop

	<span class="token opcode property">BMI</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite

CreateObject_GreenJumpthroughPlatformTile_TopLeftMatch:
	<span class="token opcode property">LDA</span> GreenPlatformOverlapLeftTiles, <span class="token register variable">X</span>
	<span class="token opcode property">BNE</span> CreateObject_GreenJumpthroughPlatformTile_SetTile

CreateObject_GreenJumpthroughPlatformTile_NotTopLeft:
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">CPX</span> <span class="token hexnumber string">#$02</span>
	<span class="token opcode property">BNE</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite
&nbsp;</code></pre><aside><p>Check if the top right corner requires a special tile</p>
&nbsp;</aside><pre><a name="l1834" href="#l1834" title="Link to line 1834">#</a><code>	<span class="token opcode property">LDX</span> #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - <span class="token decimalnumber string">1</span>)
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_GreenJumpthroughPlatformTile_TopRightLoop:
	<span class="token opcode property">CMP</span> GreenPlatformOverlapCompareTiles, <span class="token register variable">X</span>
	<span class="token opcode property">BEQ</span> CreateObject_GreenJumpthroughPlatformTile_TopRightMatch

	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> CreateObject_GreenJumpthroughPlatformTile_TopRightLoop

	<span class="token opcode property">BMI</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite

CreateObject_GreenJumpthroughPlatformTile_TopRightMatch:
	<span class="token opcode property">LDA</span> GreenPlatformOverlapRightTiles, <span class="token register variable">X</span>
	<span class="token opcode property">BNE</span> CreateObject_GreenJumpthroughPlatformTile_SetTile
&nbsp;</code></pre><aside><p>Check if the target tile can be overwritten by a green platform</p>
&nbsp;</aside><pre><a name="l1851" href="#l1851" title="Link to line 1851">#</a><code>CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite:
	<span class="token opcode property">LDX</span> #(GreenPlatformTiles_End - GreenPlatformTiles - <span class="token decimalnumber string">1</span>)

CreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> GreenPlatformTiles, <span class="token register variable">X</span>
	<span class="token opcode property">BEQ</span> CreateObject_GreenJumpthroughPlatformTile_Overwrite

	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop
&nbsp;</code></pre><aside><p>Otherwise, we cannot overwrite this tile with a green platform.</p>
&nbsp;</aside><pre><a name="l1863" href="#l1863" title="Link to line 1863">#</a><code>	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JMP</span> CreateObject_GreenJumpthroughPlatformTile_Exit

CreateObject_GreenJumpthroughPlatformTile_Overwrite:
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> GreenPlatformTiles, <span class="token register variable">X</span>

CreateObject_GreenJumpthroughPlatformTile_SetTile:
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_GreenJumpthroughPlatformTile_Exit:
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l1879" href="#l1879" title="Link to line 1879">#</a><code>&nbsp;</code></pre><aside><p>Lookup table for tall objects that extend to the ground.</p>
&nbsp;</aside><pre><a name="l1884" href="#l1884" title="Link to line 1884">#</a><code>TallObjectTopTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LightDoor
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTop

TallObjectBottomTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LightDoor
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTrunk

&nbsp;</code></pre><aside><h4>Tall objects</h4>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
<li><code>byte_RAM_50E</code>: type of object to create (lower nybble of level object minus 5)</li>
</ul>
<p>Creates a tree or light door object that extends down until it hits another tile.</p>
&nbsp;</aside><pre><a name="l1902" href="#l1902" title="Link to line 1902">#</a><code>CreateObject_Tall:
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$04</span>
	<span class="token opcode property">BNE</span> CreateObject_Tall_NotWorld<span class="token decimalnumber string">5</span>
	<span class="token opcode property">JMP</span> CreateObject_Tall_World<span class="token decimalnumber string">5</span>

CreateObject_Tall_NotWorld<span class="token decimalnumber string">5</span>:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> TallObjectTopTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_Tall_NotWorld<span class="token decimalnumber string">5</span>_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_Tall_NotWorld<span class="token decimalnumber string">5</span>_Exit

	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> TallObjectBottomTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">BNE</span> CreateObject_Tall_NotWorld<span class="token decimalnumber string">5</span>_Loop

CreateObject_Tall_NotWorld<span class="token decimalnumber string">5</span>_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for tall objects that extend to the ground in World 5.</p>
&nbsp;</aside><pre><a name="l1937" href="#l1937" title="Link to line 1937">#</a><code>World<span class="token decimalnumber string">5</span>TallObjectTopTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTop
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTop

World<span class="token decimalnumber string">5</span>TallObjectBottomTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTrunk
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTrunk

&nbsp;</code></pre><aside><h5>Tall objects (World 5)</h5>
<p>Other than the fact that this only renders palm trees and not doors, the only practical difference
in this subroutine is that it will stop at the bottom of the screen if it doesn't encounter
another tile beforehand.</p>
<p>This appears to be a work-around for the palm trees in 5-2 that have vertical
rock platforms beneath them. Since the rock comes later, tree trunk tiles would
render all the way down to the screen and through to the next page!</p>
<p>Using a new object layer would have achieved the same effect, but the
developer decided to create this special case instead.</p>
&nbsp;</aside><pre><a name="l1960" href="#l1960" title="Link to line 1960">#</a><code>CreateObject_Tall_World<span class="token decimalnumber string">5</span>:
	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BEQ</span> CreateObject_Tall_World<span class="token decimalnumber string">5</span>_DoLookup

	<span class="token opcode property">INX</span>

CreateObject_Tall_World<span class="token decimalnumber string">5</span>_DoLookup:
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> World<span class="token decimalnumber string">5</span>TallObjectTopTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_Tall_World<span class="token decimalnumber string">5</span>_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_Tall_World<span class="token decimalnumber string">5</span>_Exit

	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> World<span class="token decimalnumber string">5</span>TallObjectBottomTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$E0</span>
	<span class="token opcode property">BCC</span> CreateObject_Tall_World<span class="token decimalnumber string">5</span>_Loop

CreateObject_Tall_World<span class="token decimalnumber string">5</span>_Exit:
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l1991" href="#l1991" title="Link to line 1991">#</a><code>&nbsp;</code></pre><aside><p>Creates the larger, two-tile-wide big cloud.</p>
&nbsp;</aside><pre><a name="l1995" href="#l1995" title="Link to line 1995">#</a><code>CreateObject_BigCloud:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_BgCloudLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_BgCloudRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2005" href="#l2005" title="Link to line 2005">#</a><code>&nbsp;</code></pre><aside><p>Creates a tiny, single-tile cloud.</p>
&nbsp;</aside><pre><a name="l2010" href="#l2010" title="Link to line 2010">#</a><code>CreateObject_SmallCloud:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_BgCloudSmall
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>


&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2017" href="#l2017" title="Link to line 2017">#</a><code>JarTopTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_JarTopPointer
	<span class="token directive keyword">.db</span> BackgroundTile_JarTopGeneric
	<span class="token directive keyword">.db</span> BackgroundTile_JarTopNonEnterable


CreateObject_Vase:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> JarTopTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_Vase_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_Vase_Exit

	<span class="token opcode property">LDA</span> #BackgroundTile_JarMiddle
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JMP</span> CreateObject_Vase_Loop

CreateObject_Vase_Exit:
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_JarBottom
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>


CreateObject_Vine:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$0D</span>
	<span class="token opcode property">BEQ</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>CFD

	<span class="token opcode property">LDA</span> #BackgroundTile_VineTop
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>CFA:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>CFD:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> locret_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">12</span>

	<span class="token opcode property">LDA</span> #BackgroundTile_Vine
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BEQ</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">0</span>F

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">0</span>B:
	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$E0</span>
	<span class="token opcode property">BCS</span> locret_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">12</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">0</span>F:
	<span class="token opcode property">JMP</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>CFA

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2085" href="#l2085" title="Link to line 2085">#</a><code>locret_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">12</span>:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2090" href="#l2090" title="Link to line 2090">#</a><code>CreateObject_VineBottom:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_VineBottom
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">19</span>:
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BCS</span> locret_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">2</span>F

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> locret_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">2</span>F

	<span class="token opcode property">LDA</span> #BackgroundTile_Vine
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JMP</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">19</span>

locret_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">2</span>F:
	<span class="token opcode property">RTS</span>

SingleObjects:
	<span class="token directive keyword">.db</span> BackgroundTile_GrassCoin <span class="token comment">; $20</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassLargeVeggie <span class="token comment">; $21</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassSmallVeggie <span class="token comment">; $22</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassRocket <span class="token comment">; $23</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassShell <span class="token comment">; $24</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassBomb <span class="token comment">; $25</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassPotion <span class="token comment">; $26</span>
	<span class="token directive keyword">.db</span> BackgroundTile_Grass<span class="token decimalnumber string">1</span>UP <span class="token comment">; $27</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassPow <span class="token comment">; $28</span>
	<span class="token directive keyword">.db</span> BackgroundTile_Cherry <span class="token comment">; $29</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GrassBobOmb <span class="token comment">; $2A</span>
	<span class="token directive keyword">.db</span> BackgroundTile_SubspaceMushroom<span class="token decimalnumber string">1</span> <span class="token comment">; $2B</span>
	<span class="token directive keyword">.db</span> BackgroundTile_Phanto <span class="token comment">; $2C</span>
	<span class="token directive keyword">.db</span> BackgroundTile_SubspaceMushroom<span class="token decimalnumber string">2</span> <span class="token comment">; $2D</span>
	<span class="token directive keyword">.db</span> BackgroundTile_WhaleEye <span class="token comment">; $2E</span>&nbsp;</code></pre><aside><p>No entry for $2F in this table, so it uses tile $A4 due to the LDY below</p>
&nbsp;</aside><pre><a name="l2132" href="#l2132" title="Link to line 2132">#</a><code>IFDEF EXPAND_TABLES
	<span class="token directive keyword">.db</span> BackgroundTile_SolidWood <span class="token comment">; $2F</span>
ENDIF

CreateObject_SingleObject:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">LDA</span> SingleObjects, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>


World<span class="token decimalnumber string">1</span>thru<span class="token decimalnumber string">6</span>BrickWallTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_BackgroundBrick
	<span class="token directive keyword">.db</span> BackgroundTile_SolidBrick<span class="token decimalnumber string">2</span>Wall

World<span class="token decimalnumber string">7</span>BrickWallTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_GroundBrick<span class="token decimalnumber string">2</span>
	<span class="token directive keyword">.db</span> BackgroundTile_GroundBrick<span class="token decimalnumber string">2</span>


CreateObject_Wall:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$08</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_Wall_Exit

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">69</span>:
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">78</span>

	<span class="token opcode property">LDA</span> World<span class="token decimalnumber string">7</span>BrickWallTiles, <span class="token register variable">X</span>
	<span class="token opcode property">JMP</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">7</span>B

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">78</span>:
	<span class="token opcode property">LDA</span> World<span class="token decimalnumber string">1</span>thru<span class="token decimalnumber string">6</span>BrickWallTiles, <span class="token register variable">X</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">7</span>B:
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">BPL</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>D<span class="token decimalnumber string">69</span>

	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BCS</span> CreateObject_Wall_Exit

	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> CreateObject_Wall

CreateObject_Wall_Exit:
	<span class="token opcode property">RTS</span>


WaterfallTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_WaterfallTop
	<span class="token directive keyword">.db</span> BackgroundTile_Waterfall


CreateObject_WaterfallOrFrozenRocks:
IFNDEF ENABLE_LEVEL_OBJECT_MODE
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">BNE</span> CreateObject_Waterfall

	<span class="token opcode property">JMP</span> CreateObject_FrozenRocks
ENDIF

CreateObject_Waterfall:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>

CreateObject_Waterfall_OuterLoop:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>

CreateObject_Waterfall_InnerLoop:
	<span class="token opcode property">LDA</span> WaterfallTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">BPL</span> CreateObject_Waterfall_InnerLoop

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BCS</span> CreateObject_Waterfall_Exit

	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> CreateObject_Waterfall_OuterLoop

CreateObject_Waterfall_Exit:
	<span class="token opcode property">RTS</span>


IFDEF ENABLE_LEVEL_OBJECT_MODE
WaterTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_WaterTop
	<span class="token directive keyword">.db</span> BackgroundTile_Water

CreateObject_Water:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>

CreateObject_Water_OuterLoop:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>

CreateObject_Water_InnerLoop:
	<span class="token opcode property">LDA</span> WaterTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">BPL</span> CreateObject_Water_InnerLoop

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BCS</span> CreateObject_Water_Exit

	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> CreateObject_Water_OuterLoop

CreateObject_Water_Exit:
	<span class="token opcode property">RTS</span>
ENDIF

CreateObject_Pyramid:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DD<span class="token decimalnumber string">8</span>:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BEQ</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DDF

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2307" href="#l2307" title="Link to line 2307">#</a><code>loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DDF:
	<span class="token opcode property">LDA</span> #BackgroundTile_PyramidLeftAngle
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">BEQ</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DF<span class="token decimalnumber string">9</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DE<span class="token decimalnumber string">7</span>:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_PyramidLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DE<span class="token decimalnumber string">7</span>

	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DF<span class="token decimalnumber string">1</span>:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_PyramidRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DF<span class="token decimalnumber string">1</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DF<span class="token decimalnumber string">9</span>:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_PyramidRightAngle
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">JMP</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>DD<span class="token decimalnumber string">8</span>
&nbsp;</code></pre><aside><p>Not referenced, maybe unused...?</p>
&nbsp;</aside><pre><a name="l2345" href="#l2345" title="Link to line 2345">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_CactusTop
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">14</span>:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BEQ</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">1</span>E

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2359" href="#l2359" title="Link to line 2359">#</a><code>loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">1</span>E:
	<span class="token opcode property">LDA</span> #BackgroundTile_CactusMiddle
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">14</span>

&nbsp;</code></pre><aside><p>=============== S U B R O U T I N E =======================================</p>
&nbsp;</aside><pre><a name="l2366" href="#l2366" title="Link to line 2366">#</a><code>sub_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">24</span>:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">ADC</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">ASL</span> byte_RAM_A
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$20</span>
	<span class="token opcode property">BIT</span> byte_RAM_A
	<span class="token opcode property">BCS</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">39</span>

	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">3</span>B

	<span class="token opcode property">BEQ</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">3</span>D

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">39</span>:
	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">3</span>D

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">3</span>B:
	<span class="token opcode property">INC</span> byte_RAM_A

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">3</span>D:
	<span class="token opcode property">LDA</span> byte_RAM_A
	<span class="token opcode property">EOR</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>End of function sub_BANK6_8E24</p>
&nbsp;</aside><pre><a name="l2395" href="#l2395" title="Link to line 2395">#</a><code>StarBackgroundTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Sky
	<span class="token directive keyword">.db</span> BackgroundTile_StarBg<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_Sky
	<span class="token directive keyword">.db</span> BackgroundTile_Sky
	<span class="token directive keyword">.db</span> BackgroundTile_Sky
	<span class="token directive keyword">.db</span> BackgroundTile_Sky
	<span class="token directive keyword">.db</span> BackgroundTile_StarBg<span class="token decimalnumber string">2</span>
	<span class="token directive keyword">.db</span> BackgroundTile_Sky

CreateObject_StarBackground:
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STA</span> byte_RAM_D
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$80</span>
	<span class="token opcode property">STA</span> byte_RAM_A
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$31</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">9</span>

CreateObject_StarBackground_Loop:
	<span class="token opcode property">JSR</span> sub_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>E<span class="token decimalnumber string">24</span>

	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$07</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> StarBackgroundTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$30</span>
	<span class="token opcode property">BCC</span> CreateObject_StarBackground_Loop

	<span class="token opcode property">TYA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> byte_RAM_D
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">CMP</span> #$<span class="token register variable">A</span>
	<span class="token opcode property">BNE</span> CreateObject_StarBackground_Loop

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for whale tiles.</p>
<p>It's unclear why there are entries for black background tiles and jumpthrough
cloud platforms, but the mushroom houses table also has this.</p>
&nbsp;</aside><pre><a name="l2449" href="#l2449" title="Link to line 2449">#</a><code>WhaleLeftTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Black
	<span class="token directive keyword">.db</span> BackgroundTile_CloudLeft
	<span class="token directive keyword">.db</span> BackgroundTile_WhaleTopLeft
	<span class="token directive keyword">.db</span> BackgroundTile_Whale
	<span class="token directive keyword">.db</span> BackgroundTile_WaterWhale

WhaleMiddleTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Black
	<span class="token directive keyword">.db</span> BackgroundTile_CloudMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_WhaleTop
	<span class="token directive keyword">.db</span> BackgroundTile_Whale
	<span class="token directive keyword">.db</span> BackgroundTile_WaterWhale

WhaleRightTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Black
	<span class="token directive keyword">.db</span> BackgroundTile_CloudRight
	<span class="token directive keyword">.db</span> BackgroundTile_WhaleTopRight
	<span class="token directive keyword">.db</span> BackgroundTile_Whale
	<span class="token directive keyword">.db</span> BackgroundTile_WaterWhale

&nbsp;</code></pre><aside><p>Draws a row of the whale</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
<li><code>byte_RAM_50D</code>: width of house</li>
<li><code>byte_RAM_50E</code>: offset in the tile lookup table plus <code>$0A</code>, for some reason</li>
</ul>
&nbsp;</aside><pre><a name="l2479" href="#l2479" title="Link to line 2479">#</a><code>CreateObject_WhaleRow:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> WhaleLeftTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BEQ</span> CreateObject_WhaleRow_Right

CreateObject_WhaleRow_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> WhaleMiddleTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BNE</span> CreateObject_WhaleRow_Loop

CreateObject_WhaleRow_Right:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> WhaleRightTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>


IFNDEF ENABLE_LEVEL_OBJECT_MODE
CreateObject_WhaleOrDrawBridgeChain:
	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> CreateObject_Whale

	<span class="token opcode property">JMP</span> CreateObject_DrawBridgeChain
ELSE
CreateObject_Platform_BX:
	<span class="token opcode property">LDA</span> LevelObjectMode
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> CreateObject_Water
	<span class="token directive keyword">.dw</span> CreateObject_FrozenRocks
	<span class="token directive keyword">.dw</span> CreateObject_FrozenRocks
	<span class="token directive keyword">.dw</span> CreateObject_DrawBridgeChain
ENDIF
&nbsp;</code></pre><aside><p>Draws a whale.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_50D</code>: width of whale</li>
</ul>
&nbsp;</aside><pre><a name="l2530" href="#l2530" title="Link to line 2530">#</a><code>CreateObject_Whale:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0C</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">JSR</span> CreateObject_WhaleRow

	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">50</span>E

CreateObject_Whale_Loop:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$B0</span>&nbsp;</code></pre><aside><p>This branch doesn't actually skip anything...</p>
&nbsp;</aside><pre><a name="l2548" href="#l2548" title="Link to line 2548">#</a><code>	<span class="token opcode property">BCC</span> CreateObject_Whale_AboveWater

CreateObject_Whale_AboveWater:
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">JSR</span> CreateObject_WhaleRow
&nbsp;</code></pre><aside><p>Check to see if we're at the fixed row above the water.</p>
&nbsp;</aside><pre><a name="l2557" href="#l2557" title="Link to line 2557">#</a><code>	<span class="token opcode property">TYA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$B0</span>
	<span class="token opcode property">BNE</span> CreateObject_Whale_NotTail
&nbsp;</code></pre><aside><p>Draw the whale tail two tiles away.</p>
&nbsp;</aside><pre><a name="l2563" href="#l2563" title="Link to line 2563">#</a><code>	<span class="token opcode property">JSR</span> IncrementAreaXOffset
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> #BackgroundTile_WhaleTail
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">JMP</span> CreateObject_Whale_Loop

CreateObject_Whale_NotTail:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$0E</span>
	<span class="token opcode property">BNE</span> CreateObject_Whale_Loop

	<span class="token opcode property">JSR</span> IncrementAreaXOffset
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> #BackgroundTile_WaterWhaleTail
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for frozen rocks over water tiles.</p>
&nbsp;</aside><pre><a name="l2587" href="#l2587" title="Link to line 2587">#</a><code>FrozenRockTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_WaterWhale
	<span class="token directive keyword">.db</span> BackgroundTile_FrozenRock


CreateObject_FrozenRocks:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">19</span>:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">8</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">29</span>:
	<span class="token opcode property">LDA</span> FrozenRockTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">BPL</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">29</span>

	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">BNE</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">3</span><span class="token register variable">A</span>

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l2620" href="#l2620" title="Link to line 2620">#</a><code>loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">3</span><span class="token register variable">A</span>:
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$C0</span>
	<span class="token opcode property">BCC</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">45</span>

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">8</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">45</span>:
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">8</span>F<span class="token decimalnumber string">19</span>
&nbsp;</code></pre><aside><p>Horizontal platform lookup tables for World 5.</p>
<p>Unlike HorizontalPlatform(Left/Middle/Right)Tiles, these support overlap with
the red tree background.</p>
&nbsp;</aside><pre><a name="l2640" href="#l2640" title="Link to line 2640">#</a><code>HorizontalPlatformWithOverlapLeftTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogLeft
	<span class="token directive keyword">.db</span> BackgroundTile_CloudLeft
	<span class="token directive keyword">.db</span> BackgroundTile_LogMiddle
HorizontalPlatformWithOverlapMiddleTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_CloudMiddle
HorizontalPlatformWithOverlapRightTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogRight
	<span class="token directive keyword">.db</span> BackgroundTile_CloudRight
	<span class="token directive keyword">.db</span> BackgroundTile_LogRightTree
&nbsp;</code></pre><aside><p>Creates a horizontal platform with special tiles for the endcaps.</p>
<p>The endcaps use alternate tiles when they overlap a non-sky tile, which is how
the game achieves the effect of a tree with branches in World 5.</p>
<p>Amusingly, since cloud platforms also use this subroutine, their endcaps will
turn into logs if they overlap another object.</p>
&nbsp;</aside><pre><a name="l2661" href="#l2661" title="Link to line 2661">#</a><code>CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">JSR</span> CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>CheckOverlap

	<span class="token opcode property">LDA</span> HorizontalPlatformWithOverlapLeftTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BEQ</span> CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>_Exit

CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> HorizontalPlatformWithOverlapMiddleTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BNE</span> CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>_Loop

CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>_Exit:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">JSR</span> CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>CheckOverlap

	<span class="token opcode property">LDA</span> HorizontalPlatformWithOverlapRightTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Check if the next platform tile overlaps the background</p>
<h5>Output</h5>
<ul>
<li><code>X</code>: table offset for (2 if there is an overlap)</li>
</ul>
&nbsp;</aside><pre><a name="l2699" href="#l2699" title="Link to line 2699">#</a><code>CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>CheckOverlap:
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BEQ</span> CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>CheckOverlap_Exit
&nbsp;</code></pre><aside><p>otherwise, the platform is overlapping the background, so we need a special tile</p>
&nbsp;</aside><pre><a name="l2706" href="#l2706" title="Link to line 2706">#</a><code>	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$02</span>

CreateObject_HorizontalPlatform_World<span class="token decimalnumber string">5</span>CheckOverlap_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for tree background tiles</p>
&nbsp;</aside><pre><a name="l2715" href="#l2715" title="Link to line 2715">#</a><code>TreeBackgroundTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_TreeBackgroundRight
	<span class="token directive keyword">.db</span> BackgroundTile_TreeBackgroundMiddleLeft
	<span class="token directive keyword">.db</span> BackgroundTile_TreeBackgroundLeft

&nbsp;</code></pre><aside><p>Creates a tree background</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
<li><code>byte_RAM_E8</code>: area page</li>
</ul>
&nbsp;</aside><pre><a name="l2728" href="#l2728" title="Link to line 2728">#</a><code>CreateObject_TreeBackground:&nbsp;</code></pre><aside><p>width of the middle of the tree (0 = two tiles, 4 = ten tiles)</p>
&nbsp;</aside><pre><a name="l2730" href="#l2730" title="Link to line 2730">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$04</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$02</span>
&nbsp;</code></pre><aside><p>Stop when it touches the ground</p>
&nbsp;</aside><pre><a name="l2739" href="#l2739" title="Link to line 2739">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_TreeBackground_Exit

CreateObject_TreeBackground_Loop:&nbsp;</code></pre><aside><p>Draw the left side of the tree</p>
&nbsp;</aside><pre><a name="l2745" href="#l2745" title="Link to line 2745">#</a><code>	<span class="token opcode property">LDA</span> TreeBackgroundTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset
&nbsp;</code></pre><aside><p>Draw the middle of the tree</p>
&nbsp;</aside><pre><a name="l2750" href="#l2750" title="Link to line 2750">#</a><code>	<span class="token opcode property">DEX</span>
	<span class="token opcode property">CPX</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">BNE</span> CreateObject_TreeBackground_Right

	<span class="token opcode property">JSR</span> CreateObject_TreeBackground_MiddleLoop

CreateObject_TreeBackground_Right:&nbsp;</code></pre><aside><p>Draw the right side of the tree</p>
&nbsp;</aside><pre><a name="l2758" href="#l2758" title="Link to line 2758">#</a><code>	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> CreateObject_TreeBackground_Loop
&nbsp;</code></pre><aside><p>Try to draw the next row</p>
&nbsp;</aside><pre><a name="l2762" href="#l2762" title="Link to line 2762">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">STY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JMP</span> CreateObject_TreeBackground

CreateObject_TreeBackground_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Loops through and creates n+1 pairs of tiles for the middle of the tree.</p>
&nbsp;</aside><pre><a name="l2775" href="#l2775" title="Link to line 2775">#</a><code>CreateObject_TreeBackground_MiddleLoop:
	<span class="token opcode property">LDA</span> #BackgroundTile_TreeBackgroundMiddleLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> #BackgroundTile_TreeBackgroundMiddleRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">BPL</span> CreateObject_TreeBackground_MiddleLoop

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Unreferenced?</p>
&nbsp;</aside><pre><a name="l2791" href="#l2791" title="Link to line 2791">#</a><code>SomeUnusedTilesTop:
	<span class="token directive keyword">.db</span> BackgroundTile_LightDoor
	<span class="token directive keyword">.db</span> BackgroundTile_CactusTop
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTop
SomeUnusedTilesBottom:
	<span class="token directive keyword">.db</span> BackgroundTile_LightDoor
	<span class="token directive keyword">.db</span> BackgroundTile_CactusMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_PalmTreeTrunk

&nbsp;</code></pre><aside><p>This 3x9 tile entrance is used in 6-3</p>
&nbsp;</aside><pre><a name="l2804" href="#l2804" title="Link to line 2804">#</a><code>RockWallEntranceTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_RockWallAngle
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_RockWall
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_RockWall
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_RockWallEyeLeft
	<span class="token directive keyword">.db</span> BackgroundTile_RockWallEyeRight
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_RockWallMouth
	<span class="token directive keyword">.db</span> BackgroundTile_RockWallMouth
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_RockWall

&nbsp;</code></pre><aside><p>Creates the rock wall face entrance for 6-3.</p>
<p>If you ask me, this is a lot of trouble for a one-off, especially since they
didn't correctly align the "eyes" and "teeth" tiles with the wall pattern!</p>
&nbsp;</aside><pre><a name="l2848" href="#l2848" title="Link to line 2848">#</a><code>CreateObject_RockWallEntrance:
	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$00</span>

CreateObject_RockWallEntrance_Loop:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$02</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">9</span>

CreateObject_RockWallEntrance_InnerLoop:
	<span class="token opcode property">LDA</span> RockWallEntranceTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">BPL</span> CreateObject_RockWallEntrance_InnerLoop

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CPX</span> <span class="token hexnumber string">#$1B</span>
	<span class="token opcode property">BNE</span> CreateObject_RockWallEntrance_Loop

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Door tile lookup tables</p>
&nbsp;</aside><pre><a name="l2878" href="#l2878" title="Link to line 2878">#</a><code>DoorTopTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_DoorTop
	<span class="token directive keyword">.db</span> BackgroundTile_DoorTop
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DoorwayTop
	<span class="token directive keyword">.db</span> BackgroundTile_WindowTop

DoorBottomTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_DoorBottomLock
	<span class="token directive keyword">.db</span> BackgroundTile_DoorBottom
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor
	<span class="token directive keyword">.db</span> BackgroundTile_DarkDoor

&nbsp;</code></pre><aside><p>Creates a door object.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
<li><code>byte_RAM_50E</code>: type of object to create</li>
</ul>
&nbsp;</aside><pre><a name="l2900" href="#l2900" title="Link to line 2900">#</a><code>CreateObject_Door:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$09</span>
	<span class="token opcode property">BNE</span> CreateObject_Door_Unlocked
&nbsp;</code></pre><aside><p>If we've already used the key, create an unlocked door</p>
&nbsp;</aside><pre><a name="l2907" href="#l2907" title="Link to line 2907">#</a><code>	<span class="token opcode property">LDA</span> KeyUsed
	<span class="token opcode property">BEQ</span> CreateObject_Door_Unlocked
&nbsp;</code></pre><aside><p>Use the door two slots after the locked door for the unlocked version</p>
&nbsp;</aside><pre><a name="l2911" href="#l2911" title="Link to line 2911">#</a><code>	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">50</span>E

CreateObject_Door_Unlocked:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$09</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> DoorTopTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">LDA</span> DoorBottomTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

IFNDEF DISABLE_DOOR_POINTERS&nbsp;</code></pre><aside><p>For Worlds 1-5, the object after a door is used as an area pointer.</p>
<p>This seems to be primarily a way to save space, as this method costs 1 byte
less than using a normal area pointer object.</p>
<p><strong>But wait! Why not also use this space-saving trick for Worlds 6 and 7?</strong></p>
<p>Regular level objects use the first nybble of the first byte for the Y
offset relative to the previous object. As it turns out, door pointer are
still "regular objects," at least insofar as their Y offset factors in when
rendering the level.</p>
<p>For an area pointer, the first byte is the level offset. The first nybble of
that byte is $0 for levels 1-1 through 6-1, so there is no Y offset.
Door pointers starting in 6-2 would introduce a Y offset because that is
level offset is $10. Having everything after a door shift down by 1 row was
probably a nuisance when programming the levels.</p>
&nbsp;</aside><pre><a name="l2946" href="#l2946" title="Link to line 2946">#</a><code>	<span class="token opcode property">LDA</span> CurrentWorld
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BEQ</span> CreateObject_Door_Exit

	<span class="token opcode property">LDA</span> CurrentWorld
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BEQ</span> CreateObject_Door_Exit

	<span class="token opcode property">JSR</span> LevelParser_EatDoorPointer
ENDIF

CreateObject_Door_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for World 7 mushroom house tiles.</p>
<p>Interestingly, there are entries for black background tiles and jumpthrough
cloud platforms in this table as well, although they are never used. Perhaps
these houses would have included their own base at some point.</p>
&nbsp;</aside><pre><a name="l2968" href="#l2968" title="Link to line 2968">#</a><code>MushroomHouseLeftTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Black
	<span class="token directive keyword">.db</span> BackgroundTile_CloudLeft
	<span class="token directive keyword">.db</span> BackgroundTile_MushroomTopLeft
	<span class="token directive keyword">.db</span> BackgroundTile_HouseLeft

MushroomHouseMiddleTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Black
	<span class="token directive keyword">.db</span> BackgroundTile_CloudMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_MushroomTopMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_HouseMiddle

MushroomHouseRightTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_Black
	<span class="token directive keyword">.db</span> BackgroundTile_CloudRight
	<span class="token directive keyword">.db</span> BackgroundTile_MushroomTopRight
	<span class="token directive keyword">.db</span> BackgroundTile_HouseRight

&nbsp;</code></pre><aside><p>Draws a row of the mushroom house</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
<li><code>byte_RAM_50D</code>: width of house</li>
<li><code>byte_RAM_50E</code>: offset in the tile lookup table plus $0A, for some reason</li>
</ul>
&nbsp;</aside><pre><a name="l2995" href="#l2995" title="Link to line 2995">#</a><code>CreateObject_MushroomHouseRow:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> MushroomHouseLeftTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BEQ</span> CreateObject_MushroomHouseRow_Right

CreateObject_MushroomHouseRow_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> MushroomHouseMiddleTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BNE</span> CreateObject_MushroomHouseRow_Loop

CreateObject_MushroomHouseRow_Right:
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">LDA</span> MushroomHouseRightTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Draws the jump-through mushroom house platforms used in World 7</p>
&nbsp;</aside><pre><a name="l3025" href="#l3025" title="Link to line 3025">#</a><code>CreateObject_MushroomJumpthroughPlatform:
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0C</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E&nbsp;</code></pre><aside><p>Draw roof of mushroom house</p>
&nbsp;</aside><pre><a name="l3031" href="#l3031" title="Link to line 3031">#</a><code>	<span class="token opcode property">JSR</span> CreateObject_MushroomHouseRow

CreateObject_MushroomJumpthroughPlatform_Loop:
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0D</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	LDA_abs byte_RAM_<span class="token decimalnumber string">7</span>

	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_MushroomJumpthroughPlatform_Exit
&nbsp;</code></pre><aside><p>Draw body of mushroom house</p>
&nbsp;</aside><pre><a name="l3052" href="#l3052" title="Link to line 3052">#</a><code>	<span class="token opcode property">JSR</span> CreateObject_MushroomHouseRow

	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$E0</span>
	<span class="token opcode property">BCC</span> CreateObject_MushroomJumpthroughPlatform_Loop

CreateObject_MushroomJumpthroughPlatform_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Lookup table for pillar tiles, arranged by world</p>
&nbsp;</aside><pre><a name="l3065" href="#l3065" title="Link to line 3065">#</a><code>PillarTopTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarTop<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_CactusTop
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarTop<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarTop<span class="token decimalnumber string">0</span>
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarTop<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_CactusTop
	<span class="token directive keyword">.db</span> BackgroundTile_ColumnPillarTop<span class="token decimalnumber string">2</span>

PillarBottomTiles:
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarMiddle<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_CactusMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarMiddle<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarMiddle<span class="token decimalnumber string">0</span>
	<span class="token directive keyword">.db</span> BackgroundTile_LogPillarMiddle<span class="token decimalnumber string">1</span>
	<span class="token directive keyword">.db</span> BackgroundTile_CactusMiddle
	<span class="token directive keyword">.db</span> BackgroundTile_ColumnPillarMiddle<span class="token decimalnumber string">2</span>

&nbsp;</code></pre><aside><p>Draws a pillar that extends to the ground</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l3090" href="#l3090" title="Link to line 3090">#</a><code>CreateObject_Pillar:
	<span class="token opcode property">LDX</span> CurrentWorldTileset
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> PillarTopTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

CreateObject_Pillar_Loop:
	<span class="token opcode property">JSR</span> IncrementAreaYOffset

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> #BackgroundTile_Sky
	<span class="token opcode property">BNE</span> CreateObject_Pillar_Exit

	<span class="token opcode property">LDX</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> PillarBottomTiles, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
&nbsp;</code></pre><aside><p>Normally the pillars extend until they hit another tile, wrapping around to
the top of the next page, if necessary.</p>
<p>This World 5 check prevents logs from coming down from the sky in the last
area before ClawGrip's boss room.</p>
&nbsp;</aside><pre><a name="l3114" href="#l3114" title="Link to line 3114">#</a><code>	<span class="token opcode property">LDA</span> CurrentWorldTileset
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$04</span>
	<span class="token opcode property">BNE</span> CreateObject_Pillar_Loop
&nbsp;</code></pre><aside><p>Prevent the pillar from looping around to the next page</p>
&nbsp;</aside><pre><a name="l3119" href="#l3119" title="Link to line 3119">#</a><code>	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$E0</span>
	<span class="token opcode property">BCC</span> CreateObject_Pillar_Loop

CreateObject_Pillar_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Draws one horn of Wart's vegetable thrower</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l3132" href="#l3132" title="Link to line 3132">#</a><code>CreateObject_Horn:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_HornTopLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_HornTopRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_HornBottomLeft
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> #BackgroundTile_HornBottomRight
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Draws the drawbridge chain</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l3157" href="#l3157" title="Link to line 3157">#</a><code>CreateObject_DrawBridgeChain:
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>

CreateObject_DrawBridgeChain_Loop:
	<span class="token opcode property">LDA</span> #BackgroundTile_DrawBridgeChain
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> #$F
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">DEC</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">BNE</span> CreateObject_DrawBridgeChain_Loop

	<span class="token opcode property">RTS</span>


IFNDEF EXPAND_TABLES&nbsp;</code></pre><aside><p>Unused space in the original ($9126 - $91FF)</p>
&nbsp;</aside><pre><a name="l3175" href="#l3175" title="Link to line 3175">#</a><code>unusedSpace <span class="token hexnumber string">$9200</span>, <span class="token hexnumber string">$FF</span>
ENDIF
&nbsp;</code></pre><aside><h2>Ground setting data</h2>
<p>The ground setting defines a single column (or row, for vertical areas) where each row (or column)
can be one of four tiles. These tiles are repeated until an object changes  the ground setting or
the renderer reaches the the end of the area.</p>
<p>An area has its initial ground setting set in the header, but it can be changed mid-area using the
<code>$F0</code> and <code>$F1</code> special objects.</p>
&nbsp;</aside><pre><a name="l3188" href="#l3188" title="Link to line 3188">#</a><code>&nbsp;</code></pre><aside><h4>Horizontal ground set data</h4>
<p>Two bits per tile are used to select from one of the four ground appearance tiles. The tiles are
defined from top-to-bottom, except for the last tile, which is actually the top row!</p>
<p>Ground appearance tiles are defined xpecifically in the <code>WorldXGroundTilesHorizontal</code> lookup
tables, but here's an example of how they apply:</p>
<ul>
<li><code>%00</code>: default background (ie. sky)</li>
<li><code>%01</code>: secondary platform (eg. sand)</li>
<li><code>%10</code>: primary platform (eg. grass)</li>
<li><code>%11</code>: secondary background (eg. black background in 3-2)</li>
</ul>
&nbsp;</aside><pre><a name="l3203" href="#l3203" title="Link to line 3203">#</a><code>HorizontalGroundSetData:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span>,<span class="token hexnumber string">$54</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$54</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span>,<span class="token hexnumber string">$7F</span>,<span class="token hexnumber string">$54</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span>,<span class="token hexnumber string">$7F</span>,<span class="token hexnumber string">$D4</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$03</span>,<span class="token hexnumber string">$FF</span>,<span class="token hexnumber string">$54</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span>,<span class="token hexnumber string">$5F</span>,<span class="token hexnumber string">$FC</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$03</span>,<span class="token hexnumber string">$FF</span>,<span class="token hexnumber string">$FC</span> <span class="token comment">; $07</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$7C</span> <span class="token comment">; $09</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$9E</span>,<span class="token hexnumber string">$79</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $0A</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$0E</span>,<span class="token hexnumber string">$79</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $0B</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$09</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $0D</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E0</span>,<span class="token hexnumber string">$0E</span>,<span class="token hexnumber string">$79</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $0E</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E4</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$09</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $0F</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E4</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$90</span>,<span class="token hexnumber string">$09</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $11</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$9E</span>,<span class="token hexnumber string">$70</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $12</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$9E</span>,<span class="token hexnumber string">$40</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $13</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$9C</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E0</span>,<span class="token hexnumber string">$0E</span>,<span class="token hexnumber string">$40</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $15</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $16</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E4</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span> <span class="token comment">; $17</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$9E</span>,<span class="token hexnumber string">$79</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$90</span>,<span class="token hexnumber string">$01</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $19</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E0</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$01</span>,<span class="token hexnumber string">$E4</span> <span class="token comment">; $1A</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E7</span>,<span class="token hexnumber string">$90</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $1B</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E0</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $1D</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $1E</span>&nbsp;</code></pre><aside><p>Based on the level header parsing code, $1F seems like it may have been reserved for some
special behavior at some point, but it doesn't appear to be implemented.</p>
&nbsp;</aside><pre><a name="l3237" href="#l3237" title="Link to line 3237">#</a><code>IFDEF EXPAND_TABLES
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$24</span> <span class="token comment">; $1F</span>
ENDIF
&nbsp;</code></pre><aside><h4>Vertical ground set data</h4>
<p>Two bits per tile are used to select from one of the four ground appearance tiles. The tiles are
defined from left-to-right.</p>
<p>Ground appearance tiles are defined xpecifically in the <code>WorldXGroundTilesVertical</code> lookup
tables, but here's an example of how they apply:</p>
<ul>
<li><code>%00</code>: default background (ie. sky)</li>
<li><code>%01</code>: secondary platform (eg. bombable wall, sand)</li>
<li><code>%10</code>: primary platform</li>
<li><code>%11</code>: secondary background</li>
</ul>
&nbsp;</aside><pre><a name="l3255" href="#l3255" title="Link to line 3255">#</a><code>VerticalGroundSetData:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$AF</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FE</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$BF</span> <span class="token comment">; $04</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$80</span>,<span class="token hexnumber string">$02</span>,<span class="token hexnumber string">$AF</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E8</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$2B</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$E0</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$0B</span> <span class="token comment">; $07</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$FA</span>,<span class="token hexnumber string">$95</span>,<span class="token hexnumber string">$56</span>,<span class="token hexnumber string">$AF</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$95</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$56</span> <span class="token comment">; $09</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A5</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$5A</span> <span class="token comment">; $0A</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A5</span>,<span class="token hexnumber string">$5A</span>,<span class="token hexnumber string">$A5</span>,<span class="token hexnumber string">$5A</span> <span class="token comment">; $0B</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$95</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$56</span> <span class="token comment">; $0D</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$95</span>,<span class="token hexnumber string">$5A</span>,<span class="token hexnumber string">$A5</span>,<span class="token hexnumber string">$56</span> <span class="token comment">; $0E</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A9</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$6A</span> <span class="token comment">; $0F</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$81</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$42</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$A5</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$5A</span> <span class="token comment">; $11</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A5</span>,<span class="token hexnumber string">$55</span>,<span class="token hexnumber string">$5A</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $12</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span> <span class="token comment">; $13</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$0A</span> <span class="token comment">; $15</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $16</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$0A</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $17</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$0A</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $18</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$80</span>,<span class="token hexnumber string">$0A</span>,<span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$AA</span> <span class="token comment">; $19</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$02</span> <span class="token comment">; $1A</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$AA</span>,<span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$02</span> <span class="token comment">; $1B</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$0A</span>,<span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$0A</span> <span class="token comment">; $1C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$A0</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span> <span class="token comment">; $1D</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$0A</span> <span class="token comment">; $1E</span>&nbsp;</code></pre><aside><p>Based on the level header parsing code, $1F seems like it may have been reserved for some
special behavior at some point, but it doesn't appear to be implemented.</p>
&nbsp;</aside><pre><a name="l3289" href="#l3289" title="Link to line 3289">#</a><code>IFDEF EXPAND_TABLES
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$00</span>,<span class="token hexnumber string">$0A</span> <span class="token comment">; $1F</span>
ENDIF

&nbsp;</code></pre><aside><p>Lookup tables for decoded level data by page</p>
&nbsp;</aside><pre><a name="l3297" href="#l3297" title="Link to line 3297">#</a><code>DecodedLevelPageStartLo_Bank<span class="token decimalnumber string">6</span>:
	<span class="token directive keyword">.db</span> &#x3C;DecodedLevelData
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$00F0</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$01E0</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$02D0</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$03C0</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$04B0</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$05A0</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$0690</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$0780</span>)
	<span class="token directive keyword">.db</span> &#x3C;(DecodedLevelData+<span class="token hexnumber string">$0870</span>)
	<span class="token directive keyword">.db</span> &#x3C;(SubAreaTileLayout)

DecodedLevelPageStartHi_Bank<span class="token decimalnumber string">6</span>:
	<span class="token directive keyword">.db</span> >DecodedLevelData
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$00F0</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$01E0</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$02D0</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$03C0</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$04B0</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$05A0</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$0690</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$0780</span>)
	<span class="token directive keyword">.db</span> >(DecodedLevelData+<span class="token hexnumber string">$0870</span>)
	<span class="token directive keyword">.db</span> >(SubAreaTileLayout)

&nbsp;</code></pre><aside><h1>Subspace tile remapping</h1>
<p>The horizontal order of tiles is reversed in subspace. Tiles with an obvious
left/right direction (eg. the corners of green platforms) appear backwards
until they're swapped with the corresponding right/left version.</p>
<p>This is handled in two tables corresponding tables. If a tile is found in the
first table, it will be replaced with the tile at the corresponding offset in
the second table.</p>
&nbsp;</aside><pre><a name="l3336" href="#l3336" title="Link to line 3336">#</a><code>SubspaceTilesSearch:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$75</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$77</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CA</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CE</span> <span class="token comment">; $03</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C7</span> <span class="token comment">; $04</span>
IFNDEF FIX_SUBSPACE_TILES
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C8</span> <span class="token comment">; $05 ; BUG: This should be $C9</span>
ENDIF
IFDEF FIX_SUBSPACE_TILES
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C9</span> <span class="token comment">; $05</span>
ENDIF
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D0</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D1</span> <span class="token comment">; $07</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$02</span> <span class="token comment">; $09</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$84</span> <span class="token comment">; $0A</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$87</span> <span class="token comment">; $0B</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$60</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$62</span> <span class="token comment">; $0D</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$13</span> <span class="token comment">; $0E</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$15</span> <span class="token comment">; $0F</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$53</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$55</span> <span class="token comment">; $11</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CB</span> <span class="token comment">; $12</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CF</span> <span class="token comment">; $13</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$09</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0D</span> <span class="token comment">; $15</span>

SubspaceTilesReplace:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$77</span> <span class="token comment">; $00</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$75</span> <span class="token comment">; $01</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CE</span> <span class="token comment">; $02</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CA</span> <span class="token comment">; $03</span>
IFNDEF FIX_SUBSPACE_TILES
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C8</span> <span class="token comment">; $04 ; BUG: This should be $C9</span>
ENDIF
IFDEF FIX_SUBSPACE_TILES
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C9</span> <span class="token comment">; $04</span>
ENDIF
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$C7</span> <span class="token comment">; $05</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D1</span> <span class="token comment">; $06</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$D0</span> <span class="token comment">; $07</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$02</span> <span class="token comment">; $08</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$01</span> <span class="token comment">; $09</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$87</span> <span class="token comment">; $0A</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$84</span> <span class="token comment">; $0B</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$62</span> <span class="token comment">; $0C</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$60</span> <span class="token comment">; $0D</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$15</span> <span class="token comment">; $0E</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$13</span> <span class="token comment">; $0F</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$55</span> <span class="token comment">; $10</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$53</span> <span class="token comment">; $11</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CF</span> <span class="token comment">; $12</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$CB</span> <span class="token comment">; $13</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$0D</span> <span class="token comment">; $14</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$09</span> <span class="token comment">; $15</span>

&nbsp;</code></pre><aside><p>Resets level data and PPU scrolling.</p>
<p>This starts at the end of the last page and works backwards to create a blank slate upon which to
render the current area's level data.</p>
&nbsp;</aside><pre><a name="l3401" href="#l3401" title="Link to line 3401">#</a><code>ResetLevelData:
	<span class="token opcode property">LDA</span> #&#x3C;DecodedLevelData
	<span class="token opcode property">STA</span> byte_RAM_A
	<span class="token opcode property">LDY</span> #>(DecodedLevelData+<span class="token hexnumber string">$0900</span>)
	<span class="token opcode property">STY</span> byte_RAM_B
	<span class="token opcode property">LDY</span> #>(DecodedLevelData-<span class="token hexnumber string">$0100</span>)
&nbsp;</code></pre><aside><p>Set all tiles to sky</p>
&nbsp;</aside><pre><a name="l3409" href="#l3409" title="Link to line 3409">#</a><code>	<span class="token opcode property">LDA</span> #BackgroundTile_Sky

ResetLevelData_Loop:
	<span class="token opcode property">STA</span> (byte_RAM_A), <span class="token register variable">Y</span>
	<span class="token opcode property">DEY</span>
	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$FF</span>
	<span class="token opcode property">BNE</span> ResetLevelData_Loop

	<span class="token opcode property">DEC</span> byte_RAM_B
	<span class="token opcode property">LDX</span> byte_RAM_B
	<span class="token opcode property">CPX</span> #>DecodedLevelData
	<span class="token opcode property">BCS</span> ResetLevelData_Loop

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> PPUScrollXMirror
	<span class="token opcode property">STA</span> PPUScrollYMirror
	<span class="token opcode property">STA</span> CurrentLevelPageX
	<span class="token opcode property">STA</span> byte_RAM_D<span class="token decimalnumber string">5</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">STA</span> ScreenYHi
	<span class="token opcode property">STA</span> ScreenYLo
	<span class="token opcode property">STA</span> ScreenBoundaryLeftHi
	<span class="token opcode property">STA</span> ScreenBoundaryLeftLo
	STA_abs NeedVerticalScroll
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Reads a color from the world's background palette</p>
<h5>Input</h5>
<ul>
<li><code>X</code>: color index</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>A</code>: background palette color</li>
</ul>
&nbsp;</aside><pre><a name="l3445" href="#l3445" title="Link to line 3445">#</a><code>ReadWorldBackgroundColor:&nbsp;</code></pre><aside><p>stash X and Y registers</p>
&nbsp;</aside><pre><a name="l3447" href="#l3447" title="Link to line 3447">#</a><code>	<span class="token opcode property">STY</span> byte_RAM_E
	<span class="token opcode property">STX</span> byte_RAM_D&nbsp;</code></pre><aside><p>look up the address of the current world's palette</p>
&nbsp;</aside><pre><a name="l3450" href="#l3450" title="Link to line 3450">#</a><code>	<span class="token opcode property">LDY</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> WorldBackgroundPalettePointersLo, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> WorldBackgroundPalettePointersHi, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>&nbsp;</code></pre><aside><p>load the color</p>
&nbsp;</aside><pre><a name="l3456" href="#l3456" title="Link to line 3456">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_D
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">7</span>), <span class="token register variable">Y</span>&nbsp;</code></pre><aside><p>restore prior X and Y registers</p>
&nbsp;</aside><pre><a name="l3459" href="#l3459" title="Link to line 3459">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_E
	<span class="token opcode property">LDX</span> byte_RAM_D
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Reads a color from the world's sprite palette</p>
<h5>Input</h5>
<ul>
<li><code>X</code>: color index</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>A</code>: background palette color</li>
</ul>
&nbsp;</aside><pre><a name="l3472" href="#l3472" title="Link to line 3472">#</a><code>ReadWorldSpriteColor:&nbsp;</code></pre><aside><p>stash X and Y registers</p>
&nbsp;</aside><pre><a name="l3474" href="#l3474" title="Link to line 3474">#</a><code>	<span class="token opcode property">STY</span> byte_RAM_E
	<span class="token opcode property">STX</span> byte_RAM_D&nbsp;</code></pre><aside><p>look up the address of the current world's palette</p>
&nbsp;</aside><pre><a name="l3477" href="#l3477" title="Link to line 3477">#</a><code>	<span class="token opcode property">LDY</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> WorldSpritePalettePointersLo, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> WorldSpritePalettePointersHi, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>&nbsp;</code></pre><aside><p>load the color</p>
&nbsp;</aside><pre><a name="l3483" href="#l3483" title="Link to line 3483">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_D
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">7</span>), <span class="token register variable">Y</span>&nbsp;</code></pre><aside><p>restore prior X and Y registers</p>
&nbsp;</aside><pre><a name="l3486" href="#l3486" title="Link to line 3486">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_E
	<span class="token opcode property">LDX</span> byte_RAM_D
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Loads the current area or jar palette</p>
&nbsp;</aside><pre><a name="l3493" href="#l3493" title="Link to line 3493">#</a><code>LoadCurrentPalette:
	<span class="token opcode property">LDA</span> InSubspaceOrJar
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">BNE</span> LoadCurrentPalette_NotJar
&nbsp;</code></pre><aside><p>This function call will overwrite the
normal level loading area with $7A00</p>
&nbsp;</aside><pre><a name="l3500" href="#l3500" title="Link to line 3500">#</a><code>	<span class="token opcode property">JSR</span> HijackLevelDataCopyAddressWithJar

	<span class="token opcode property">JMP</span> LoadCurrentPalette_AreaOffset

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l3505" href="#l3505" title="Link to line 3505">#</a><code>LoadCurrentPalette_NotJar:
	<span class="token opcode property">JSR</span> RestoreLevelDataCopyAddress
&nbsp;</code></pre><aside><p>Read the palette offset from the area header</p>
&nbsp;</aside><pre><a name="l3510" href="#l3510" title="Link to line 3510">#</a><code>LoadCurrentPalette_AreaOffset:
	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
&nbsp;</code></pre><aside><p>End of function LoadCurrentPalette</p>
&nbsp;</aside><pre><a name="l3515" href="#l3515" title="Link to line 3515">#</a><code>&nbsp;</code></pre><aside><p>Loads a world palette to RAM</p>
<h5>Input</h5>
<ul>
<li><code>A</code>: background palette header byte</li>
</ul>
&nbsp;</aside><pre><a name="l3522" href="#l3522" title="Link to line 3522">#</a><code>ApplyPalette:&nbsp;</code></pre><aside><p>Read background palette index from area header byte</p>
&nbsp;</aside><pre><a name="l3524" href="#l3524" title="Link to line 3524">#</a><code>	<span class="token opcode property">STA</span> byte_RAM_F
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00111000</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">JSR</span> ReadWorldBackgroundColor
&nbsp;</code></pre><aside><p>Something PPU-related. If it's not right, the colors are very wrong.</p>
&nbsp;</aside><pre><a name="l3531" href="#l3531" title="Link to line 3531">#</a><code>	<span class="token opcode property">STA</span> SkyColor
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$3F</span>
	<span class="token opcode property">STA</span> PPUBuffer_<span class="token decimalnumber string">301</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> PPUBuffer_<span class="token decimalnumber string">301</span> + <span class="token decimalnumber string">1</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$20</span>
	<span class="token opcode property">STA</span> PPUBuffer_<span class="token decimalnumber string">301</span> + <span class="token decimalnumber string">2</span>

	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$00</span>
ApplyPalette_BackgroundLoop:
	<span class="token opcode property">JSR</span> ReadWorldBackgroundColor
	<span class="token opcode property">STA</span> PPUBuffer_<span class="token decimalnumber string">301</span> + <span class="token decimalnumber string">3</span>, <span class="token register variable">Y</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">BCC</span> ApplyPalette_BackgroundLoop
&nbsp;</code></pre><aside><p>Read sprite palette index from area header byte</p>
&nbsp;</aside><pre><a name="l3549" href="#l3549" title="Link to line 3549">#</a><code>	<span class="token opcode property">LDA</span> byte_RAM_F
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> byte_RAM_F
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ADC</span> byte_RAM_F
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">TAX</span>

	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$00</span>
ApplyPalette_SpriteLoop:
	<span class="token opcode property">JSR</span> ReadWorldSpriteColor
	<span class="token opcode property">STA</span> unk_RAM_<span class="token decimalnumber string">318</span>, <span class="token register variable">Y</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">CPY</span> <span class="token hexnumber string">#$0C</span>
	<span class="token opcode property">BCC</span> ApplyPalette_SpriteLoop

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> unk_RAM_<span class="token decimalnumber string">318</span>, <span class="token register variable">Y</span>
	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$03</span>

ApplyPalette_PlayerLoop:
	<span class="token opcode property">LDA</span> RestorePlayerPalette<span class="token decimalnumber string">0</span>, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> unk_RAM_<span class="token decimalnumber string">314</span>, <span class="token register variable">Y</span>
	<span class="token opcode property">DEY</span>
	<span class="token opcode property">BPL</span> ApplyPalette_PlayerLoop

	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$10</span>
ApplyPalette_SkyLoop:
	<span class="token opcode property">LDA</span> SkyColor
	<span class="token opcode property">STA</span> PPUBuffer_<span class="token decimalnumber string">301</span> + <span class="token decimalnumber string">3</span>, <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> ApplyPalette_SkyLoop

	<span class="token opcode property">RTS</span>


GenerateSubspaceArea:
	<span class="token opcode property">LDA</span> CurrentLevelArea
	<span class="token opcode property">STA</span> CurrentLevelAreaCopy
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$30</span> <span class="token comment">; subspace palette (works like area header byte)</span>
	<span class="token opcode property">STA</span> byte_RAM_F <span class="token comment">; why...?</span>
	<span class="token opcode property">JSR</span> ApplyPalette

	<span class="token opcode property">LDA</span> ScreenBoundaryLeftHi
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>

	<span class="token opcode property">LDA</span> ScreenBoundaryLeftLo
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$08</span>
	<span class="token opcode property">BCC</span> loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">9439</span>

	<span class="token opcode property">INC</span> byte_RAM_E<span class="token decimalnumber string">8</span>

loc_BANK<span class="token decimalnumber string">6</span>_<span class="token decimalnumber string">9439</span>:
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">PHA</span>
	<span class="token opcode property">SEC</span>

	<span class="token opcode property">SBC</span> ScreenBoundaryLeftLo
	<span class="token opcode property">STA</span> byte_RAM_BA
	<span class="token opcode property">PLA</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STA</span> byte_RAM_D
	<span class="token opcode property">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$0F</span>

GenerateSubspaceArea_TileRemapLoop:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">JSR</span> DoSubspaceTileRemap

	<span class="token opcode property">STA</span> SubAreaTileLayout, <span class="token register variable">X</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">TXA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BNE</span> GenerateSubspaceArea_TileRemapLoop

	<span class="token opcode property">TYA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">JSR</span> IncrementAreaXOffset

	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> GenerateSubspaceArea_TileRemapLoop

	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Remaps a single subspace tile.</p>
<p>This also handles creating the mushroom sprites.</p>
<h5>Input</h5>
<ul>
<li><code>A</code>: input tile</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>A</code>: output tile</li>
</ul>
&nbsp;</aside><pre><a name="l3669" href="#l3669" title="Link to line 3669">#</a><code>DoSubspaceTileRemap:
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDX</span> #(SubspaceTilesReplace - SubspaceTilesSearch - <span class="token decimalnumber string">1</span>)

DoSubspaceTileRemap_Loop:
	<span class="token opcode property">CMP</span> SubspaceTilesSearch, <span class="token register variable">X</span>
	<span class="token opcode property">BEQ</span> DoSubspaceTileRemap_ReplaceTile

	<span class="token opcode property">DEX</span>
	<span class="token opcode property">BPL</span> DoSubspaceTileRemap_Loop

	<span class="token opcode property">CMP</span> #BackgroundTile_SubspaceMushroom<span class="token decimalnumber string">1</span>
	<span class="token opcode property">BEQ</span> DoSubspaceTileRemap_CheckCreateMushroom

	<span class="token opcode property">CMP</span> #BackgroundTile_SubspaceMushroom<span class="token decimalnumber string">2</span>
	<span class="token opcode property">BEQ</span> DoSubspaceTileRemap_CheckCreateMushroom

	<span class="token opcode property">JMP</span> DoSubspaceTileRemap_Exit

DoSubspaceTileRemap_CheckCreateMushroom:
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> #BackgroundTile_SubspaceMushroom<span class="token decimalnumber string">1</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> Mushroom<span class="token decimalnumber string">1</span>Pulled, <span class="token register variable">Y</span>
	<span class="token opcode property">BNE</span> DoSubspaceTileRemap_AfterCreateMushroom

	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">JSR</span> CreateSubspaceMushroomObject

DoSubspaceTileRemap_AfterCreateMushroom:
	<span class="token opcode property">LDA</span> #BackgroundTile_SubspaceMushroom<span class="token decimalnumber string">1</span>
	<span class="token opcode property">JMP</span> DoSubspaceTileRemap_Exit

DoSubspaceTileRemap_ReplaceTile:
	<span class="token opcode property">LDA</span> SubspaceTilesReplace, <span class="token register variable">X</span>

DoSubspaceTileRemap_Exit:
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Clears the sub-area tile layout when the player goes into a jar</p>
&nbsp;</aside><pre><a name="l3715" href="#l3715" title="Link to line 3715">#</a><code>ClearSubAreaTileLayout:
	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STX</span> IsHorizontalLevel

ClearSubAreaTileLayout_Loop:
	<span class="token opcode property">LDA</span> #BackgroundTile_Sky
	<span class="token opcode property">STA</span> SubAreaTileLayout, <span class="token register variable">X</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">BNE</span> ClearSubAreaTileLayout_Loop

	<span class="token opcode property">LDA</span> CurrentLevelArea
	<span class="token opcode property">STA</span> CurrentLevelAreaCopy
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$04</span> <span class="token comment">; jar is always area 4</span>
	<span class="token opcode property">STA</span> CurrentLevelArea
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">JSR</span> HijackLevelDataCopyAddressWithJar

	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">540</span>
	<span class="token opcode property">STY</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">STY</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">STY</span> GroundType
	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">STY</span> GroundSetting
	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$04</span>
	<span class="token opcode property">JSR</span> ReadLevelBackgroundData_Page
&nbsp;</code></pre><aside><p>object type</p>
&nbsp;</aside><pre><a name="l3745" href="#l3745" title="Link to line 3745">#</a><code>	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$02</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000011</span>
	<span class="token opcode property">STA</span> ObjectType<span class="token decimalnumber string">3</span>Xthru<span class="token decimalnumber string">9</span><span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000011</span>
	<span class="token opcode property">STA</span> ObjectTypeAXthruFX
	<span class="token opcode property">JSR</span> HijackLevelDataCopyAddressWithJar

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">JSR</span> ReadLevelForegroundData_NextByteObject

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">STA</span> IsHorizontalLevel
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Set the current background music to the current area's music as defined in the header.</p>
<p>This stops the current music unless the player is currently invincible.</p>
&nbsp;</aside><pre><a name="l3774" href="#l3774" title="Link to line 3774">#</a><code>LoadAreaMusic:
	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000011</span>
	<span class="token opcode property">STA</span> CompareMusicIndex
	<span class="token opcode property">CMP</span> CurrentMusicIndex
	<span class="token opcode property">BEQ</span> LoadAreaMusic_Exit

	<span class="token opcode property">LDA</span> StarInvincibilityTimer
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$08</span>
	<span class="token opcode property">BCS</span> LoadAreaMusic_Exit

	<span class="token opcode property">LDA</span> #Music<span class="token decimalnumber string">2</span>_StopMusic
	<span class="token opcode property">STA</span> MusicQueue<span class="token decimalnumber string">2</span>

LoadAreaMusic_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Unreferenced? A similar routine exists in Bank F, so it seems like this may
be leftover code from a previous version.</p>
&nbsp;</aside><pre><a name="l3797" href="#l3797" title="Link to line 3797">#</a><code>Unused_LevelMusicIndexes:
	<span class="token directive keyword">.db</span> Music<span class="token decimalnumber string">1</span>_Overworld
	<span class="token directive keyword">.db</span> Music<span class="token decimalnumber string">1</span>_Inside
	<span class="token directive keyword">.db</span> Music<span class="token decimalnumber string">1</span>_Boss
	<span class="token directive keyword">.db</span> Music<span class="token decimalnumber string">1</span>_Wart
	<span class="token directive keyword">.db</span> Music<span class="token decimalnumber string">1</span>_Subspace

Unused_ChangeAreaMusic:
	<span class="token opcode property">LDA</span> CompareMusicIndex
	<span class="token opcode property">CMP</span> CurrentMusicIndex
	<span class="token opcode property">BEQ</span> Unused_ChangeAreaMusic_Exit

	<span class="token opcode property">TAX</span>
	<span class="token opcode property">STX</span> CurrentMusicIndex
	<span class="token opcode property">LDA</span> StarInvincibilityTimer
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$08</span>
	<span class="token opcode property">BCS</span> LoadAreaMusic_Exit

	<span class="token opcode property">LDA</span> Unused_LevelMusicIndexes, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> MusicQueue<span class="token decimalnumber string">1</span>

Unused_ChangeAreaMusic_Exit:
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Unreferenced?</p>
&nbsp;</aside><pre><a name="l3822" href="#l3822" title="Link to line 3822">#</a><code>	<span class="token opcode property">LDA</span> CurrentLevelPage
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> AreaPointersByPage, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> CurrentLevel
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> AreaPointersByPage, <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> CurrentLevelArea
	<span class="token opcode property">LDA</span> AreaPointersByPage, <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STA</span> CurrentLevelEntryPage
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h2>Area loading and rendering</h2>
<p>This is the main subroutine for parsing and rendering an entire area of a level.</p>
&nbsp;</aside><pre><a name="l3845" href="#l3845" title="Link to line 3845">#</a><code>LoadCurrentArea:&nbsp;</code></pre><aside><p>First, reset the level data and PPU scrolling.</p>
&nbsp;</aside><pre><a name="l3847" href="#l3847" title="Link to line 3847">#</a><code>	<span class="token opcode property">JSR</span> ResetLevelData

	<span class="token opcode property">JSR</span> ResetPPUScrollHi_Bank<span class="token decimalnumber string">6</span>
&nbsp;</code></pre><aside><p>Determine the address of the raw level data.</p>
&nbsp;</aside><pre><a name="l3852" href="#l3852" title="Link to line 3852">#</a><code>	<span class="token opcode property">JSR</span> RestoreLevelDataCopyAddress
&nbsp;</code></pre><aside><h3>Read area header</h3>
<p>The level header is read backwards starting at the last byte.</p>
&nbsp;</aside><pre><a name="l3859" href="#l3859" title="Link to line 3859">#</a><code>&nbsp;</code></pre><aside><p>Queue any changes to the background music.</p>
&nbsp;</aside><pre><a name="l3861" href="#l3861" title="Link to line 3861">#</a><code>	<span class="token opcode property">JSR</span> LoadAreaMusic
&nbsp;</code></pre><aside><p>Load initial ground appearance, which determines the tiles used for the background.</p>
&nbsp;</aside><pre><a name="l3866" href="#l3866" title="Link to line 3866">#</a><code>	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
IFNDEF LEVEL_ENGINE_UPGRADES
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00011100</span>
ELSE&nbsp;</code></pre><aside><p>double available ground types</p>
&nbsp;</aside><pre><a name="l3873" href="#l3873" title="Link to line 3873">#</a><code>	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%11110000</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
ENDIF

	<span class="token opcode property">STA</span> GroundType
&nbsp;</code></pre><aside><p>This doesn't hurt, but shouldn't be necessary.</p>
&nbsp;</aside><pre><a name="l3881" href="#l3881" title="Link to line 3881">#</a><code>	<span class="token opcode property">JSR</span> RestoreLevelDataCopyAddress

IFDEF ENABLE_LEVEL_OBJECT_MODE&nbsp;</code></pre><aside><p>Read level object mode.</p>
&nbsp;</aside><pre><a name="l3885" href="#l3885" title="Link to line 3885">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000011</span>
	<span class="token opcode property">STA</span> LevelObjectMode
ENDIF
&nbsp;</code></pre><aside><p>Determine whether this area is Horizontal or vertical.</p>
&nbsp;</aside><pre><a name="l3893" href="#l3893" title="Link to line 3893">#</a><code>	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">ROL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> IsHorizontalLevel
&nbsp;</code></pre><aside><p>Reset the area page so that we can start drawing from the beginning.</p>
&nbsp;</aside><pre><a name="l3901" href="#l3901" title="Link to line 3901">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
&nbsp;</code></pre><aside><p>Determine the level length (in pages).</p>
&nbsp;</aside><pre><a name="l3905" href="#l3905" title="Link to line 3905">#</a><code>	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$02</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> CurrentLevelPages
&nbsp;</code></pre><aside><p>Determine the object types, which are used to determine which horizontal and vertical blocks are
used, as well as how some climbable objects appear.</p>
&nbsp;</aside><pre><a name="l3915" href="#l3915" title="Link to line 3915">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000011</span>
	<span class="token opcode property">STA</span> ObjectType<span class="token decimalnumber string">3</span>Xthru<span class="token decimalnumber string">9</span><span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000011</span>
	<span class="token opcode property">STA</span> ObjectTypeAXthruFX
	<span class="token opcode property">DEY</span>

IFDEF AREA_HEADER_TILESET&nbsp;</code></pre><aside><p>World tileset to use for the area.</p>
&nbsp;</aside><pre><a name="l3927" href="#l3927" title="Link to line 3927">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">ROL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ROL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ROL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ROL</span> <span class="token register variable">A</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00000111</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$07</span> <span class="token comment">; only $00-06 are valid, force $07 to CurrentWorld</span>
	<span class="token opcode property">BCC</span> LoadCurrentArea_IsValid
	<span class="token opcode property">LDA</span> CurrentWorld
LoadCurrentArea_IsValid:
	<span class="token opcode property">STA</span> CurrentWorldTileset
ENDIF
&nbsp;</code></pre><aside><p>Load initial ground setting, which determines the shape of the ground layout.</p>
<p>Using <code>$1F</code> skips rendering ground settings entirely, but no areas seem to use it.</p>
&nbsp;</aside><pre><a name="l3943" href="#l3943" title="Link to line 3943">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00011111</span>
	<span class="token opcode property">CMP</span> <span class="token binarynumber string">#%00011111</span>
	<span class="token opcode property">BEQ</span> LoadCurrentArea_ForegroundData

	<span class="token opcode property">STA</span> GroundSetting
&nbsp;</code></pre><aside><h3>Process level data</h3>
<p>The area is rendered in two passes (with the exception described above).</p>
&nbsp;</aside><pre><a name="l3955" href="#l3955" title="Link to line 3955">#</a><code>&nbsp;</code></pre><aside><h4>First pass: background terrain</h4>
<p>The first pass applies the ground settings and appearance to the entire area. This makes sure
that the ground is already in place when rendering objects that extend to the ground, such as
trees, vines, and platforms.</p>
&nbsp;</aside><pre><a name="l3963" href="#l3963" title="Link to line 3963">#</a><code>&nbsp;</code></pre><aside><p>Advance to the first object in the level data.</p>
&nbsp;</aside><pre><a name="l3965" href="#l3965" title="Link to line 3965">#</a><code>	<span class="token opcode property">INY</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">INY</span>
&nbsp;</code></pre><aside><p>Reset the tile placement offset for the first pass.</p>
&nbsp;</aside><pre><a name="l3970" href="#l3970" title="Link to line 3970">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
&nbsp;</code></pre><aside><p>Run the first pass of level rendering to apply ground settings and appearance.</p>
&nbsp;</aside><pre><a name="l3975" href="#l3975" title="Link to line 3975">#</a><code>	<span class="token opcode property">JSR</span> ReadLevelBackgroundData
&nbsp;</code></pre><aside><h4>Second pass: foreground objects</h4>
<p>The second pass renders normal level objects and sets up area pointers.</p>
&nbsp;</aside><pre><a name="l3982" href="#l3982" title="Link to line 3982">#</a><code>LoadCurrentArea_ForegroundData:&nbsp;</code></pre><aside><p>Reset the tile placement offset for the second pass.</p>
&nbsp;</aside><pre><a name="l3984" href="#l3984" title="Link to line 3984">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
&nbsp;</code></pre><aside><p>Advance to the first object in the level data.</p>
&nbsp;</aside><pre><a name="l3988" href="#l3988" title="Link to line 3988">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">4</span>
&nbsp;</code></pre><aside><p>Run the second pass of level rendering to place regular objects in the level.</p>
&nbsp;</aside><pre><a name="l3992" href="#l3992" title="Link to line 3992">#</a><code>	<span class="token opcode property">JSR</span> ReadLevelForegroundData
&nbsp;</code></pre><aside><p>Bootstrap the pseudo-random number generator.</p>
&nbsp;</aside><pre><a name="l3995" href="#l3995" title="Link to line 3995">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$22</span>
	<span class="token opcode property">ORA</span> byte_RAM_<span class="token decimalnumber string">10</span>
	<span class="token opcode property">STA</span> PseudoRNGValues
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Sets the raw level data pointer to the level data.</p>
&nbsp;</aside><pre><a name="l4004" href="#l4004" title="Link to line 4004">#</a><code>RestoreLevelDataCopyAddress:
	<span class="token opcode property">LDA</span> #>RawLevelData
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">6</span>
	<span class="token opcode property">LDA</span> #&#x3C;RawLevelData
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">5</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Sets the raw level data pointer to the jar data.</p>
<p>This is what allows jars to load so quickly.</p>
&nbsp;</aside><pre><a name="l4017" href="#l4017" title="Link to line 4017">#</a><code>HijackLevelDataCopyAddressWithJar:
	<span class="token opcode property">LDA</span> #>RawJarData
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">6</span>
	<span class="token opcode property">LDA</span> #&#x3C;RawJarData
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">5</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h3>Render foreground level data</h3>
<p>Reads level data from the beginning and processes individual objects.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_4</code>: raw data offset</li>
</ul>
&nbsp;</aside><pre><a name="l4033" href="#l4033" title="Link to line 4033">#</a><code>ReadLevelForegroundData:&nbsp;</code></pre><aside><p>start at area page 0</p>
&nbsp;</aside><pre><a name="l4035" href="#l4035" title="Link to line 4035">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
&nbsp;</code></pre><aside><p>weird? the next lines do nothing</p>
&nbsp;</aside><pre><a name="l4039" href="#l4039" title="Link to line 4039">#</a><code>	<span class="token opcode property">LDY</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">JMP</span> ReadLevelForegroundData_NextByteObject

ReadLevelForegroundData_NextByteObject:
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">4</span>

ReadLevelForegroundData_NextByte:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$FF</span>
	<span class="token opcode property">BNE</span> ReadLevelForegroundData_ProcessObject&nbsp;</code></pre><aside><p>Encountering <code>$FF</code> indicates the end of the level data.</p>
&nbsp;</aside><pre><a name="l4051" href="#l4051" title="Link to line 4051">#</a><code>	<span class="token opcode property">RTS</span>

ReadLevelForegroundData_ProcessObject:&nbsp;</code></pre><aside><p>Stash the lower nybble of the first byte.
For a special object, this will be the special object type.
For a regular object, this will be the X position.</p>
&nbsp;</aside><pre><a name="l4057" href="#l4057" title="Link to line 4057">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">5</span>&nbsp;</code></pre><aside><p>If the upper nybble of the first byte is $F, this is a special object.</p>
&nbsp;</aside><pre><a name="l4061" href="#l4061" title="Link to line 4061">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BNE</span> ReadLevelForegroundData_RegularObject

ReadLevelForegroundData_SpecialObject:
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">STY</span> byte_RAM_F
	<span class="token opcode property">JSR</span> ProcessSpecialObjectForeground

	<span class="token opcode property">LDY</span> byte_RAM_F
	<span class="token opcode property">JMP</span> ReadLevelForegroundData_NextByte

ReadLevelForegroundData_RegularObject:
	<span class="token opcode property">JSR</span> UpdateAreaYOffset
&nbsp;</code></pre><aside><p>check object type</p>
&nbsp;</aside><pre><a name="l4078" href="#l4078" title="Link to line 4078">#</a><code>	<span class="token opcode property">INY</span>&nbsp;</code></pre><aside><p>upper nybble</p>
&nbsp;</aside><pre><a name="l4080" href="#l4080" title="Link to line 4080">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">BCS</span> ReadLevelForegroundData_RegularObjectWithSize

ReadLevelForegroundData_RegularObjectNoSize:
	<span class="token opcode property">PHA</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">PLA</span>
	<span class="token opcode property">BEQ</span> ReadLevelForegroundData_RegularObjectNoSize_<span class="token decimalnumber string">00</span>

	<span class="token opcode property">PHA</span>
	<span class="token opcode property">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">PLA</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">BNE</span> ReadLevelForegroundData_RegularObjectNoSize_Not<span class="token decimalnumber string">10</span>

ReadLevelForegroundData_RegularObjectNoSize_<span class="token decimalnumber string">10</span>:
	<span class="token opcode property">JSR</span> CreateObjects_<span class="token decimalnumber string">10</span>
	<span class="token opcode property">JMP</span> ReadLevelForegroundData_RegularObject_Exit

ReadLevelForegroundData_RegularObjectNoSize_Not<span class="token decimalnumber string">10</span>:
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$02</span>
	<span class="token opcode property">BNE</span> ReadLevelForegroundData_RegularObjectNoSize_Not<span class="token decimalnumber string">20</span>

ReadLevelForegroundData_RegularObjectNoSize_<span class="token decimalnumber string">20</span>:
	<span class="token opcode property">JSR</span> CreateObjects_<span class="token decimalnumber string">20</span>
	<span class="token opcode property">JMP</span> ReadLevelForegroundData_RegularObject_Exit

ReadLevelForegroundData_RegularObjectNoSize_Not<span class="token decimalnumber string">20</span>:
	<span class="token opcode property">JMP</span> ReadLevelForegroundData_RegularObject_Exit

ReadLevelForegroundData_RegularObjectWithSize:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">JSR</span> CreateObjects_<span class="token decimalnumber string">30</span>thruF<span class="token decimalnumber string">0</span>

ReadLevelForegroundData_RegularObject_Exit:
	<span class="token opcode property">JMP</span> ReadLevelForegroundData_NextByteObject

ReadLevelForegroundData_RegularObjectNoSize_<span class="token decimalnumber string">00</span>:
	<span class="token opcode property">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">JSR</span> CreateObjects_<span class="token decimalnumber string">00</span>

	<span class="token opcode property">JMP</span> ReadLevelForegroundData_RegularObject_Exit

&nbsp;</code></pre><aside><p>Updates the area Y offset for object placement</p>
<h5>Input</h5>
<ul>
<li><code>A</code>: vertical offset</li>
</ul>
&nbsp;</aside><pre><a name="l4155" href="#l4155" title="Link to line 4155">#</a><code>UpdateAreaYOffset:
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">BCC</span> UpdateAreaYOffset_SamePage

	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">JMP</span> UpdateAreaYOffset_NextPage

UpdateAreaYOffset_SamePage:
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BNE</span> UpdateAreaYOffset_Exit

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>

UpdateAreaYOffset_NextPage:
	<span class="token opcode property">INC</span> byte_RAM_E<span class="token decimalnumber string">8</span>

UpdateAreaYOffset_Exit:
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Processes special objects for the second pass, which draws object tiles.</p>
<p>On this pass, ground setting tiles are ignored, and we're just eating the bytes, but page skip
objects still require updating the tile placement cursor.</p>
<p>Area pointers are also processed in this pass. Although they <em>could</em> be processed earlier, this
reduces the likelihood of being overridden by a door pointer.</p>
&nbsp;</aside><pre><a name="l4186" href="#l4186" title="Link to line 4186">#</a><code>ProcessSpecialObjectForeground:
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> EatLevelObject<span class="token decimalnumber string">1</span>Byte <span class="token comment">; Ground setting 0-8</span>
	<span class="token directive keyword">.dw</span> EatLevelObject<span class="token decimalnumber string">1</span>Byte <span class="token comment">; Ground setting 9-15</span>
	<span class="token directive keyword">.dw</span> SkipForwardPage<span class="token decimalnumber string">1</span>Foreground <span class="token comment">; Skip forward 1 page</span>
	<span class="token directive keyword">.dw</span> SkipForwardPage<span class="token decimalnumber string">2</span>Foreground <span class="token comment">; Skip forward 2 pages</span>
	<span class="token directive keyword">.dw</span> ResetPageAndOffsetForeground <span class="token comment">; New object layer</span>
	<span class="token directive keyword">.dw</span> SetAreaPointer <span class="token comment">; Area pointer</span>
	<span class="token directive keyword">.dw</span> EatLevelObject<span class="token decimalnumber string">1</span>Byte <span class="token comment">; Ground appearance</span>
IFDEF LEVEL_ENGINE_UPGRADES
	<span class="token directive keyword">.dw</span> CreateRawTiles
ENDIF

&nbsp;</code></pre><aside><p>Processes special objects for the first pass, which draws ground layout tiles.</p>
&nbsp;</aside><pre><a name="l4204" href="#l4204" title="Link to line 4204">#</a><code>ProcessSpecialObjectBackground:
	<span class="token opcode property">JSR</span> JumpToTableAfterJump

	<span class="token directive keyword">.dw</span> SetGroundSettingA <span class="token comment">; Ground setting 0-7</span>
	<span class="token directive keyword">.dw</span> SetGroundSettingB <span class="token comment">; Ground setting 8-15</span>
	<span class="token directive keyword">.dw</span> SkipForwardPage<span class="token decimalnumber string">1</span>Background <span class="token comment">; Skip forward 1 page</span>
	<span class="token directive keyword">.dw</span> SkipForwardPage<span class="token decimalnumber string">2</span>Background <span class="token comment">; Skip forward 2 pages</span>
	<span class="token directive keyword">.dw</span> ResetPageAndOffsetBackground <span class="token comment">; New object layer</span>
	<span class="token directive keyword">.dw</span> SetAreaPointerNoOp <span class="token comment">; Area pointer</span>
	<span class="token directive keyword">.dw</span> SetGroundType <span class="token comment">; Ground appearance</span>
IFDEF LEVEL_ENGINE_UPGRADES
	<span class="token directive keyword">.dw</span> CreateRawTilesNoOp
ENDIF


&nbsp;</code></pre><aside><h4>Special Object <code>$F2</code> / <code>$F3</code>: Skip Page (Foreground)</h4>
<p>Moves the tile placement cursor forward one or two pages in the foregorund pass.</p>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_E8</code>: area page</li>
<li><code>byte_RAM_E6</code>: tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l4230" href="#l4230" title="Link to line 4230">#</a><code>SkipForwardPage<span class="token decimalnumber string">2</span>Foreground:
	<span class="token opcode property">INC</span> byte_RAM_E<span class="token decimalnumber string">8</span>

SkipForwardPage<span class="token decimalnumber string">1</span>Foreground:
	<span class="token opcode property">INC</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">RTS</span>


&nbsp;</code></pre><aside><h4>Special Object <code>$F2</code> / <code>$F3</code>: Skip Page (Background)</h4>
<p>Moves the tile placement cursor forward one or two pages in the background pass.</p>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_540</code>: area page</li>
<li><code>byte_RAM_E</code>: tile placement offset</li>
<li><code>byte_RAM_9</code>: tile placement offset (overflow counter)</li>
</ul>
&nbsp;</aside><pre><a name="l4252" href="#l4252" title="Link to line 4252">#</a><code>SkipForwardPage<span class="token decimalnumber string">2</span>Background:
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">540</span>

SkipForwardPage<span class="token decimalnumber string">1</span>Background:
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">540</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Advances two bytes in the level data.</p>
<p>Unreferenced?</p>
&nbsp;</aside><pre><a name="l4268" href="#l4268" title="Link to line 4268">#</a><code>EatLevelObject<span class="token decimalnumber string">2</span>Bytes:
	<span class="token opcode property">INC</span> byte_RAM_F
&nbsp;</code></pre><aside><p>Advances one byte in the level data.</p>
&nbsp;</aside><pre><a name="l4274" href="#l4274" title="Link to line 4274">#</a><code>EatLevelObject<span class="token decimalnumber string">1</span>Byte:
	<span class="token opcode property">INC</span> byte_RAM_F
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h4>Area Pointer Object <code>$F5</code></h4>
<p>Sets the area pointer for this page.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_F</code>: level data byte offset</li>
<li><code>byte_RAM_E8</code>: area page</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_F</code>: level data byte offset</li>
</ul>
&nbsp;</aside><pre><a name="l4291" href="#l4291" title="Link to line 4291">#</a><code>SetAreaPointer:
	<span class="token opcode property">LDY</span> byte_RAM_F
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> AreaPointersByPage, <span class="token register variable">X</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> AreaPointersByPage, <span class="token register variable">X</span>
	<span class="token opcode property">STY</span> byte_RAM_F
	<span class="token opcode property">RTS</span>


IFDEF LEVEL_ENGINE_UPGRADES&nbsp;</code></pre><aside><h4>Special Object <code>$F7</code></h4>
<p>Creates a run of 1-16 arbitrary tiles.</p>
<h4>Usage: <code>$F7 $YX $WL ...</code></h4>
<ul>
<li><code>Y</code>: relative Y offset on page</li>
<li><code>X</code>: X position on page</li>
<li><code>W</code>: wrap width (eg. 0 for no wrap, 2 for 2-tiles wide, etc.)</li>
<li><code>L</code>: run length, L+1 subsequent bytes are the raw tiles</li>
</ul>
&nbsp;</aside><pre><a name="l4319" href="#l4319" title="Link to line 4319">#</a><code>CreateRawTiles:
	<span class="token opcode property">LDY</span> byte_RAM_F
&nbsp;</code></pre><aside><p>setting the page address allows this to be the first object of an area</p>
&nbsp;</aside><pre><a name="l4323" href="#l4323" title="Link to line 4323">#</a><code>	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">INY</span>&nbsp;</code></pre><aside><p>read tile placement offset</p>
&nbsp;</aside><pre><a name="l4328" href="#l4328" title="Link to line 4328">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> byte_RAM_E<span class="token decimalnumber string">6</span> <span class="token comment">; add current offset</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span> <span class="token comment">; target tile placement offset</span>
&nbsp;</code></pre><aside><p>apply page Y offset</p>
&nbsp;</aside><pre><a name="l4334" href="#l4334" title="Link to line 4334">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">JSR</span> UpdateAreaYOffset

	<span class="token opcode property">INY</span>&nbsp;</code></pre><aside><p>read run length</p>
&nbsp;</aside><pre><a name="l4340" href="#l4340" title="Link to line 4340">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>D
&nbsp;</code></pre><aside><p>read wrap length</p>
&nbsp;</aside><pre><a name="l4345" href="#l4345" title="Link to line 4345">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
&nbsp;</code></pre><aside><p>start counting from 0</p>
&nbsp;</aside><pre><a name="l4353" href="#l4353" title="Link to line 4353">#</a><code>	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$00</span>
&nbsp;</code></pre><aside><p>everything afterwards is raw data</p>
&nbsp;</aside><pre><a name="l4356" href="#l4356" title="Link to line 4356">#</a><code>CreateRawTiles_Loop:&nbsp;</code></pre><aside><p>increment and stash Y</p>
&nbsp;</aside><pre><a name="l4358" href="#l4358" title="Link to line 4358">#</a><code>	<span class="token opcode property">INY</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">PHA</span>
&nbsp;</code></pre><aside><p>write the next tile</p>
&nbsp;</aside><pre><a name="l4363" href="#l4363" title="Link to line 4363">#</a><code>	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>
&nbsp;</code></pre><aside><p>increment x-position (crossing page as necessary)</p>
&nbsp;</aside><pre><a name="l4368" href="#l4368" title="Link to line 4368">#</a><code>	<span class="token opcode property">JSR</span> IncrementAreaXOffset
	<span class="token opcode property">STY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
&nbsp;</code></pre><aside><p>are we wrapping this run of tiles?</p>
&nbsp;</aside><pre><a name="l4372" href="#l4372" title="Link to line 4372">#</a><code>	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">BEQ</span> CreateRawTiles_NoWrap
&nbsp;</code></pre><aside><p>increment y-position if we hit the wrap point</p>
&nbsp;</aside><pre><a name="l4376" href="#l4376" title="Link to line 4376">#</a><code>	<span class="token opcode property">TXA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$01</span>
CreateRawTiles_CheckWrap:
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">BMI</span> CreateRawTiles_NoWrap
	<span class="token opcode property">BNE</span> CreateRawTiles_CheckWrap

CreateRawTiles_Wrap:
	<span class="token opcode property">TXA</span>
	<span class="token opcode property">PHA</span>
	<span class="token opcode property">JSR</span> IncrementAreaYOffset
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> byte_RAM_<span class="token decimalnumber string">50</span>E
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">STY</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">PLA</span>
	<span class="token opcode property">TAX</span>

CreateRawTiles_NoWrap:&nbsp;</code></pre><aside><p>restore Y and iterate</p>
&nbsp;</aside><pre><a name="l4398" href="#l4398" title="Link to line 4398">#</a><code>	<span class="token opcode property">PLA</span>
	<span class="token opcode property">TAY</span>

	<span class="token opcode property">CPX</span> byte_RAM_<span class="token decimalnumber string">50</span>D
	<span class="token opcode property">INX</span>
	<span class="token opcode property">BCC</span> CreateRawTiles_Loop
&nbsp;</code></pre><aside><p>update level data offset</p>
&nbsp;</aside><pre><a name="l4406" href="#l4406" title="Link to line 4406">#</a><code>	<span class="token opcode property">STY</span> byte_RAM_F

CreateRawTilesNoOp:
	<span class="token opcode property">RTS</span>
ENDIF

&nbsp;</code></pre><aside><p>Use top 3 bits for the X offset of a ground setting object</p>
<h5>Output</h5>
<ul>
<li><code>A</code>: 0-7</li>
</ul>
&nbsp;</aside><pre><a name="l4419" href="#l4419" title="Link to line 4419">#</a><code>ReadGroundSettingOffset:
	<span class="token opcode property">LDY</span> byte_RAM_F
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%11100000</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><h4>Special Object <code>$F0</code> / <code>$F1</code>: Ground Setting</h4>
<p>Sets ground setting at some relative offset on the current page.</p>
<p>Object <code>$F0</code> can change the ground setting for offsets 0 through 7.
Object <code>$F1</code> can change the ground setting for offsets 8 through 15.</p>
<h4>Input</h4>
<ul>
<li><code>A</code>: Relative offset (0-7)</li>
<li><code>byte_RAM_F</code>: level data byte offset</li>
</ul>
<h4>Output</h4>
<ul>
<li><code>byte_RAM_E</code>: tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l4446" href="#l4446" title="Link to line 4446">#</a><code>SetGroundSettingA:
	<span class="token opcode property">JSR</span> ReadGroundSettingOffset
	<span class="token opcode property">JMP</span> SetGroundSetting

SetGroundSettingB:
	<span class="token opcode property">JSR</span> ReadGroundSettingOffset
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$08</span>

SetGroundSetting:
	<span class="token opcode property">STA</span> byte_RAM_E
	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BNE</span> SetGroundSetting_Exit

	<span class="token opcode property">LDA</span> byte_RAM_E
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> byte_RAM_E

SetGroundSetting_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h4>Special Object <code>$F4</code>: New Layer (Foreground)</h4>
<p>Moves the tile placement cursor to the beginning of the first page in the foreground pass.</p>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_E8</code>: area page</li>
<li><code>byte_RAM_E6</code>: tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l4481" href="#l4481" title="Link to line 4481">#</a><code>ResetPageAndOffsetForeground:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">8</span> <span class="token comment">; area page</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">6</span> <span class="token comment">; tile placement offset</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h4>Special Object <code>$F4</code>: New Layer (Background)</h4>
<p>Moves the tile placement cursor to the beginning of the first page in the background pass.</p>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_540</code>: area page</li>
<li><code>byte_RAM_E</code>: tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l4498" href="#l4498" title="Link to line 4498">#</a><code>ResetPageAndOffsetBackground:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">540</span>
	<span class="token opcode property">STA</span> byte_RAM_E
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Area pointers are not processed on the background pass.</p>
&nbsp;</aside><pre><a name="l4508" href="#l4508" title="Link to line 4508">#</a><code>SetAreaPointerNoOp:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h4>Ground Appearance Object <code>$F6</code></h4>
<p>Sets the ground appearance, which determines the tiles used when drawing the ground setting.</p>
<h5>Output</h5>
<p><code>GroundType</code>: the ground type used for drawing the background</p>
&nbsp;</aside><pre><a name="l4521" href="#l4521" title="Link to line 4521">#</a><code>SetGroundType:
	<span class="token opcode property">LDY</span> byte_RAM_F
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token binarynumber string">#%00001111</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> GroundType
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><h3>Render background level data</h3>
<p>Reads level data from the beginning and processes the ground layout.</p>
<p>This first pass is used for setting up the ground types and settings before normal objects are
rendered in the level.</p>
<h5>Input</h5>
<ul>
<li><code>Y</code>: raw data offset</li>
</ul>
&nbsp;</aside><pre><a name="l4543" href="#l4543" title="Link to line 4543">#</a><code>ReadLevelBackgroundData:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">540</span>

ReadLevelBackgroundData_Page:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">9</span>

ReadLevelBackgroundData_Object:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$FF</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_ProcessObject
&nbsp;</code></pre><aside><p>Encountering <code>$FF</code> indicates the end of the level data.
We need to render the remaining ground setting through the end of the last page in the area.</p>
&nbsp;</aside><pre><a name="l4558" href="#l4558" title="Link to line 4558">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">540</span>
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">540</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_RenderGround

ReadLevelBackgroundData_ProcessObject:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BEQ</span> ReadLevelBackgroundData_ProcessObject_Advance<span class="token decimalnumber string">2</span>Bytes

	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_ProcessRegularObject
&nbsp;</code></pre><aside><p>First byte of <code>$FX</code> indicates a special object.</p>
&nbsp;</aside><pre><a name="l4576" href="#l4576" title="Link to line 4576">#</a><code>ReadLevelBackgroundData_ProcessSpecialObject:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">STY</span> byte_RAM_F
	<span class="token opcode property">JSR</span> ProcessSpecialObjectBackground
&nbsp;</code></pre><aside><p>Determine how many more bytes to advance after processing the special object.</p>
&nbsp;</aside><pre><a name="l4583" href="#l4583" title="Link to line 4583">#</a><code>	<span class="token opcode property">LDY</span> byte_RAM_F
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
&nbsp;</code></pre><aside><p>Ground setting <code>$F0</code> / <code>$F1</code> should render the previous ground setting</p>
&nbsp;</aside><pre><a name="l4588" href="#l4588" title="Link to line 4588">#</a><code>	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$02</span>
	<span class="token opcode property">BCC</span> ReadLevelBackgroundData_RenderGround
&nbsp;</code></pre><aside><p>Special objects except <code>$F0</code> / <code>$F1</code></p>
&nbsp;</aside><pre><a name="l4592" href="#l4592" title="Link to line 4592">#</a><code>	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$05</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_ProcessObject_NotF<span class="token decimalnumber string">5</span>

ReadLevelBackgroundData_ProcessObject_Advance<span class="token decimalnumber string">3</span>Bytes:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_ProcessObject_Advance<span class="token decimalnumber string">2</span>Bytes

ReadLevelBackgroundData_ProcessObject_NotF<span class="token decimalnumber string">5</span>:&nbsp;</code></pre><aside><p>Special objects except <code>$F0</code> / <code>$F1</code> / <code>$F5</code></p>
&nbsp;</aside><pre><a name="l4601" href="#l4601" title="Link to line 4601">#</a><code>	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$06</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_ProcessObject_AdvanceByte
&nbsp;</code></pre><aside><p>Ground appearance <code>$F6</code> is two bytes.</p>
&nbsp;</aside><pre><a name="l4605" href="#l4605" title="Link to line 4605">#</a><code>ReadLevelBackgroundData_ProcessObject_Advance<span class="token decimalnumber string">2</span>Bytes:
	<span class="token opcode property">INY</span>

ReadLevelBackgroundData_ProcessObject_AdvanceByte:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_Object
&nbsp;</code></pre><aside><p>Processes a regular object, as indicated by a value of <code>$0X-$EX</code> in the first byte.</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_9</code>: tile placement offset (overflow counter)</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_540</code>: area page</li>
<li><code>byte_RAM_9</code>: tile placement offset (overflow counter)</li>
</ul>
<p>Since we're only processing background objects, all this needs to do is look at the object offset
and advance the tile placement cursor and current page as needed.</p>
<h4>The Door Pointer Y Offset "Bug"</h4>
<p>An interesting quirk about the level engine is that door pointers are used in worlds 1-5, but not
worlds 6 and 7, due to the fact that the pointers have an effective Y offset of 1.</p>
<p>The developers chose to disable door pointers to deal with this problem, but another solution
would have been to modify the code here to determine whether an object was being used as a door
pointer and avoid processing its position offset.</p>
&nbsp;</aside><pre><a name="l4634" href="#l4634" title="Link to line 4634">#</a><code>ReadLevelBackgroundData_ProcessRegularObject:
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">BCC</span> ReadLevelBackgroundData_ProcessRegularObject_SamePage
&nbsp;</code></pre><aside><p>The object position overflowed to the next page.</p>
&nbsp;</aside><pre><a name="l4640" href="#l4640" title="Link to line 4640">#</a><code>	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_ProcessRegularObject_NextPage

ReadLevelBackgroundData_ProcessRegularObject_SamePage:
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_ProcessRegularObject_Exit

	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>

ReadLevelBackgroundData_ProcessRegularObject_NextPage:
	<span class="token opcode property">INC</span> byte_RAM_<span class="token decimalnumber string">540</span>

ReadLevelBackgroundData_ProcessRegularObject_Exit:
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">9</span>
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_ProcessObject_Advance<span class="token decimalnumber string">2</span>Bytes

&nbsp;</code></pre><aside><p>Renders the ground setting up to this point.</p>
<p>This code is invoked when we encounter a ground setting object and need to render the previous
ground setting up tothis point or when we have reached the end of the level data and need to
render the current ground setting through the end of the area.</p>
<h4>Input</h4>
<ul>
<li><code>byte_RAM_E8</code>: area page</li>
<li><code>byte_RAM_E5</code>: tile placement offset shift</li>
<li><code>byte_RAM_E6</code>: previous tile placement offset</li>
<li><code>byte_RAM_540</code>: area page (end)</li>
<li><code>byte_RAM_E</code>: tile placement offset (end)</li>
</ul>
<h4>Output</h4>
&nbsp;</aside><pre><a name="l4673" href="#l4673" title="Link to line 4673">#</a><code>ReadLevelBackgroundData_RenderGround:
	<span class="token opcode property">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">JSR</span> LoadGroundSetData

	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BEQ</span> ReadLevelBackgroundData_RenderGround_Vertical

ReadLevelBackgroundData_RenderGround_Horizontal:&nbsp;</code></pre><aside><p>Increment the column.</p>
&nbsp;</aside><pre><a name="l4683" href="#l4683" title="Link to line 4683">#</a><code>	<span class="token opcode property">INC</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_RenderGround_CheckComplete
&nbsp;</code></pre><aside><p>Increment the page and reset to the first column.</p>
&nbsp;</aside><pre><a name="l4689" href="#l4689" title="Link to line 4689">#</a><code>	<span class="token opcode property">INC</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_RenderGround_CheckComplete


ReadLevelBackgroundData_RenderGround_Vertical:&nbsp;</code></pre><aside><p>Increment the row.</p>
&nbsp;</aside><pre><a name="l4697" href="#l4697" title="Link to line 4697">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">JSR</span> UpdateAreaYOffset

ReadLevelBackgroundData_RenderGround_CheckComplete:&nbsp;</code></pre><aside><p>If there are more pages to render with this ground setting, keep going.</p>
&nbsp;</aside><pre><a name="l4702" href="#l4702" title="Link to line 4702">#</a><code>	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">CMP</span> byte_RAM_<span class="token decimalnumber string">540</span>
	<span class="token opcode property">BNE</span> ReadLevelBackgroundData_RenderGround

	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BEQ</span> ReadLevelBackgroundData_RenderGround_CheckComplete_Vertical

ReadLevelBackgroundData_RenderGround_CheckComplete_Horizontal:&nbsp;</code></pre><aside><p>If there is more to render with this ground setting, keep going.</p>
&nbsp;</aside><pre><a name="l4711" href="#l4711" title="Link to line 4711">#</a><code>	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">CMP</span> byte_RAM_E
	<span class="token opcode property">BCC</span> ReadLevelBackgroundData_RenderGround
&nbsp;</code></pre><aside><p>Otherwise, move on and process the next object.</p>
&nbsp;</aside><pre><a name="l4716" href="#l4716" title="Link to line 4716">#</a><code>	<span class="token opcode property">BCS</span> ReadLevelBackgroundData_RenderGround_Exit

ReadLevelBackgroundData_RenderGround_CheckComplete_Vertical:
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">CMP</span> byte_RAM_E
	<span class="token opcode property">BCC</span> ReadLevelBackgroundData_RenderGround

ReadLevelBackgroundData_RenderGround_Exit:
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>&nbsp;</code></pre><aside><p>Encountering <code>$FF</code> indicates the end of the level data.</p>
&nbsp;</aside><pre><a name="l4726" href="#l4726" title="Link to line 4726">#</a><code>	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$FF</span>
	<span class="token opcode property">BEQ</span> ReadGroundSetByte_Exit
&nbsp;</code></pre><aside><p>Otherwise this was triggered because we encountered a ground setting object, so <code>GroundSetting</code>
for the next time we need to render the ground.</p>
&nbsp;</aside><pre><a name="l4731" href="#l4731" title="Link to line 4731">#</a><code>	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$1F</span>
	<span class="token opcode property">STA</span> GroundSetting
	<span class="token opcode property">JMP</span> ReadLevelBackgroundData_ProcessObject_AdvanceByte

&nbsp;</code></pre><aside><hr>
&nbsp;</aside><pre><a name="l4738" href="#l4738" title="Link to line 4738">#</a><code>&nbsp;</code></pre><aside><p>Reads the current ground setting byte.</p>
<h5>Input</h5>
<ul>
<li><code>X</code>: Ground setting offset</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>A</code>: Byte containing the 4 ground appearance bit pairs for the offset</li>
</ul>
&nbsp;</aside><pre><a name="l4749" href="#l4749" title="Link to line 4749">#</a><code>ReadGroundSetByte:
	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BNE</span> ReadGroundSetByte_Vertical

	<span class="token opcode property">LDA</span> VerticalGroundSetData, <span class="token register variable">X</span>
	<span class="token opcode property">RTS</span>

ReadGroundSetByte_Vertical:
	<span class="token opcode property">LDA</span> HorizontalGroundSetData, <span class="token register variable">X</span>

ReadGroundSetByte_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Draws the current ground setting and type to the raw tile buffer.</p>
<h5>Input</h5>
<ul>
<li><code>GroundSetting</code>: current ground setting</li>
<li><code>GroundType</code>: current ground appearance</li>
<li><code>byte_RAM_E7</code>: tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l4771" href="#l4771" title="Link to line 4771">#</a><code>LoadGroundSetData:
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">LDA</span> GroundSetting
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDY</span> byte_RAM_E<span class="token decimalnumber string">7</span>

LoadGroundSetData_Loop:
	<span class="token opcode property">JSR</span> ReadGroundSetByte

	<span class="token opcode property">JSR</span> WriteGroundSetTiles<span class="token decimalnumber string">1</span>

	<span class="token opcode property">JSR</span> ReadGroundSetByte

	<span class="token opcode property">JSR</span> WriteGroundSetTiles<span class="token decimalnumber string">2</span>

	<span class="token opcode property">JSR</span> ReadGroundSetByte

	<span class="token opcode property">JSR</span> WriteGroundSetTiles<span class="token decimalnumber string">3</span>

	<span class="token opcode property">JSR</span> ReadGroundSetByte

	<span class="token opcode property">JSR</span> WriteGroundSetTiles<span class="token decimalnumber string">4</span>

	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BEQ</span> LoadGroundSetData_Horizontal

	<span class="token opcode property">INX</span>
	<span class="token opcode property">BCS</span> LoadGroundSetData_Exit

	<span class="token opcode property">BCC</span> LoadGroundSetData_Loop

LoadGroundSetData_Horizontal:
	<span class="token opcode property">INX</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">BNE</span> LoadGroundSetData_Loop

LoadGroundSetData_Exit:
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Draws current ground set tiles.</p>
&nbsp;</aside><pre><a name="l4817" href="#l4817" title="Link to line 4817">#</a><code>WriteGroundSetTiles:
WriteGroundSetTiles<span class="token decimalnumber string">1</span>:
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>

WriteGroundSetTiles<span class="token decimalnumber string">2</span>:
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>

WriteGroundSetTiles<span class="token decimalnumber string">3</span>:
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>

WriteGroundSetTiles<span class="token decimalnumber string">4</span>:
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$03</span>
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">3</span>&nbsp;</code></pre><aside><p>This <code>BEQ</code> is what effectively ignores the first index of the groundset tiles lookup tables.</p>
&nbsp;</aside><pre><a name="l4834" href="#l4834" title="Link to line 4834">#</a><code>	<span class="token opcode property">BEQ</span> WriteGroundSetTiles_AfterWriteTile

	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> GroundType
	<span class="token opcode property">TAX</span>
	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BNE</span> WriteGroundSetTiles_Horizontal

	<span class="token opcode property">JSR</span> ReadGroundTileVertical

	<span class="token opcode property">JMP</span> WriteGroundSetTiles_WriteTile

WriteGroundSetTiles_Horizontal:
	<span class="token opcode property">JSR</span> ReadGroundTileHorizontal

WriteGroundSetTiles_WriteTile:
	<span class="token opcode property">STA</span> (byte_RAM_<span class="token decimalnumber string">1</span>), <span class="token register variable">Y</span>

WriteGroundSetTiles_AfterWriteTile:
	<span class="token opcode property">LDX</span> byte_RAM_<span class="token decimalnumber string">3</span>
	<span class="token opcode property">LDA</span> IsHorizontalLevel
	<span class="token opcode property">BNE</span> WriteGroundSetTiles_IncrementYOffset

	<span class="token opcode property">INY</span>
	<span class="token opcode property">RTS</span>

WriteGroundSetTiles_IncrementYOffset:
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">RTS</span>


ReadGroundTileHorizontal:
	<span class="token opcode property">STX</span> byte_RAM_C
	<span class="token opcode property">STY</span> byte_RAM_D
	<span class="token opcode property">LDX</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> GroundTilesHorizontalLo, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> GroundTilesHorizontalHi, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDY</span> byte_RAM_C
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">7</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDX</span> byte_RAM_C
	<span class="token opcode property">LDY</span> byte_RAM_D
	<span class="token opcode property">RTS</span>


ReadGroundTileVertical:
	<span class="token opcode property">STX</span> byte_RAM_C
	<span class="token opcode property">STY</span> byte_RAM_D
	<span class="token opcode property">LDX</span> CurrentWorldTileset
	<span class="token opcode property">LDA</span> GroundTilesVerticalLo, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">LDA</span> GroundTilesVerticalHi, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">LDY</span> byte_RAM_C
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">7</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">LDX</span> byte_RAM_C
	<span class="token opcode property">LDY</span> byte_RAM_D
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Updates the area page and tile placement offset</p>
<h5>Input</h5>
<ul>
<li><code>byte_RAM_E8</code>: area page</li>
<li><code>byte_RAM_E5</code>: tile placement offset shift</li>
<li><code>byte_RAM_E6</code>: previous tile placement offset</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_1</code>: low byte of decoded level data RAM</li>
<li><code>byte_RAM_2</code>: high byte of decoded level data RAM</li>
<li><code>byte_RAM_E7</code>: target tile placement offset</li>
</ul>
&nbsp;</aside><pre><a name="l4911" href="#l4911" title="Link to line 4911">#</a><code>SetTileOffsetAndAreaPageAddr_Bank<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">6</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> byte_RAM_E<span class="token decimalnumber string">5</span>
	<span class="token opcode property">STA</span> byte_RAM_E<span class="token decimalnumber string">7</span>
	<span class="token opcode property">RTS</span>
&nbsp;</code></pre><aside><p>Updates the area page that we're drawing tiles to</p>
<h5>Input</h5>
<ul>
<li><code>X</code>: area page</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>byte_RAM_1</code>: low byte of decoded level data RAM</li>
<li><code>byte_RAM_2</code>: high byte of decoded level data RAM</li>
</ul>
&nbsp;</aside><pre><a name="l4931" href="#l4931" title="Link to line 4931">#</a><code>SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LDA</span> DecodedLevelPageStartLo_Bank<span class="token decimalnumber string">6</span>, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">1</span>
	<span class="token opcode property">LDA</span> DecodedLevelPageStartHi_Bank<span class="token decimalnumber string">6</span>, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">2</span>
	<span class="token opcode property">RTS</span>


IncrementAreaXOffset:
	<span class="token opcode property">INY</span>
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">BNE</span> IncrementAreaXOffset_Exit

	<span class="token opcode property">TYA</span>
	<span class="token opcode property">SEC</span>
	<span class="token opcode property">SBC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">STX</span> byte_RAM_B
	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">STX</span> byte_RAM_D
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>
	<span class="token opcode property">LDX</span> byte_RAM_B

IncrementAreaXOffset_Exit:
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Moves one row down and increments the page, if necessary</p>
&nbsp;</aside><pre><a name="l4961" href="#l4961" title="Link to line 4961">#</a><code>IncrementAreaYOffset:
	<span class="token opcode property">TYA</span>
	<span class="token opcode property">CLC</span>
	<span class="token opcode property">ADC</span> <span class="token hexnumber string">#$10</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">CMP</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">BCC</span> IncrementAreaYOffset_Exit
&nbsp;</code></pre><aside><p>increment the area page</p>
&nbsp;</aside><pre><a name="l4970" href="#l4970" title="Link to line 4970">#</a><code>	<span class="token opcode property">LDX</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">INX</span>
	<span class="token opcode property">JSR</span> SetAreaPageAddr_Bank<span class="token decimalnumber string">6</span>

	<span class="token opcode property">TYA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$0F</span>
	<span class="token opcode property">TAY</span>

IncrementAreaYOffset_Exit:
	<span class="token opcode property">RTS</span>


IFNDEF DISABLE_DOOR_POINTERS&nbsp;</code></pre><aside><p>Consume the object as an area pointer. This overwrites any existing area
pointer for this page.</p>
&nbsp;</aside><pre><a name="l4987" href="#l4987" title="Link to line 4987">#</a><code>LevelParser_EatDoorPointer:
	<span class="token opcode property">LDY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> (byte_RAM_<span class="token decimalnumber string">5</span>), <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STY</span> byte_RAM_<span class="token decimalnumber string">4</span>
	<span class="token opcode property">LDA</span> byte_RAM_E<span class="token decimalnumber string">8</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">TAY</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">7</span>
	<span class="token opcode property">STA</span> AreaPointersByPage, <span class="token register variable">Y</span>
	<span class="token opcode property">INY</span>
	<span class="token opcode property">LDA</span> byte_RAM_<span class="token decimalnumber string">8</span>
	<span class="token opcode property">STA</span> AreaPointersByPage, <span class="token register variable">Y</span>
	<span class="token opcode property">RTS</span>
ENDIF
&nbsp;</code></pre><aside><p>High byte of the PPU scroll offset for nametable B.</p>
<p>When mirroring vertically, nametable A is <code>$2000</code> and nametable B is <code>$2800</code>.
When mirroring horizontally, nametable A is <code>$2000</code> and nametable B is <code>$2400</code>.</p>
&nbsp;</aside><pre><a name="l5013" href="#l5013" title="Link to line 5013">#</a><code>PPUScrollHiOffsets_Bank<span class="token decimalnumber string">6</span>:
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$28</span> <span class="token comment">; vertical</span>
	<span class="token directive keyword">.db</span> <span class="token hexnumber string">$24</span> <span class="token comment">; horizontal</span>
&nbsp;</code></pre><aside><p>Resets the PPU high scrolling values and sets the high byte of the PPU scroll offset.</p>
<p>The version of the subroutine in this bank is always called with <code>A = $00</code>.</p>
<h5>Input</h5>
<ul>
<li><code>A</code>: 0 = use nametable A, 1 = use nametable B</li>
<li><code>Y</code>: 0 = vertical, 1 = horizontal</li>
</ul>
<h5>Output</h5>
<ul>
<li><code>PPUScrollYHiMirror</code></li>
<li><code>PPUScrollXHiMirror</code></li>
<li><code>byte_RAM_506</code>: PPU scroll offset high byte</li>
</ul>
&nbsp;</aside><pre><a name="l5031" href="#l5031" title="Link to line 5031">#</a><code>ResetPPUScrollHi_Bank<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LSR</span> <span class="token register variable">A</span>
	<span class="token opcode property">BCS</span> ResetPPUScrollHi_NametableB_Bank<span class="token decimalnumber string">6</span>

ResetPPUScrollHi_NametableA_Bank<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$01</span>
	<span class="token opcode property">STA</span> PPUScrollXHiMirror
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> PPUScrollYHiMirror
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$20</span>
	<span class="token opcode property">BNE</span> ResetPPUScrollHi_Exit_Bank<span class="token decimalnumber string">6</span>

ResetPPUScrollHi_NametableB_Bank<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> PPUScrollXHiMirror
	<span class="token opcode property">STA</span> PPUScrollYHiMirror
	<span class="token opcode property">LDA</span> PPUScrollHiOffsets_Bank<span class="token decimalnumber string">6</span>, <span class="token register variable">Y</span>

ResetPPUScrollHi_Exit_Bank<span class="token decimalnumber string">6</span>:
	<span class="token opcode property">STA</span> byte_RAM_<span class="token decimalnumber string">506</span>
	<span class="token opcode property">RTS</span>

&nbsp;</code></pre><aside><p>Creates a mushroom object in subspace.</p>
<h5>Input</h5>
<ul>
<li><code>X</code>: Object position</li>
<li><code>Y</code>: Which mushroom (0 or 1)</li>
</ul>
&nbsp;</aside><pre><a name="l5061" href="#l5061" title="Link to line 5061">#</a><code>CreateSubspaceMushroomObject:
	<span class="token opcode property">TXA</span>
	<span class="token opcode property">PHA</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$F0</span>
	<span class="token opcode property">STA</span> ObjectYLo
	<span class="token opcode property">TXA</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">ASL</span> <span class="token register variable">A</span>
	<span class="token opcode property">STA</span> ObjectXLo
&nbsp;</code></pre><aside><p>Subspace is page <code>$0A</code>.</p>
&nbsp;</aside><pre><a name="l5074" href="#l5074" title="Link to line 5074">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$0A</span>
	<span class="token opcode property">STA</span> ObjectXHi
	<span class="token opcode property">LDX</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STX</span> byte_RAM_<span class="token decimalnumber string">12</span>
	<span class="token opcode property">STX</span> ObjectYHi
&nbsp;</code></pre><aside><p>Create a living fungus.
Even most of this routine uses an enemy slot offset, the next few lines assume slot 0.
We just set <code>X</code> to 0, so this is a safe enough assumption.</p>
&nbsp;</aside><pre><a name="l5083" href="#l5083" title="Link to line 5083">#</a><code>	<span class="token opcode property">LDA</span> #Enemy_Mushroom
	<span class="token opcode property">STA</span> ObjectType
	<span class="token opcode property">LDA</span> #EnemyState_Alive
	<span class="token opcode property">STA</span> EnemyState&nbsp;</code></pre><aside><p>Keep track of which mushroom so that you can't collect it twice.</p>
&nbsp;</aside><pre><a name="l5088" href="#l5088" title="Link to line 5088">#</a><code>	<span class="token opcode property">STY</span> EnemyVariable
&nbsp;</code></pre><aside><p>Reset various object timers and attributes</p>
&nbsp;</aside><pre><a name="l5091" href="#l5091" title="Link to line 5091">#</a><code>	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$00</span>
	<span class="token opcode property">STA</span> EnemyTimer, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> EnemyArray_B<span class="token decimalnumber string">1</span>, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> ObjectBeingCarriedTimer, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> ObjectAnimationTimer, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> ObjectShakeTimer, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> EnemyCollision, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> EnemyArray_<span class="token decimalnumber string">438</span>, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> EnemyArray_<span class="token decimalnumber string">453</span>, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> EnemyArray_<span class="token decimalnumber string">45</span>C, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> ObjectYVelocity, <span class="token register variable">X</span>
	<span class="token opcode property">STA</span> ObjectXVelocity, <span class="token register variable">X</span>
&nbsp;</code></pre><aside><p>Load various object attributes for a mushroom</p>
&nbsp;</aside><pre><a name="l5105" href="#l5105" title="Link to line 5105">#</a><code>	<span class="token opcode property">LDY</span> ObjectType, <span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> ObjectAttributeTable, <span class="token register variable">Y</span>
	<span class="token opcode property">AND</span> <span class="token hexnumber string">#$7F</span>
	<span class="token opcode property">STA</span> ObjectAttributes, <span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> EnemyArray_<span class="token decimalnumber string">46</span>E_Data, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> EnemyArray_<span class="token decimalnumber string">46</span>E, <span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> EnemyArray_<span class="token decimalnumber string">489</span>_Data, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> EnemyArray_<span class="token decimalnumber string">489</span>, <span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> EnemyArray_<span class="token decimalnumber string">492</span>_Data, <span class="token register variable">Y</span>
	<span class="token opcode property">STA</span> EnemyArray_<span class="token decimalnumber string">492</span>, <span class="token register variable">X</span>
	<span class="token opcode property">LDA</span> <span class="token hexnumber string">#$FF</span>
	<span class="token opcode property">STA</span> EnemyRawDataOffset, <span class="token register variable">X</span>
&nbsp;</code></pre><aside><p>Restore X to its previous value</p>
&nbsp;</aside><pre><a name="l5119" href="#l5119" title="Link to line 5119">#</a><code>	<span class="token opcode property">PLA</span>
	<span class="token opcode property">TAX</span>

	<span class="token opcode property">RTS</span>
&nbsp;</code></pre></section></article></main><footer class="Footer-xbtfn2-0 kvnzNL"><p>All product names, logos, and brands are property of their respective owners.</p><p>Annotated disassembly site generator © <!-- -->2019<!-- --> <!-- -->Keith McKnight</p><ul><li><a href="https://github.com/XKeeper0/smb2">GitHub</a></li><li><a href="https://discord.gg/TsWMMeV">Discord</a></li></ul></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/src/prg-6-7.asm";window.webpackCompilationHash="597ab6d0eddc3471edff";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-73183e4eb413cfdc340b.js"],"component---src-templates-asm-source-jsx":["/component---src-templates-asm-source-jsx-3bb2cbd0a842989d029d.js"],"component---src-templates-asm-directory-jsx":["/component---src-templates-asm-directory-jsx-99cfe395a82c27d3aeb9.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-cc5d31acb9d9c591cc78.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-cab01fe6ec86f8921fbe.js"]};/*]]>*/</script><script src="/smb2/component---src-templates-asm-source-jsx-3bb2cbd0a842989d029d.js" async=""></script><script src="/smb2/commons-a9b9bc07b970d3a1ecc3.js" async=""></script><script src="/smb2/app-73183e4eb413cfdc340b.js" async=""></script><script src="/smb2/webpack-runtime-e27abee7082aa8f18f3b.js" async=""></script></body></html>