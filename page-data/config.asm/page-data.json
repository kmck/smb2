{"componentChunkName":"component---src-templates-asm-source-jsx","path":"/config.asm","webpackCompilationHash":"fc14a45387e38b27e491","result":{"data":{"asmSource":{"path":"/config.asm","name":"config","raw":"; ----------------------------------------\n;  Super Mario Bros. 2 Disassembly Config\n; ----------------------------------------\n;\n; By default, this repository is set up to build an identical copy\n; of the original PRG0 revision of Super Mario Bros. 2 (USA).\n;\n; You can tweak the build settings below. To remove\n; the default options, comment them out.\n; (Changing the assignment to 0 won't work.)\n;\n; To enable them indefinitely, uncomment the definition.\n;\n; To enable them for a single build from the command line, use\n; build -dFLAGNAME\n; For example, to build a PRG1/Rev A ROM,\n; build -dREV_A\n\n; ----------------------------------------\n; Compatibility fixes for the disassembly\n; In some locations, Nintendo used absolute addressing instead of\n; zero-page for addresses in the zero page.\n; This flag adds in raw bytes to match the opcodes,\n; as this assembler isn't capable of forcing absolute addressing for zp.\n;\n; Note that if you use this, you should probably use\n; PRESERVE_FREE_SPACE, too.\nCOMPATIBILITY = 1\n\n; ----------------------------------------\n; Preserve unused space.\n; Free space in the original ROM will continue to be padded outwards,\n; to the extent that it was in the original.\n; Adding your own code should shrink the free space afterwards automatically.\n;\n; Turning this off will \"squish\" most banks and move free space\n; within them to the end, making it easier to add your own code anywhere.\n; ...but it might also cause problems if data gets relocated\n; when it isn't properly pointed to.\nPRESERVE_UNUSED_SPACE = 1\n\n\n; ----------------------------------------\n; Build PRG1 / Revision A ROM.\n;\n; Differences:\n;\n; PRG-2-3: Fixes bug where killing one of the mini FryGuy enemies\n;          while changing size from taking damage would cause\n;          the enemy to do the \"flip over and fall off\" death\n;          instead of the \"puff of smoke\" death, which caused\n;          the \"number of small bosses left\" number to not\n;          decrease. Which meant the boss fight never ended.\n;          Hope you had an extra life and a second controller...\n;\n; PRG-E-F: Fixes a minor issue when played on PAL consoles where\n;          remarkably poor luck would cause the bonus chance screen\n;          to end up rendering completely invisibly due to an NMI hitting\n;          at the worst possible time.\n;          The fix just waits for an NMI cycle before doing its work.\n;\n; REV_A = 1\n\n\n\n; ----------------------------------------\n; Patches that fix bugs or glitches\n\n\n; Show all 8 frames of CHR cycling animation\n; FIX_CHR_CYCLE = 1\n\n; Fixes the POW falling log glitch\n; FIX_POW_LOG_GLITCH = 1\n\n; Fixes vine climbing bug when holding up and down simultaneously\n; FIX_CLIMB_ZIP = 1\n\n; Fixes green platform tiles in Subspace\n; FIX_SUBSPACE_TILES = 1\n\n\n; ----------------------------------------\n; Patches that alter the game in\n; interesting or useful ways\n\n\n; Skips Bonus Chance after the end of a level\n; DISABLE_BONUS_CHANCE = 1\n\n; Go to the Charater Select screen after death\n; CHARACTER_SELECT_AFTER_DEATH = 1\n\n; Restore the prototype's DPCM samples and/or music;\n; NOTE: The prototype underground music requires the shortened prototype ending music to fit\n; everything in the music header table. Use EXPAND_MUSIC to remove this restriction.\n; PROTOTYPE_DPCM_SAMPLES = 1\n; PROTOTYPE_INSTRUMENTS = 1\n; PROTOTYPE_MUSIC_STARMAN = 1\n; PROTOTYPE_MUSIC_UNDERGROUND = 1\n; PROTOTYPE_MUSIC_ENDING = 1\n\n; Include debugging tools\n; (push Select to open the debug menu)\n; DEBUG = 1\n\n; Include controller 2 debug features\n; (@TODO: explain usage)\n; CONTROLLER_2_DEBUG = 1\n\n\n\n; ----------------------------------------\n; Patches and enhancements largely useful\n; only to people hacking the game\n\n\n; Expand PRG and/or CHR to max capacity\n; EXPAND_PRG = 1\n; EXPAND_CHR = 1\n\n; Use MMC5 (mapper 5) instead of MMC3 (mapper 4)\n; Based on RetroRain's MMC5 patch (https://www.romhacking.net/hacks/2568)\n; MMC5 = 1\n\n; Use FME-7 (mapper 69) instead of MMC3 (mapper 4)\n; FME7 = 1\n\n; Pads title screen PPU data for easier modification\n; PAD_TITLE_SCREEN_PPU_DATA = 1\n\n; Expands various lookup tables so that more values can be added\n; EXPAND_TABLES = 1\n\n; Skip unnecessary bonus chance RAM copy\n; BONUS_CHANCE_RAM_CLEANUP = 1\n\n; Uses an alternative pointer method for music headers to allow for more segments\n; EXPAND_MUSIC = 1\n\n; Encode world tileset in unused 3 bits of area header byte 2\n; AREA_HEADER_TILESET = 1\n\n; Checks the CHR latch variable to reload the CHR data\n; RESET_CHR_LATCH = 1\n\n; Encode level engine object mode switch in unused 2 bits of area header byte 4\n; ENABLE_LEVEL_OBJECT_MODE = 1\n\n; Enables additional level engine features\n; LEVEL_ENGINE_UPGRADES = 1\n\n; Enables quicksand tile behavior outside of worlds 2 and 6\n; ALWAYS_ALLOW_QUICKSAND = 1\n\n; Use a tile attributes table for rather than TileSolidnessTable\n; ENABLE_TILE_ATTRIBUTES_TABLE = 1\n\n; Disables door pointers, so that area pointers are always required\n; DISABLE_DOOR_POINTERS = 1\n\n; Enables full-page door/vine searching so that entrances don't need to align\n; ROBUST_TRANSITION_SEARCH = 1\n","sections":[{"comment":"----------------------------------------\nSuper Mario Bros. 2 Disassembly Config\n----------------------------------------\n\nBy default, this repository is set up to build an identical copy\nof the original PRG0 revision of Super Mario Bros. 2 (USA).\n\nYou can tweak the build settings below. To remove\nthe default options, comment them out.\n(Changing the assignment to 0 won't work.)\n\nTo enable them indefinitely, uncomment the definition.\n\nTo enable them for a single build from the command line, use\nbuild -dFLAGNAME\nFor example, to build a PRG1/Rev A ROM,\nbuild -dREV_A","content":"","htmlComment":"<hr>\n<h2>Super Mario Bros. 2 Disassembly Config</h2>\n<p>By default, this repository is set up to build an identical copy\nof the original PRG0 revision of Super Mario Bros. 2 (USA).</p>\n<p>You can tweak the build settings below. To remove\nthe default options, comment them out.\n(Changing the assignment to 0 won't work.)</p>\n<p>To enable them indefinitely, uncomment the definition.</p>\n<p>To enable them for a single build from the command line, use\nbuild -dFLAGNAME\nFor example, to build a PRG1/Rev A ROM,\nbuild -dREV_A</p>\n","htmlContent":"","line":18},{"comment":"----------------------------------------\nCompatibility fixes for the disassembly\nIn some locations, Nintendo used absolute addressing instead of\nzero-page for addresses in the zero page.\nThis flag adds in raw bytes to match the opcodes,\nas this assembler isn't capable of forcing absolute addressing for zp.\n\nNote that if you use this, you should probably use\nPRESERVE_FREE_SPACE, too.","content":"COMPATIBILITY = 1\n","htmlComment":"<hr>\n<p>Compatibility fixes for the disassembly\nIn some locations, Nintendo used absolute addressing instead of\nzero-page for addresses in the zero page.\nThis flag adds in raw bytes to match the opcodes,\nas this assembler isn't capable of forcing absolute addressing for zp.</p>\n<p>Note that if you use this, you should probably use\nPRESERVE_FREE_SPACE, too.</p>\n","htmlContent":"COMPATIBILITY = <span class=\"token decimalnumber string\">1</span>\n","line":28},{"comment":"----------------------------------------\nPreserve unused space.\nFree space in the original ROM will continue to be padded outwards,\nto the extent that it was in the original.\nAdding your own code should shrink the free space afterwards automatically.\n\nTurning this off will \"squish\" most banks and move free space\nwithin them to the end, making it easier to add your own code anywhere.\n...but it might also cause problems if data gets relocated\nwhen it isn't properly pointed to.","content":"PRESERVE_UNUSED_SPACE = 1\n\n\n\n","htmlComment":"<hr>\n<p>Preserve unused space.\nFree space in the original ROM will continue to be padded outwards,\nto the extent that it was in the original.\nAdding your own code should shrink the free space afterwards automatically.</p>\n<p>Turning this off will \"squish\" most banks and move free space\nwithin them to the end, making it easier to add your own code anywhere.\n...but it might also cause problems if data gets relocated\nwhen it isn't properly pointed to.</p>\n","htmlContent":"PRESERVE_UNUSED_SPACE = <span class=\"token decimalnumber string\">1</span>\n\n\n\n","line":40},{"comment":"----------------------------------------\nBuild PRG1 / Revision A ROM.\n\nDifferences:\n\nPRG-2-3: Fixes bug where killing one of the mini FryGuy enemies\nwhile changing size from taking damage would cause\nthe enemy to do the \"flip over and fall off\" death\ninstead of the \"puff of smoke\" death, which caused\nthe \"number of small bosses left\" number to not\ndecrease. Which meant the boss fight never ended.\nHope you had an extra life and a second controller...\n\nPRG-E-F: Fixes a minor issue when played on PAL consoles where\nremarkably poor luck would cause the bonus chance screen\nto end up rendering completely invisibly due to an NMI hitting\nat the worst possible time.\nThe fix just waits for an NMI cycle before doing its work.\n\nREV_A = 1","content":"\n","htmlComment":"<hr>\n<p>Build PRG1 / Revision A ROM.</p>\n<p>Differences:</p>\n<p>PRG-2-3: Fixes bug where killing one of the mini FryGuy enemies\nwhile changing size from taking damage would cause\nthe enemy to do the \"flip over and fall off\" death\ninstead of the \"puff of smoke\" death, which caused\nthe \"number of small bosses left\" number to not\ndecrease. Which meant the boss fight never ended.\nHope you had an extra life and a second controller...</p>\n<p>PRG-E-F: Fixes a minor issue when played on PAL consoles where\nremarkably poor luck would cause the bonus chance screen\nto end up rendering completely invisibly due to an NMI hitting\nat the worst possible time.\nThe fix just waits for an NMI cycle before doing its work.</p>\n<p>REV_A = 1</p>\n","htmlContent":"\n","line":63},{"comment":"----------------------------------------\nPatches that fix bugs or glitches","content":"","htmlComment":"<hr>\n<p>Patches that fix bugs or glitches</p>\n","htmlContent":"","line":68},{"comment":"Show all 8 frames of CHR cycling animation\nFIX_CHR_CYCLE = 1","content":"","htmlComment":"<p>Show all 8 frames of CHR cycling animation\nFIX_CHR_CYCLE = 1</p>\n","htmlContent":"","line":72},{"comment":"Fixes the POW falling log glitch\nFIX_POW_LOG_GLITCH = 1","content":"","htmlComment":"<p>Fixes the POW falling log glitch\nFIX_POW_LOG_GLITCH = 1</p>\n","htmlContent":"","line":75},{"comment":"Fixes vine climbing bug when holding up and down simultaneously\nFIX_CLIMB_ZIP = 1","content":"\n","htmlComment":"<p>Fixes vine climbing bug when holding up and down simultaneously\nFIX_CLIMB_ZIP = 1</p>\n","htmlContent":"\n","line":78},{"comment":"Fixes green platform tiles in Subspace\nFIX_SUBSPACE_TILES = 1","content":"\n","htmlComment":"<p>Fixes green platform tiles in Subspace\nFIX_SUBSPACE_TILES = 1</p>\n","htmlContent":"\n","line":81},{"comment":"----------------------------------------\nPatches that alter the game in\ninteresting or useful ways","content":"","htmlComment":"<hr>\n<p>Patches that alter the game in\ninteresting or useful ways</p>\n","htmlContent":"","line":86},{"comment":"Skips Bonus Chance after the end of a level\nDISABLE_BONUS_CHANCE = 1","content":"","htmlComment":"<p>Skips Bonus Chance after the end of a level\nDISABLE_BONUS_CHANCE = 1</p>\n","htmlContent":"","line":90},{"comment":"Go to the Charater Select screen after death\nCHARACTER_SELECT_AFTER_DEATH = 1","content":"","htmlComment":"<p>Go to the Charater Select screen after death\nCHARACTER_SELECT_AFTER_DEATH = 1</p>\n","htmlContent":"","line":93},{"comment":"Restore the prototype's DPCM samples and/or music;\nNOTE: The prototype underground music requires the shortened prototype ending music to fit\neverything in the music header table. Use EXPAND_MUSIC to remove this restriction.\nPROTOTYPE_DPCM_SAMPLES = 1\nPROTOTYPE_INSTRUMENTS = 1\nPROTOTYPE_MUSIC_STARMAN = 1\nPROTOTYPE_MUSIC_UNDERGROUND = 1\nPROTOTYPE_MUSIC_ENDING = 1","content":"","htmlComment":"<p>Restore the prototype's DPCM samples and/or music;\nNOTE: The prototype underground music requires the shortened prototype ending music to fit\neverything in the music header table. Use EXPAND_MUSIC to remove this restriction.\nPROTOTYPE_DPCM_SAMPLES = 1\nPROTOTYPE_INSTRUMENTS = 1\nPROTOTYPE_MUSIC_STARMAN = 1\nPROTOTYPE_MUSIC_UNDERGROUND = 1\nPROTOTYPE_MUSIC_ENDING = 1</p>\n","htmlContent":"","line":102},{"comment":"Include debugging tools\n(push Select to open the debug menu)\nDEBUG = 1","content":"\n\n","htmlComment":"<p>Include debugging tools\n(push Select to open the debug menu)\nDEBUG = 1</p>\n","htmlContent":"\n\n","line":106},{"comment":"Include controller 2 debug features\n(@TODO: explain usage)\nCONTROLLER_2_DEBUG = 1","content":"\n","htmlComment":"<p>Include controller 2 debug features\n(@TODO: explain usage)\nCONTROLLER_2_DEBUG = 1</p>\n","htmlContent":"\n","line":110},{"comment":"----------------------------------------\nPatches and enhancements largely useful\nonly to people hacking the game","content":"","htmlComment":"<hr>\n<p>Patches and enhancements largely useful\nonly to people hacking the game</p>\n","htmlContent":"","line":116},{"comment":"Expand PRG and/or CHR to max capacity\nEXPAND_PRG = 1\nEXPAND_CHR = 1","content":"","htmlComment":"<p>Expand PRG and/or CHR to max capacity\nEXPAND_PRG = 1\nEXPAND_CHR = 1</p>\n","htmlContent":"","line":121},{"comment":"Use MMC5 (mapper 5) instead of MMC3 (mapper 4)\nBased on RetroRain's MMC5 patch (https://www.romhacking.net/hacks/2568)\nMMC5 = 1","content":"","htmlComment":"<p>Use MMC5 (mapper 5) instead of MMC3 (mapper 4)\nBased on RetroRain's MMC5 patch (<a href=\"https://www.romhacking.net/hacks/2568\">https://www.romhacking.net/hacks/2568</a>)\nMMC5 = 1</p>\n","htmlContent":"","line":125},{"comment":"Use FME-7 (mapper 69) instead of MMC3 (mapper 4)\nFME7 = 1","content":"","htmlComment":"<p>Use FME-7 (mapper 69) instead of MMC3 (mapper 4)\nFME7 = 1</p>\n","htmlContent":"","line":128},{"comment":"Pads title screen PPU data for easier modification\nPAD_TITLE_SCREEN_PPU_DATA = 1","content":"","htmlComment":"<p>Pads title screen PPU data for easier modification\nPAD_TITLE_SCREEN_PPU_DATA = 1</p>\n","htmlContent":"","line":131},{"comment":"Expands various lookup tables so that more values can be added\nEXPAND_TABLES = 1","content":"","htmlComment":"<p>Expands various lookup tables so that more values can be added\nEXPAND_TABLES = 1</p>\n","htmlContent":"","line":134},{"comment":"Skip unnecessary bonus chance RAM copy\nBONUS_CHANCE_RAM_CLEANUP = 1","content":"","htmlComment":"<p>Skip unnecessary bonus chance RAM copy\nBONUS_CHANCE_RAM_CLEANUP = 1</p>\n","htmlContent":"","line":137},{"comment":"Uses an alternative pointer method for music headers to allow for more segments\nEXPAND_MUSIC = 1","content":"","htmlComment":"<p>Uses an alternative pointer method for music headers to allow for more segments\nEXPAND_MUSIC = 1</p>\n","htmlContent":"","line":140},{"comment":"Encode world tileset in unused 3 bits of area header byte 2\nAREA_HEADER_TILESET = 1","content":"","htmlComment":"<p>Encode world tileset in unused 3 bits of area header byte 2\nAREA_HEADER_TILESET = 1</p>\n","htmlContent":"","line":143},{"comment":"Checks the CHR latch variable to reload the CHR data\nRESET_CHR_LATCH = 1","content":"","htmlComment":"<p>Checks the CHR latch variable to reload the CHR data\nRESET_CHR_LATCH = 1</p>\n","htmlContent":"","line":146},{"comment":"Encode level engine object mode switch in unused 2 bits of area header byte 4\nENABLE_LEVEL_OBJECT_MODE = 1","content":"","htmlComment":"<p>Encode level engine object mode switch in unused 2 bits of area header byte 4\nENABLE_LEVEL_OBJECT_MODE = 1</p>\n","htmlContent":"","line":149},{"comment":"Enables additional level engine features\nLEVEL_ENGINE_UPGRADES = 1","content":"","htmlComment":"<p>Enables additional level engine features\nLEVEL_ENGINE_UPGRADES = 1</p>\n","htmlContent":"","line":152},{"comment":"Enables quicksand tile behavior outside of worlds 2 and 6\nALWAYS_ALLOW_QUICKSAND = 1","content":"","htmlComment":"<p>Enables quicksand tile behavior outside of worlds 2 and 6\nALWAYS_ALLOW_QUICKSAND = 1</p>\n","htmlContent":"","line":155},{"comment":"Use a tile attributes table for rather than TileSolidnessTable\nENABLE_TILE_ATTRIBUTES_TABLE = 1","content":"","htmlComment":"<p>Use a tile attributes table for rather than TileSolidnessTable\nENABLE_TILE_ATTRIBUTES_TABLE = 1</p>\n","htmlContent":"","line":158},{"comment":"Disables door pointers, so that area pointers are always required\nDISABLE_DOOR_POINTERS = 1","content":"","htmlComment":"<p>Disables door pointers, so that area pointers are always required\nDISABLE_DOOR_POINTERS = 1</p>\n","htmlContent":"","line":161},{"comment":"Enables full-page door/vine searching so that entrances don't need to align\nROBUST_TRANSITION_SEARCH = 1","content":"","htmlComment":"<p>Enables full-page door/vine searching so that entrances don't need to align\nROBUST_TRANSITION_SEARCH = 1</p>\n","htmlContent":"","line":164}]}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}