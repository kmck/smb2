{"componentChunkName":"component---src-templates-asm-source-jsx","path":"/src/compatibility-shims.asm","webpackCompilationHash":"597ab6d0eddc3471edff","result":{"data":{"asmSource":{"path":"/src/compatibility-shims.asm","name":"compatibility-shims","raw":";\n; Macros for compatibility reasons\n; ================================\n;\n; asm6f doesn't have a way of specifying \"aboslute mode\" by force,\n; and some areas of SMB2 use it even in cases where a zero-page instruction\n; would have been sufficient, so these are here to allow those to exist\n; (by emitting the raw bytes) if needed\n;\n\n\n;\n; Emit a NOP if PRESERVE_UNUSED_SPACE is on,\n; as non-compat opcodes are one byte smaller\n; (will keep data in place if using proper ZP opcodes)\n;\nMACRO NOP_compat\n\tIFDEF PRESERVE_UNUSED_SPACE\n\t\tNOP\n\tENDIF\nENDM\n\n;\n; LDA $0000\n;\nMACRO LDA_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ad\n\t\t.dw addr\n\tELSE\n\t\tLDA addr\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; LDA $0000, X\n;\nMACRO LDA_abs_X addr\n\tIFDEF COMPATIBILITY\n\t\t.db $bd\n\t\t.dw addr\n\tELSE\n\t\tLDA addr, X\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; LDX $0000\n;\nMACRO LDX_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ae\n\t\t.dw addr\n\tELSE\n\t\tLDX addr\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; LDY $0000\n;\nMACRO LDY_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ac\n\t\t.dw addr\n\tELSE\n\t\tLDY addr\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; STA $0000\n;\nMACRO STA_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $8d\n\t\t.dw addr\n\tELSE\n\t\tSTA addr\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; STY $0000\n;\nMACRO STY_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $8c\n\t\t.dw addr\n\tELSE\n\t\tSTY addr\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; INC $0000\n;\nMACRO INC_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ee\n\t\t.dw addr\n\tELSE\n\t\tINC addr\n\t\tNOP_compat\n\tENDIF\nENDM\n\n;\n; AND $0000\n;\nMACRO AND_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $2d\n\t\t.dw addr\n\tELSE\n\t\tINC addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","sections":[{"comment":"\nMacros for compatibility reasons\n================================\n\nasm6f doesn't have a way of specifying \"aboslute mode\" by force,\nand some areas of SMB2 use it even in cases where a zero-page instruction\nwould have been sufficient, so these are here to allow those to exist\n(by emitting the raw bytes) if needed\n","content":"\n","htmlComment":"<h1>Macros for compatibility reasons</h1>\n<p>asm6f doesn't have a way of specifying \"aboslute mode\" by force,\nand some areas of SMB2 use it even in cases where a zero-page instruction\nwould have been sufficient, so these are here to allow those to exist\n(by emitting the raw bytes) if needed</p>\n","htmlContent":"\n","line":10},{"comment":"\nEmit a NOP if PRESERVE_UNUSED_SPACE is on,\nas non-compat opcodes are one byte smaller\n(will keep data in place if using proper ZP opcodes)\n","content":"MACRO NOP_compat\n\tIFDEF PRESERVE_UNUSED_SPACE\n\t\tNOP\n\tENDIF\nENDM\n","htmlComment":"<p>Emit a NOP if PRESERVE_UNUSED_SPACE is on,\nas non-compat opcodes are one byte smaller\n(will keep data in place if using proper ZP opcodes)</p>\n","htmlContent":"MACRO NOP_compat\n\tIFDEF PRESERVE_UNUSED_SPACE\n\t\t<span class=\"token opcode property\">NOP</span>\n\tENDIF\nENDM\n","line":17},{"comment":"\nLDA $0000\n","content":"MACRO LDA_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ad\n\t\t.dw addr\n\tELSE\n\t\tLDA addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>LDA $0000</p>\n","htmlContent":"MACRO LDA_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$ad</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">LDA</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":26},{"comment":"\nLDA $0000, X\n","content":"MACRO LDA_abs_X addr\n\tIFDEF COMPATIBILITY\n\t\t.db $bd\n\t\t.dw addr\n\tELSE\n\t\tLDA addr, X\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>LDA $0000, X</p>\n","htmlContent":"MACRO LDA_abs_X addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$bd</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">LDA</span> addr, <span class=\"token register variable\">X</span>\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":39},{"comment":"\nLDX $0000\n","content":"MACRO LDX_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ae\n\t\t.dw addr\n\tELSE\n\t\tLDX addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>LDX $0000</p>\n","htmlContent":"MACRO LDX_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$ae</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">LDX</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":52},{"comment":"\nLDY $0000\n","content":"MACRO LDY_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ac\n\t\t.dw addr\n\tELSE\n\t\tLDY addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>LDY $0000</p>\n","htmlContent":"MACRO LDY_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$ac</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">LDY</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":65},{"comment":"\nSTA $0000\n","content":"MACRO STA_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $8d\n\t\t.dw addr\n\tELSE\n\t\tSTA addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>STA $0000</p>\n","htmlContent":"MACRO STA_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8d</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">STA</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":78},{"comment":"\nSTY $0000\n","content":"MACRO STY_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $8c\n\t\t.dw addr\n\tELSE\n\t\tSTY addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>STY $0000</p>\n","htmlContent":"MACRO STY_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8c</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">STY</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":91},{"comment":"\nINC $0000\n","content":"MACRO INC_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $ee\n\t\t.dw addr\n\tELSE\n\t\tINC addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>INC $0000</p>\n","htmlContent":"MACRO INC_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$ee</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">INC</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":104},{"comment":"\nAND $0000\n","content":"MACRO AND_abs addr\n\tIFDEF COMPATIBILITY\n\t\t.db $2d\n\t\t.dw addr\n\tELSE\n\t\tINC addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","htmlComment":"<p>AND $0000</p>\n","htmlContent":"MACRO AND_abs addr\n\tIFDEF COMPATIBILITY\n\t\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2d</span>\n\t\t<span class=\"token directive keyword\">.dw</span> addr\n\tELSE\n\t\t<span class=\"token opcode property\">INC</span> addr\n\t\tNOP_compat\n\tENDIF\nENDM\n","line":117}]}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}