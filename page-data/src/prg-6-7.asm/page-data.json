{"componentChunkName":"component---src-templates-asm-source-jsx","path":"/src/prg-6-7.asm","webpackCompilationHash":"597ab6d0eddc3471edff","result":{"data":{"asmSource":{"path":"/src/prg-6-7.asm","name":"prg-6-7","raw":";\n; Bank 6 & Bank 7\n; ===============\n;\n; What's inside:\n;\n;   - Level palettes\n;   - Groundset data\n;   - Object tiles\n;   - Level handling code\n;\n; -----\n;\n\n;\n; ## Level palettes\n;\n; Each world has several sets of background and sprite palettes, which are set per area in the level\n; header. Subspace is defined separately in each world, but they all use the same colors!\n;\n\n;\n; #### Palette pointers\n;\nWorldBackgroundPalettePointersLo:\n\t.db <World1BackgroundPalettes\n\t.db <World2BackgroundPalettes\n\t.db <World3BackgroundPalettes\n\t.db <World4BackgroundPalettes\n\t.db <World5BackgroundPalettes\n\t.db <World6BackgroundPalettes\n\t.db <World7BackgroundPalettes\n\nWorldSpritePalettePointersLo:\n\t.db <World1SpritePalettes\n\t.db <World2SpritePalettes\n\t.db <World3SpritePalettes\n\t.db <World4SpritePalettes\n\t.db <World5SpritePalettes\n\t.db <World6SpritePalettes\n\t.db <World7SpritePalettes\n\nWorldBackgroundPalettePointersHi:\n\t.db >World1BackgroundPalettes\n\t.db >World2BackgroundPalettes\n\t.db >World3BackgroundPalettes\n\t.db >World4BackgroundPalettes\n\t.db >World5BackgroundPalettes\n\t.db >World6BackgroundPalettes\n\t.db >World7BackgroundPalettes\n\nWorldSpritePalettePointersHi:\n\t.db >World1SpritePalettes\n\t.db >World2SpritePalettes\n\t.db >World3SpritePalettes\n\t.db >World4SpritePalettes\n\t.db >World5SpritePalettes\n\t.db >World6SpritePalettes\n\t.db >World7SpritePalettes\n\n; #### World 1\n;\nWorld1BackgroundPalettes:\n\t; Day\n\t.db $21, $30, $12, $0F ; $00\n\t.db $21, $30, $16, $0F ; $04\n\t.db $21, $27, $17, $0F ; $08\n\t.db $21, $29, $1A, $0F ; $0C\n\t; Night\n\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $0A ; $1C\n\t; Underground\n\t.db $0F, $2C, $1C, $0C ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $27, $17, $08 ; $28\n\t.db $0F, $2A, $1A, $0A ; $2C\n\t; Jar\n\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $21, $0F ; $3C\n\t; Castle\n\t.db $03, $2C, $1C, $0F ; $40\n\t.db $03, $30, $16, $0F ; $44\n\t.db $03, $3C, $1C, $0F ; $48\n\t.db $03, $25, $15, $05 ; $4C\n\t; Boss\n\t.db $0C, $30, $06, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $16, $0F ; $58\n\t.db $0C, $30, $26, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld1SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $25, $10, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World1SpritePalettes + $30, $FF\nENDIF\n\n;\n; #### World 2\n;\nWorld2BackgroundPalettes:\n\t; Day\n\t.db $11, $30, $2A, $0F ; $00\n\t.db $11, $30, $16, $0F ; $04\n\t.db $11, $28, $18, $0F ; $08\n\t.db $11, $17, $07, $0F ; $0C\n\t; Night (unused?)\n\t.db $0F, $30, $2A, $0A ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $28, $18, $08 ; $18\n\t.db $0F, $17, $07, $08 ; $1C\n\t; Underground\n\t.db $0F, $2A, $1A, $0A ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $28, $18, $08 ; $28\n\t.db $0F, $27, $17, $07 ; $2C\n\t; Jar\n\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $28, $17, $0F ; $38\n\t.db $07, $31, $11, $0F ; $3C;\n\t; Castle (unused)\n\t.db $0C, $2A, $1A, $0F ; $40\n\t.db $0C, $30, $16, $0F ; $44\n\t.db $0C, $17, $07, $0F ; $48\n\t.db $0C, $25, $15, $0F ; $4C\n\t; Boss\n\t.db $0C, $30, $1A, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $2A, $0F ; $58\n\t.db $0C, $30, $3A, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld2SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $2A, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $2A, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $30, $23, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World2SpritePalettes + $30, $FF\nENDIF\n\n;\n; #### World 3\n;\nWorld3BackgroundPalettes:\n\t; Day\n\t.db $22, $30, $12, $0F ; $00\n\t.db $22, $30, $16, $0F ; $04\n\t.db $22, $27, $17, $0F ; $08\n\t.db $22, $29, $1A, $0F ; $0C\n\t; Night (unused)\n\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $04 ; $1C\n\t; Underground\n\t.db $0F, $30, $1C, $0C ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $27, $17, $08 ; $28\n\t.db $0F, $26, $16, $06 ; $2C\n\t; Jar\n\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $31, $0F ; $3C\n\t; Castle\n\t.db $03, $31, $21, $0F ; $40\n\t.db $03, $30, $16, $0F ; $44\n\t.db $03, $3C, $1C, $0F ; $48\n\t.db $03, $2A, $1A, $0F ; $4C\n\t; Boss\n\t.db $0C, $30, $11, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $21, $0F ; $58\n\t.db $0C, $30, $31, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld3SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $2B, $10, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World3SpritePalettes + $30, $FF\nENDIF\n\n;\n; #### World 4\n;\nWorld4BackgroundPalettes:\n\t; Day\n\t.db $23, $30, $12, $0F ; $00\n\t.db $23, $30, $16, $0F ; $04\n\t.db $23, $2B, $1B, $0F ; $08\n\t.db $23, $30, $32, $0F ; $0C\n\t; Night (unused)\n\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $2B, $1B, $0B ; $18\n\t.db $0F, $29, $1A, $0A ; $1C\n\t; Underground\n\t.db $0F, $32, $12, $01 ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $2B, $1B, $0B ; $28\n\t.db $0F, $27, $17, $07 ; $2C\n\t; Jar\n\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $21, $21, $0F ; $3C\n\t; Castle\n\t.db $03, $30, $12, $0F ; $40\n\t.db $03, $30, $16, $0F ; $44\n\t.db $03, $3C, $1C, $0F ; $48\n\t.db $03, $28, $18, $0F ; $4C\n\t; Boss\n\t.db $0C, $30, $00, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $10, $0F ; $58\n\t.db $0C, $30, $30, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld4SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $27, $16, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World4SpritePalettes + $30, $FF\nENDIF\n\n;\n; #### World 5\n;\nWorld5BackgroundPalettes:\n\t; Night\n\t.db $0F, $30, $12, $01 ; $00\n\t.db $0F, $30, $16, $01 ; $04\n\t.db $0F, $27, $17, $07 ; $08\n\t.db $0F, $2B, $1B, $0B ; $0C\n\t; Also night (unused)\n\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $0A ; $1C\n\t; Underground\n\t.db $0F, $31, $12, $01 ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $3C, $1C, $0C ; $28\n\t.db $0F, $2A, $1A, $0A ; $2C\n\t; Jar/Tree\n\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $01, $0F ; $3C\n\t; Castle\n\t.db $01, $2A, $1A, $0F ; $40\n\t.db $01, $30, $16, $0F ; $44\n\t.db $01, $3C, $1C, $0F ; $48\n\t.db $01, $25, $15, $05 ; $4C\n\t; Boss\n\t.db $0C, $30, $16, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $24, $0F ; $58\n\t.db $0C, $30, $34, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld5SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $16, $0F ; $1C\n\t.db $FF, $16, $30, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World5SpritePalettes + $30, $FF\nENDIF\n\n;\n; #### World 6\n;\nWorld6BackgroundPalettes:\n\t; Day\n\t.db $21, $30, $2A, $0F ; $00\n\t.db $21, $30, $16, $0F ; $04\n\t.db $21, $28, $18, $0F ; $08\n\t.db $21, $17, $07, $0F ; $0C\n\t; Night\n\t.db $0F, $30, $2A, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $28, $18, $08 ; $18\n\t.db $0F, $17, $07, $08 ; $1C\n\t; Underground\n\t.db $0F, $30, $12, $01 ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $28, $18, $08 ; $28\n\t.db $0F, $27, $17, $07 ; $2C\n\t; Jar\n\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $28, $17, $0F ; $38\n\t.db $07, $31, $01, $0F ; $3C\n\t; Castle\n\t.db $0C, $2A, $1A, $0F ; $40\n\t.db $0C, $30, $16, $0F ; $44\n\t.db $0C, $17, $07, $0F ; $48\n\t.db $0C, $25, $15, $0F ; $4C\n\t; Boss\n\t.db $0C, $30, $1B, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $2B, $0F ; $58\n\t.db $0C, $30, $3B, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld6SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $2A, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $2A, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $30, $23, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World6SpritePalettes + $30, $FF\nENDIF\n\n;\n; #### World 7\n;\nWorld7BackgroundPalettes:\n\t; Day\n\t.db $21, $30, $12, $0F ; $00\n\t.db $21, $30, $16, $0F ; $04\n\t.db $21, $27, $17, $0F ; $08\n\t.db $21, $29, $1A, $0F ; $0C\n\t; Night (unused)\n\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $0A ; $1C\n\t; Castle\n\t.db $0F, $2C, $1C, $0C ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $27, $17, $08 ; $28\n\t.db $0F, $2A, $1A, $0A ; $2C\n\t; Jar (unused)\n\t.db $07, $30, $16, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $01, $0F ; $3C\n\t; Castle (unused)\n\t.db $0F, $3C, $2C, $0C ; $40\n\t.db $0F, $30, $16, $02 ; $44\n\t.db $0F, $28, $18, $08 ; $48\n\t.db $0F, $25, $15, $05 ; $4C\n\t; Boss\n\t.db $0C, $30, $08, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $38, $18, $0F ; $58\n\t.db $0C, $28, $08, $0F ; $5C\n\t; Subspace\n\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld7SpritePalettes:\n\t; Overworld\n\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08\n\t; Underground\n\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14\n\t; Boss\n\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $30, $2A, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World7SpritePalettes + $30, $FF\nENDIF\n\n; -----\n\n\n;\n; ## Ground appearance tiles\n;\n; The ground setting defines a single column (or row, for vertical areas) where each row (or column)\n; is be one of four tiles. That set of four tiles is the ground appearance. Each world has its own\n; ground appearances defined, which are which are divided into horizontal and vertical sets.\n;\n; An area has its initial ground appearance set in the header, but it can be changed mid-area using\n; the `$F6` special object.\n;\n\n;\n; #### Ground appearance pointers\n;\nGroundTilesHorizontalLo:\n\t.db <World1GroundTilesHorizontal\n\t.db <World2GroundTilesHorizontal\n\t.db <World3GroundTilesHorizontal\n\t.db <World4GroundTilesHorizontal\n\t.db <World5GroundTilesHorizontal\n\t.db <World6GroundTilesHorizontal\n\t.db <World7GroundTilesHorizontal\n\nGroundTilesVerticalLo:\n\t.db <World1GroundTilesVertical\n\t.db <World2GroundTilesVertical\n\t.db <World3GroundTilesVertical\n\t.db <World4GroundTilesVertical\n\t.db <World5GroundTilesVertical\n\t.db <World6GroundTilesVertical\n\t.db <World7GroundTilesVertical\n\nGroundTilesHorizontalHi:\n\t.db >World1GroundTilesHorizontal\n\t.db >World2GroundTilesHorizontal\n\t.db >World3GroundTilesHorizontal\n\t.db >World4GroundTilesHorizontal\n\t.db >World5GroundTilesHorizontal\n\t.db >World6GroundTilesHorizontal\n\t.db >World7GroundTilesHorizontal\n\nGroundTilesVerticalHi:\n\t.db >World1GroundTilesVertical\n\t.db >World2GroundTilesVertical\n\t.db >World3GroundTilesVertical\n\t.db >World4GroundTilesVertical\n\t.db >World5GroundTilesVertical\n\t.db >World6GroundTilesVertical\n\t.db >World7GroundTilesVertical\n\n;\n; #### Ground appearance tile definitions\n;\n; These are the tiles used to render the ground setting of an area.\n; Each row in a world's table corresponds to the ground type.\n;\n; You'll notice that the first entry, which correponds to the sky/background is\n; $00 instead of $40. This is skipped with a BEQ in WriteGroundSetTiles,\n; presumably as an optimization, so the value doesn't matter!\n;\nWorld1GroundTilesHorizontal:\n\t.db $00, $99, $D5, $00 ; $00\n\t.db $00, $99, $99, $99 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $A0, $A0, $99 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World1GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld1GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $00, $00, $00 ; $02\n\t.db $00, $00, $A2, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $93, $9E, $C6 ; $06\n\t.db $00, $40, $9E, $C6 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World1GroundTilesVertical + $40, $00\nENDIF\n\nWorld2GroundTilesHorizontal:\n\t.db $00, $99, $99, $99 ; $00\n\t.db $00, $8A, $8A, $8A ; $01\n\t.db $00, $8B, $8B, $8B ; $02\n\t.db $00, $A0, $A0, $A0 ; $03\n\t.db $00, $A2, $A2, $A2 ; $04\n\t.db $00, $D6, $9B, $18 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World2GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld2GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $93, $A0, $00 ; $01\n\t.db $00, $40, $9B, $40 ; $02\n\t.db $00, $93, $9E, $C6 ; $03\n\t.db $00, $40, $9E, $C6 ; $04\n\t.db $00, $00, $00, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World2GroundTilesVertical + $40, $00\nENDIF\n\nWorld3GroundTilesHorizontal:\n\t.db $00, $99, $D5, $00 ; $00\n\t.db $00, $99, $99, $99 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $A0, $A0, $99 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World3GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld3GroundTilesVertical:\n\t.db $00, $C6, $9E, $9D ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $93, $9E, $C6 ; $02\n\t.db $00, $00, $A2, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $40, $9E, $C6 ; $06\n\t.db $00, $06, $A0, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World3GroundTilesVertical + $40, $00\nENDIF\n\nWorld4GroundTilesHorizontal:\n\t.db $00, $99, $D5, $00 ; $00\n\t.db $00, $99, $16, $00 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $0A, $0A, $08 ; $05\n\t.db $00, $1F, $1F, $1F ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World4GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld4GroundTilesVertical:\n\t.db $00, $C6, $99, $9D ; $00\n\t.db $00, $A2, $A2, $A2 ; $01\n\t.db $00, $9B, $9B, $9B ; $02\n\t.db $00, $A0, $A0, $A0 ; $03\n\t.db $00, $D6, $D6, $D6 ; $04\n\t.db $00, $18, $18, $18 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World4GroundTilesVertical + $40, $00\nENDIF\n\nWorld5GroundTilesHorizontal:\n\t.db $00, $99, $D5, $40 ; $00\n\t.db $00, $99, $99, $99 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $A0, $A0, $99 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World5GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld5GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $40, $A4, $00 ; $02\n\t.db $00, $00, $A2, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $93, $9E, $C6 ; $06\n\t.db $00, $40, $9E, $C6 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World5GroundTilesVertical + $40, $00\nENDIF\n\nWorld6GroundTilesHorizontal:\n\t.db $00, $99, $99, $99 ; $00\n\t.db $00, $8A, $8A, $8A ; $01\n\t.db $00, $8B, $8B, $8B ; $02\n\t.db $00, $A0, $A0, $A0 ; $03\n\t.db $00, $A2, $A2, $A2 ; $04\n\t.db $00, $D6, $9B, $18 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World6GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld6GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $93, $A0, $00 ; $01\n\t.db $00, $40, $18, $40 ; $02\n\t.db $00, $93, $9E, $C6 ; $03\n\t.db $00, $40, $9E, $C6 ; $04\n\t.db $00, $00, $00, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World6GroundTilesVertical + $40, $00\nENDIF\n\nWorld7GroundTilesHorizontal:\n\t.db $00, $9C, $9C, $9C ; $00\n\t.db $00, $D7, $9C, $19 ; $01\n\t.db $00, $00, $00, $00 ; $02\n\t.db $00, $00, $00, $00 ; $03\n\t.db $00, $00, $00, $00 ; $04\n\t.db $00, $00, $00, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World7GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld7GroundTilesVertical:\n\t.db $00, $9C, $9C, $9C ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $00, $00, $00 ; $02\n\t.db $00, $00, $9C, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World7GroundTilesVertical + $40, $00\nENDIF\n\n; -----\n\n\n;\n; ## Tile quads (unused)\n;\n; These appear to be duplicates of the tile quads from bank F.\n;\nUnusedTileQuadPointersLo:\n\t.db <UnusedTileQuads1\n\t.db <UnusedTileQuads2\n\t.db <UnusedTileQuads3\n\t.db <UnusedTileQuads4\n\nUnusedTileQuadPointersHi:\n\t.db >UnusedTileQuads1\n\t.db >UnusedTileQuads2\n\t.db >UnusedTileQuads3\n\t.db >UnusedTileQuads4\n\nUnusedTileQuads1:\n\t.db $FE,$FE,$FE,$FE ; $00\n\t.db $B4,$B6,$B5,$B7 ; $04\n\t.db $B8,$FA,$B9,$FA ; $08\n\t.db $FA,$FA,$B2,$B3 ; $0C\n\t.db $BE,$BE,$BF,$BF ; $10\n\t.db $BF,$BF,$BF,$BF ; $14\n\t.db $4A,$4A,$4B,$4B ; $18\n\t.db $5E,$5F,$5E,$5F ; $1C\n\t.db $E8,$E8,$A9,$A9 ; $20\n\t.db $46,$FC,$46,$FC ; $24\n\t.db $A9,$A9,$A9,$A9 ; $28\n\t.db $FC,$FC,$FC,$FC ; $2C\n\t.db $E9,$E9,$A9,$A9 ; $30\n\t.db $FC,$48,$FC,$48 ; $34\n\t.db $11,$11,$11,$11 ; $38\n\t.db $22,$22,$22,$22 ; $3C\n\t.db $33,$33,$33,$33 ; $40\n\t.db $E8,$EB,$A9,$A9 ; $44\n\t.db $74,$76,$75,$77 ; $48\n\t.db $98,$9A,$99,$9B ; $4C\n\t.db $9C,$9A,$9D,$9B ; $50\n\t.db $9C,$9E,$9B,$9F ; $54\n\t.db $58,$5A,$59,$5B ; $58\n\t.db $5E,$5F,$5E,$5F ; $5C\n\t.db $8E,$8F,$8F,$8E ; $60\n\t.db $72,$73,$73,$72 ; $64\n\t.db $A6,$A6,$A7,$A7 ; $68\n\t.db $92,$93,$93,$92 ; $6C\n\t.db $74,$76,$75,$77 ; $70\n\t.db $70,$72,$71,$73 ; $74\n\t.db $71,$73,$71,$73 ; $78\n\t.db $24,$26,$25,$27 ; $7C\n\t.db $32,$34,$33,$35 ; $80\n\t.db $33,$35,$33,$35 ; $84\n\t.db $24,$26,$25,$27 ; $88\n\nUnusedTileQuads2:\n\t.db $FA,$FA,$FA,$FA ; $00\n\t.db $FA,$FA,$FA,$FA ; $04\n\t.db $FA,$FA,$FA,$FA ; $08\n\t.db $FA,$FA,$B0,$B1 ; $0C\n\t.db $FA,$FA,$B0,$B1 ; $10\n\t.db $FA,$FA,$B0,$B1 ; $14\n\t.db $FA,$FA,$B0,$B1 ; $18\n\t.db $FA,$FA,$B0,$B1 ; $1C\n\t.db $FA,$FA,$B0,$B1 ; $20\n\t.db $FA,$FA,$B0,$B1 ; $24\n\t.db $FA,$FA,$B0,$B1 ; $28\n\t.db $FA,$FA,$B0,$B1 ; $2C\n\t.db $FA,$FA,$B0,$B1 ; $30\n\t.db $FA,$FA,$B0,$B1 ; $34\n\t.db $A0,$A2,$A1,$A3 ; $38\n\t.db $80,$82,$81,$83 ; $3C\n\t.db $F4,$86,$F5,$87 ; $40\n\t.db $84,$86,$85,$87 ; $44\n\t.db $FC,$FC,$FC,$FC ; $48\n\t.db $AD,$FB,$AC,$AD ; $4C\n\t.db $AC,$AC,$AC,$AC ; $50\n\t.db $FB,$3B,$3B,$AC ; $54\n\t.db $FC,$FC,$FC,$FC ; $58\n\t.db $F4,$86,$F5,$87 ; $5C\n\t.db $FB,$49,$49,$FB ; $60\n\t.db $FE,$FE,$FE,$FE ; $64\n\t.db $FE,$FE,$6D,$FE ; $68\n\t.db $3C,$3E,$3D,$3F ; $6C\n\t.db $58,$FD,$59,$5A ; $70\n\t.db $5B,$5A,$FD,$FD ; $74\n\t.db $5B,$5C,$FD,$5D ; $78\n\t.db $FD,$FD,$5B,$5A ; $7C\n\t.db $6C,$FE,$FE,$FE ; $80\n\t.db $FE,$FE,$FE,$FE ; $84\n\t.db $FE,$6E,$FE,$6F ; $88\n\t.db $20,$22,$21,$23 ; $8C\n\t.db $6E,$6F,$70,$71 ; $90\n\t.db $57,$57,$FB,$FB ; $94\n\t.db $57,$57,$FE,$FE ; $98\n\t.db $D3,$D3,$FB,$FB ; $9C\n\t.db $D2,$D2,$FB,$FB ; $A0\n\t.db $7C,$7E,$7D,$7F ; $A4\n\t.db $CA,$CC,$CB,$CD ; $A8\n\t.db $CA,$CC,$CB,$CD ; $AC\n\t.db $C0,$C2,$C1,$C3 ; $B0\n\t.db $2C,$2E,$2D,$2F ; $B4\n\t.db $8E,$8F,$8F,$8E ; $B8\n\t.db $88,$8A,$89,$8B ; $BC\n\t.db $89,$8B,$89,$8B ; $C0\n\t.db $89,$8B,$8C,$8D ; $C4\n\t.db $88,$8A,$8C,$8D ; $C8\n\t.db $88,$8A,$89,$8B ; $CC\n\t.db $88,$8A,$89,$8B ; $D0\n\t.db $6A,$6C,$6B,$6D ; $D4\n\t.db $6C,$6C,$6D,$6D ; $D8\n\t.db $6C,$6E,$6D,$6F ; $DC\n\t.db $6C,$54,$6D,$55 ; $E0\n\t.db $32,$34,$33,$35 ; $E4\n\t.db $33,$35,$33,$35 ; $E8\n\nUnusedTileQuads3:\n\t.db $94,$95,$94,$95 ; $00\n\t.db $96,$97,$96,$97 ; $04\n\t.db $48,$49,$48,$49 ; $08\n\t.db $FE,$FE,$FE,$FE ; $0C\n\t.db $FB,$32,$32,$33 ; $10\n\t.db $33,$33,$33,$33 ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $34,$FB,$FD,$34 ; $1C\n\t.db $FB,$30,$FB,$FB ; $20\n\t.db $FB,$FB,$31,$FB ; $24\n\t.db $D0,$D0,$D0,$D0 ; $28\n\t.db $D1,$D1,$D1,$D1 ; $2C\n\t.db $64,$66,$65,$67 ; $30\n\t.db $68,$6A,$69,$6B ; $34\n\t.db $FA,$6C,$FA,$6C ; $38\n\t.db $6D,$FA,$6D,$FA ; $3C\n\t.db $92,$93,$93,$92 ; $40\n\t.db $AE,$AF,$AE,$AF ; $44\n\t.db $78,$7A,$79,$7B ; $48\n\t.db $A8,$A8,$AF,$AE ; $4C\n\t.db $94,$95,$94,$95 ; $50\n\t.db $96,$97,$96,$97 ; $54\n\t.db $22,$24,$23,$25 ; $58\n\t.db $92,$93,$93,$92 ; $5C\n\t.db $50,$51,$50,$51 ; $60\n\t.db $AE,$AF,$AE,$AF ; $64\n\t.db $50,$51,$50,$51 ; $68\n\t.db $8E,$8F,$8F,$8E ; $6C\n\t.db $72,$73,$73,$72 ; $70\n\t.db $50,$52,$51,$53 ; $74\n\t.db $FD,$FD,$FD,$FD ; $78\n\t.db $FB,$36,$36,$4F ; $7C\n\t.db $4F,$4E,$4E,$4F ; $80\n\t.db $4E,$4F,$4F,$4E ; $84\n\t.db $92,$93,$93,$92 ; $88\n\t.db $8E,$8F,$8F,$8E ; $8C\n\t.db $44,$45,$45,$44 ; $90\n\t.db $4F,$37,$4E,$FE ; $94\n\t.db $4F,$3A,$4E,$FE ; $98\n\t.db $4F,$4E,$37,$38 ; $9C\n\t.db $4A,$4B,$FE,$FE ; $A0\n\t.db $72,$73,$4A,$4B ; $A4\n\t.db $40,$42,$41,$43 ; $A8\n\t.db $41,$43,$41,$43 ; $AC\n\nUnusedTileQuads4:\n\t.db $40,$42,$41,$43 ; $00\n\t.db $40,$42,$41,$43 ; $04\n\t.db $BA,$BC,$BB,$BD ; $08\n\t.db $BA,$BC,$90,$91 ; $0C\n\t.db $FA,$FA,$FA,$FA ; $10\n\t.db $FA,$FA,$FA,$FA ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $61,$63,$61,$63 ; $1C\n\t.db $65,$63,$65,$63 ; $20\n\t.db $65,$67,$65,$67 ; $24\n\t.db $60,$62,$61,$63 ; $28\n\t.db $32,$34,$33,$35 ; $2C\n\t.db $64,$62,$65,$63 ; $30\n\t.db $36,$34,$37,$35 ; $34\n\t.db $64,$66,$65,$67 ; $38\n\t.db $36,$38,$37,$39 ; $3C\n\t.db $68,$62,$61,$63 ; $40\n\t.db $64,$69,$65,$67 ; $44\n\t.db $46,$62,$61,$63 ; $48\n\t.db $64,$47,$65,$67 ; $4C\n\t.db $BA,$BC,$BB,$BD ; $50\n\t.db $70,$72,$71,$73 ; $54\n\t.db $8E,$8F,$8F,$8E ; $58\n\t.db $72,$73,$73,$72 ; $5C\n\t.db $44,$45,$45,$44 ; $60\n\n; -----\n\n\n;\n; ## Object creation routine selection\n;\n; Object types are grouped into `$10` value ranges, where the upper nybble determines which routine\n; or jump table to use.\n;\n\n;\n; ### Length-based object table\n;\n; The `$3X-$FX` range is used for objects that specify a type in the upper nybble and length in the\n; lower nybble, including runs of horizontal or vertical blocks, platforms, and waterfalls.\n;\nCreateObjects_30thruF0:\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_HorizontalBlocks ; $3X\n\t.dw CreateObject_HorizontalBlocks ; $4X\n\t.dw CreateObject_HorizontalBlocks ; $5X\n\t.dw CreateObject_HorizontalBlocks ; $6X\n\t.dw CreateObject_HorizontalBlocks ; $7X\n\t.dw CreateObject_VerticalBlocks ; $8X\n\t.dw CreateObject_VerticalBlocks ; $9X\n\t.dw CreateObject_VerticalBlocks ; $AX\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n\t.dw CreateObject_WhaleOrDrawBridgeChain ; $BX\n\t.dw CreateObject_JumpthroughPlatform ; $CX\nELSE\n\t.dw CreateObject_Platform_BX ; $BX\n\t.dw CreateObject_Platform_CX ; $CX\nENDIF\n\t.dw CreateObject_HorizontalPlatform ; $DX\n\t.dw CreateObject_HorizontalPlatform ; $EX\n\t.dw CreateObject_WaterfallOrFrozenRocks ; $FX\n\n;\n; ### Single object tables\n;\n; The `$0X-$2X` range is used for various single-block and one-off objects, such a mushroom blocks,\n; standable vines, doors, and vertical objects that extend all the way to the ground.\n;\nCreateObjects_00:\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_SingleBlock ; $00\n\t.dw CreateObject_SingleBlock ; $01\n\t.dw CreateObject_SingleBlock ; $02\n\t.dw CreateObject_SingleBlock ; $03\n\t.dw CreateObject_SingleBlock ; $04\nIFNDEF LEVEL_ENGINE_UPGRADES\n\t.dw CreateObject_SingleBlock ; $05\nELSE\n\t.dw CreateObject_StandableAutomatic ; $05\nENDIF\n\t.dw CreateObject_Vase ; $06\n\t.dw CreateObject_Vase ; $07\n\t.dw CreateObject_Vase ; $08\n\t.dw CreateObject_Door ; $09\n\t.dw CreateObject_Door ; $0A\n\t.dw CreateObject_Door ; $0B\n\t.dw CreateObject_Vine ; $0C\n\t.dw CreateObject_Vine ; $0D\n\t.dw CreateObject_StarBackground ; $0E\n\t.dw CreateObject_Pillar ; $0F\n\nCreateObjects_10:\n\tLDA byte_RAM_50E\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_BigCloud ; $10\n\t.dw CreateObject_SmallCloud ; $11\n\t.dw CreateObject_VineBottom ; $12\n\t.dw CreateObject_LightEntranceRight ; $13\n\t.dw CreateObject_LightEntranceLeft ; $14\n\t.dw CreateObject_Tall ; $15\n\t.dw CreateObject_Tall ; $16\n\t.dw CreateObject_Pyramid ; $17\n\t.dw CreateObject_Wall ; $18\n\t.dw CreateObject_Wall ; $19\n\t.dw CreateObject_Horn ; $1A\n\t.dw CreateObject_DrawBridgeChain ; $1B\n\t.dw CreateObject_Door ; $1C\n\t.dw CreateObject_Door ; $1D\n\t.dw CreateObject_RockWallEntrance ; $1E\n\t.dw CreateObject_TreeBackground ; $1F\n\nCreateObjects_20:\n\tJMP CreateObject_SingleObject\n\n\n;\n; ## World object tiles\n;\n; The repeating blocks in the `$3X-$AX` range are specified per world in these\n; lookup tables. Each world has 4 values for each object type, which are\n; selected using byte 3 of the area header.\n;\n; `$3X-$9X` is specified using `%......XX` in byte 3 of the header.\n; `$AX` (ladder/chain) is specified using `%....XX..` in byte 3 of the header.\n;\n\nWorldObjectTilePointersLo:\n\t.db <World1ObjectTiles\n\t.db <World2ObjectTiles\n\t.db <World3ObjectTiles\n\t.db <World4ObjectTiles\n\t.db <World5ObjectTiles\n\t.db <World6ObjectTiles\n\t.db <World7ObjectTiles\n\nWorldObjectTilePointersHi:\n\t.db >World1ObjectTiles\n\t.db >World2ObjectTiles\n\t.db >World3ObjectTiles\n\t.db >World4ObjectTiles\n\t.db >World5ObjectTiles\n\t.db >World6ObjectTiles\n\t.db >World7ObjectTiles\n\nWorld1ObjectTiles:\n\t.db $97, $92, $12, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $00, $9D, $A2 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld2ObjectTiles:\n\t.db $96, $92, $93, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $1C, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $40, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld3ObjectTiles:\n\t.db $97, $92, $12, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $A0, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $00, $9D, $A2 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld4ObjectTiles:\n\t.db $16, $92, $16, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $A2, $18 ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $1F, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld5ObjectTiles:\n\t.db $97, $92, $12, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $A4, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld6ObjectTiles:\n\t.db $96, $92, $93, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $1C, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $40, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld7ObjectTiles:\n\t.db $12, $68, $12, $9D ; 3X (horizontal jump-through block)\n\t.db $9C, $67, $64, $69 ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $9C, $9C, $9C, $9C ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\n\n;\n; ## Object creation routines\n;\n; These routines are responsible for turning an object in the level data into a set of tiles that\n; are applied to the raw tile buffer.\n;\n; Some are specific one-offs to draw a particular object, where as otherws are generic routines,\n; such as drawing an _n_-tile row or column of tile _x_. Many fall somewhere in-between.\n;\n\nIFDEF LEVEL_ENGINE_UPGRADES\n;\n; #### Automatic climbable tile generation\n;\nClimbableTileSearch:\n\t.db BackgroundTile_LadderShadow\n\t.db BackgroundTile_Ladder\n\t.db BackgroundTile_Chain\n\t.db BackgroundTile_Vine\n\nClimbableTilePlatform:\n\t.db BackgroundTile_LadderStandableShadow\n\t.db BackgroundTile_LadderStandable\n\t.db BackgroundTile_ChainStandable\n\t.db BackgroundTile_VineStandable\n\n\n;\n; Find the corresponding climbable tile\n;\n; ##### Input\n; - `A`: search tile\n;\n; ##### Output\n; - `A`: replace tile\n; - `C`: set if a match was found\n;\nFindClimableTile:\n\tSTX byte_RAM_7\n\tLDX #(ClimbableTilePlatform - ClimbableTileSearch - 1)\n\nFindClimableTile_Loop:\n\tCMP ClimbableTileSearch, X\n\tBEQ FindClimableTile_LoadReplacement\n\n\tDEX\n\tBPL FindClimableTile_Loop\n\n\tLDX byte_RAM_7\n\tCLC\n\tRTS\n\nFindClimableTile_LoadReplacement:\n\tLDA ClimbableTilePlatform, X\n\tLDX byte_RAM_7\n\tRTS\n\n;\n; Creates a climbable tile that you can stand on based on `ObjectTypeAXthruFX`.\n;\n; ##### Output\n; - `A`: tile that was written\n;\nCreateObject_StandableObjectType:\n\tLDA ObjectTypeAXthruFX\n\tBEQ CreateObject_StandableObjectType_TableOffset\n\n\t; Offset for shadow\n\tCLC\n\tADC #$04\n\nCreateObject_StandableObjectType_TableOffset:\n\t; Offset to ladder/chain object definition\n\tADC #$1C\n\tTAX\n\n\tLDY byte_RAM_E7\n\tSTX byte_RAM_7\n\tSTY byte_RAM_8\n\tLDX CurrentWorldTileset\n\tLDA WorldObjectTilePointersLo, X\n\tSTA byte_RAM_C\n\tLDA WorldObjectTilePointersHi, X\n\tSTA byte_RAM_D\n\tLDY byte_RAM_7\n\tLDA (byte_RAM_C), Y\n\tLDY byte_RAM_8\n\tLDX byte_RAM_7\n\n\tJSR FindClimableTile\n\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n;\n; Creates a climbable tile that you can stand on based on the based on the tile underneath.\n;\n; ##### Output\n; - `A`: tile that was written\n;\nCreateObject_StandableAutomatic:\n\tLDY byte_RAM_E7\n\tLDA (byte_RAM_1), Y\n\n\tJSR FindClimableTile\n\tBCC CreateObject_StandableObjectType\n\n\tSTA (byte_RAM_1), Y\n\tRTS\nENDIF\n\n\n;\n; Places a tile using the world-specific tile lookup table.\n;\n; ##### Input\n; - `Y`: destination tile\n; - `byte_RAM_50E`: type of object to create (upper nybble of level object minus 3)\n;\n;     ```\n;     $00 = jumpthrough block\n;     $01 = solid block\n;     $02 = grass\n;     $03 = bridge\n;     $04 = spikes\n;     $05 = vertical rock\n;     $06 = vertical rock with angle\n;     $07 = ladder\n;     $08 = whale\n;     $09 = jumpthrough platform\n;     $0A = log platform\n;     $0B = cloud platform\n;     $0C = waterfall\n;     ```\n;\n; ##### Output\n; - `A`: tile that was written\n;\nCreateWorldSpecificTile:\n\tLDA byte_RAM_50E\n\tASL A\n\tASL A\n\tSTA byte_RAM_F\n\tLDA byte_RAM_50E\n\tCMP #$07\n\tBCC CreateWorldSpecificTile_3Xthru9X\n\nCreateWorldSpecificTile_AXthruFX:\n\tLDA ObjectTypeAXthruFX\n\tJMP CreateWorldSpecificTile_ApplyObjectType\n\nCreateWorldSpecificTile_3Xthru9X:\n\tLDA ObjectType3Xthru9X\n\nCreateWorldSpecificTile_ApplyObjectType:\n\tCLC\n\tADC byte_RAM_F\n\tTAX\n\tLDA byte_RAM_50E\n\tCMP #$03\n\tBNE CreateWorldSpecificTile_LookUpTile\n\n\t; bridge casts a shadow on background bricks\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_BackgroundBrick\n\tBNE CreateWorldSpecificTile_LookUpTile\n\n\tLDA #BackgroundTile_BridgeShadow\n\tBNE CreateWorldSpecificTile_Exit\n\nCreateWorldSpecificTile_LookUpTile:\n\tSTX byte_RAM_7\n\tSTY byte_RAM_8\n\tLDX CurrentWorldTileset\n\tLDA WorldObjectTilePointersLo, X\n\tSTA byte_RAM_C\n\tLDA WorldObjectTilePointersHi, X\n\tSTA byte_RAM_D\n\tLDY byte_RAM_7\n\tLDA (byte_RAM_C), Y\n\tLDY byte_RAM_8\n\tLDX byte_RAM_7\n\nCreateWorldSpecificTile_Exit:\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Creates a horizontal run of blocks\n;\n; ##### Input\n; - `byte_RAM_50D`: number of blocks to create\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_HorizontalBlocks:\n\tLDY byte_RAM_E7\n\nCreateObject_HorizontalBlocks_Loop:\n\tJSR CreateWorldSpecificTile\n\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_50D\n\tBPL CreateObject_HorizontalBlocks_Loop\n\n\tRTS\n\n\n;\n; Creates a light entrance with the trail facing right\n;\n; World 6 has some extra logic to make the entrance extend down to the floor.\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_LightEntranceRight:\n\tLDA CurrentWorldTileset\n\tCMP #$05\n\tBNE CreateObject_LightEntranceRight_NotWorld6\n\n\tJMP CreateObject_LightEntranceRight_World6\n\nCreateObject_LightEntranceRight_NotWorld6:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_LightTrailRight\n\tSTA (byte_RAM_1), Y\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tTAY\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_LightTrail\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_LightTrailRight\n\tSTA (byte_RAM_1), Y\n\nIFNDEF DISABLE_DOOR_POINTERS\n\tLDA CurrentWorld\n\tCMP #$05\n\tBEQ CreateObject_LightEntranceRight_World6or7Exit\n\n\tLDA CurrentWorld\n\tCMP #$06\n\tBEQ CreateObject_LightEntranceRight_World6or7Exit\n\n\tJSR LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_LightEntranceRight_World6or7Exit:\n\tRTS\n\nCreateObject_LightEntranceRight_World6:\n\tLDY byte_RAM_E7\n\tLDA #$00\n\tSTA byte_RAM_8\n\nCreateObject_LightEntranceRight_World6Loop:\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_LightEntranceRight_World6_Exit\n\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tLDA byte_RAM_8\n\tTAX\n\nCreateObject_LightEntranceRight_World6InnerLoop:\n\tCPX #$00\n\tBEQ CreateObject_LightEntranceRight_World6_TrailRight\n\n\tINY\n\tLDA #BackgroundTile_LightTrail\n\tSTA (byte_RAM_1), Y\n\tDEX\n\tJMP CreateObject_LightEntranceRight_World6InnerLoop\n\nCreateObject_LightEntranceRight_World6_TrailRight:\n\tINY\n\tLDA #BackgroundTile_LightTrailRight\n\tSTA (byte_RAM_1), Y\n\tINC byte_RAM_8\n\tLDY byte_RAM_E7\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tSTA byte_RAM_E7\n\tJMP CreateObject_LightEntranceRight_World6Loop\n\nCreateObject_LightEntranceRight_World6_Exit:\n\tRTS\n\n\n;\n; Creates a light entrance with the trail facing left\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_LightEntranceLeft:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tDEY\n\tLDA #BackgroundTile_LightTrailLeft\n\tSTA (byte_RAM_1), Y\n\tLDY byte_RAM_E7\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tDEY\n\tLDA #BackgroundTile_LightTrail\n\tSTA (byte_RAM_1), Y\n\tDEY\n\tLDA #BackgroundTile_LightTrailLeft\n\tSTA (byte_RAM_1), Y\n\nIFNDEF DISABLE_DOOR_POINTERS\n\tLDA CurrentWorld\n\tCMP #$05\n\tBEQ CreateObject_LightEntranceLeft_World6or7Exit\n\n\tLDA CurrentWorld\n\tCMP #$06\n\tBEQ CreateObject_LightEntranceLeft_World6or7Exit\n\n\tJSR LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_LightEntranceLeft_World6or7Exit:\n\tRTS\n\n\n;\n; Creates a vertical run of blocks.\n;\n; ##### Input\n; - `byte_RAM_50D`: number of blocks to create\n; - `byte_RAM_50E`: type of object to create (upper nybble of level object minus 3)\n;\n;     ```\n;     $00 = jumpthrough block\n;     $01 = solid block\n;     $02 = grass\n;     $03 = bridge\n;     $04 = spikes\n;     $05 = vertical rock\n;     $06 = vertical rock with angle\n;     $07 = ladder\n;     $08 = whale\n;     $09 = jumpthrough platform\n;     $0A = log platform\n;     $0B = cloud platform\n;     $0C = waterfall\n;     ```\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_VerticalBlocks:\n\tLDY byte_RAM_E7\n\nIFNDEF LEVEL_ENGINE_UPGRADES\n;\n; This little hack is used to show the pile of rocks behind ClawGrip in his boss\n; room. If we're currently in 5-2, area 5, the vertical rock wall with an angled\n; top is replaced by ClawGrip's rocks instead.\n;\n; The level/area check is important! If you go into one of the duplicates of the\n; boss room, you'll see the angled rock wall instead.\n;\n\tLDA byte_RAM_50E\n\tCMP #$06\n\tBNE CreateObject_VerticalBlocks_NotClawGrip\n\n\tLDA CurrentLevel\n\tCMP #$0E\n\tBNE CreateObject_VerticalBlocks_NotClawGrip\n\n\tLDA CurrentLevelArea\n\tCMP #$05\n\tBNE CreateObject_VerticalBlocks_NotClawGrip\n\nCreateObject_VerticalBlocks_ClawGripRockLoop:\n\tLDA #BackgroundTile_ClawGripRock\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaYOffset\n\n\tDEC byte_RAM_50D\n\tBPL CreateObject_VerticalBlocks_ClawGripRockLoop\n\n\tRTS\nENDIF\n\nCreateObject_VerticalBlocks_NotClawGrip:\n\tLDA byte_RAM_50E\n\tCMP #$06\n\tBNE CreateObject_VerticalBlocks_Normal\n\nIFNDEF LEVEL_ENGINE_UPGRADES\n\tLDA #BackgroundTile_RockWallAngle\nELSE\n\t;\n\t; Use the previous tile for the top of the column UNLESS we're using a sky\n\t; tile or have set an object type for in the level header.\n\t;\n\t; This supports creating a normal vertical block run for $9X as well as the\n\t; special rock wall with an angled top.\n\t;\n\tLDX ObjectType3Xthru9X\n\tBNE CreateObject_VerticalBlocks_Normal\n\tJSR CreateWorldSpecificTile\n\tCMP #BackgroundTile_Sky\n\tBEQ CreateObject_VerticalBlocks_NextRow\n\tCLC\n\tSBC #$00\nENDIF\n\tSTA (byte_RAM_1), Y\n\tJMP CreateObject_VerticalBlocks_NextRow\n\nCreateObject_VerticalBlocks_Normal:\n\tJSR CreateWorldSpecificTile\n\nCreateObject_VerticalBlocks_NextRow:\n\tJSR IncrementAreaYOffset\n\n\tDEC byte_RAM_50D\n\tBPL CreateObject_VerticalBlocks_Normal\n\n\tRTS\n\n\n;\n; Lookup tables for single blocks\n;\n; Each the lower nybble of the object type is used as the offset, except for the\n; standable ladder, which is described in the subroutine below.\n;\nWorld1thru6SingleBlocks:\n\t.db BackgroundTile_MushroomBlock\n\t.db BackgroundTile_POWBlock\n\t.db BackgroundTile_BombableBrick\n\t.db BackgroundTile_VineStandable\n\t.db BackgroundTile_JarSmall\n\t.db BackgroundTile_LadderStandable\n\t.db BackgroundTile_LadderStandableShadow\n\nWorld7SingleBlocks:\n\t.db BackgroundTile_MushroomBlock\n\t.db BackgroundTile_POWBlock\n\t.db BackgroundTile_BombableBrick\n\t.db BackgroundTile_ChainStandable\n\t.db BackgroundTile_JarSmall\n\t.db BackgroundTile_LadderStandable\n\t.db BackgroundTile_LadderStandableShadow\n\n\n;\n; Creates a single block\n;\n; ##### Input\n; - `byte_RAM_50E`: object type to use as an offset in the lookup table\n;\nCreateObject_SingleBlock:\n\tLDA byte_RAM_50E\n\tTAX\n\n;\n; Object `$05` is a single ladder tile that the player can stand on.\n;\n; When `ObjectTypeAXthruFX` is set, it is given a shadow. This works by\n; incrementing the offset by one so that object `$05` ends up using offset `$06`\n; in the lookup table!\n;\n\tCMP #$05\n\tBNE CreateObject_SingleBlock_NotLadderStandable\n\n\tLDA ObjectTypeAXthruFX\n\tBEQ CreateObject_SingleBlock_NotLadderStandable\n\n\tINX\n\nCreateObject_SingleBlock_NotLadderStandable:\n\tLDY byte_RAM_E7\n\t; World 7 gets its own lookup table for climbable chains instead of vines\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE CreateObject_SingleBlock_NotWorld7\n\nCreateObject_SingleBlock_World7:\n\tLDA World7SingleBlocks, X\n\tJMP CreateObject_SingleBlock_Exit\n\nCreateObject_SingleBlock_NotWorld7:\n\tLDA World1thru6SingleBlocks, X\n\nCreateObject_SingleBlock_Exit:\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Horizontal platform lookup tables. Choose between logs and clouds.\n;\nHorizontalPlatformLeftTiles:\n\t.db BackgroundTile_LogLeft\n\t.db BackgroundTile_CloudLeft\nHorizontalPlatformMiddleTiles:\n\t.db BackgroundTile_LogMiddle\n\t.db BackgroundTile_CloudMiddle\nHorizontalPlatformRightTiles:\n\t.db BackgroundTile_LogRight\n\t.db BackgroundTile_CloudRight\n\n;\n; Creates a horizontal platform with special tiles for the endcaps.\n;\n; The log platforms and jump-through cloud platforms both use this.\n;\nCreateObject_HorizontalPlatform:\n\tLDA CurrentWorldTileset\n\tCMP #$04\n\tBNE CreateObject_HorizontalPlatform_NotWorld5\n\n\t; In World 5, we want to do some special stuff to make the logs look like\n\t; branches coming out of the tree trunk background.\n\tJMP CreateObject_HorizontalPlatform_World5\n\nCreateObject_HorizontalPlatform_NotWorld5:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tLDA HorizontalPlatformLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_HorizontalPlatform_Exit\n\nCreateObject_HorizontalPlatform_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA HorizontalPlatformMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_HorizontalPlatform_Loop\n\nCreateObject_HorizontalPlatform_Exit:\n\tJSR IncrementAreaXOffset\n\n\tLDA HorizontalPlatformRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Lookup table for the big green platforms.\n;\nGreenPlatformTiles:\n\t.db BackgroundTile_GreenPlatformTopLeft\n\t.db BackgroundTile_GreenPlatformTop\n\t.db BackgroundTile_GreenPlatformTopRight\n\t.db BackgroundTile_GreenPlatformLeft\n\t.db BackgroundTile_GreenPlatformMiddle\n\t.db BackgroundTile_GreenPlatformRight\n\n; These are the background tiles that the green platforms are allowed to overwrite.\n; Any other tiles will stop the green platform from extending to the bottom of the page.\nGreenPlatformOverwriteTiles:\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_WaterfallTop\n\t.db BackgroundTile_Waterfall\nIFDEF LEVEL_ENGINE_UPGRADES\n\t.db BackgroundTile_WaterfallSplash\n\t.db BackgroundTile_Water\n\t.db BackgroundTile_WaterTop\nENDIF\nGreenPlatformTiles_End:\n\n\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n;\n; Draws the typical green hill platforms in Worlds 1 through 6 or the mushroom\n; house platforms in World 7.\n;\nCreateObject_JumpthroughPlatform:\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE CreateObject_GreenJumpthroughPlatform\n\n\tJMP CreateObject_MushroomJumpthroughPlatform\nELSE\nCreateObject_Platform_CX:\n\tLDA LevelObjectMode\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_GreenJumpthroughPlatform\n\t.dw CreateObject_GreenJumpthroughPlatform\n\t.dw CreateObject_Whale\n\t.dw CreateObject_MushroomJumpthroughPlatform\nENDIF\n\n\n;\n; #### Green platforms\n;\n; Creates the typical (usually) green hill platforms used throughout World 1 through 6.\n;\n; These platforms are allowed to overlap each other, but typically appear behind other tiles that\n; are already present in the area.\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n; - `byte_RAM_E8`: area page\n; - `byte_RAM_50D`: width of platform\n;\nCreateObject_GreenJumpthroughPlatform:\n\t; Start with a top-left tile.\n\tLDX #$00\n\nCreateObject_GreenJumpthroughPlatform_Row:\n\tSTX byte_RAM_B\n\t; Update the area page.\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\t; These two lines seem like leftovers.\n\tLDX #$05\n\tLDY byte_RAM_E7\n\n\t; Draw a left corner or side.\n\tLDX byte_RAM_B\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tJSR CreateObject_GreenJumpthroughPlatformTile\n\n\t; Skip to the right side if we're drawing a short platform.\n\tINX\n\tLDA byte_RAM_7\n\tBEQ CreateObject_GreenJumpthroughPlatform_Right\n\n\t; Draw top or middle tiles.\nCreateObject_GreenJumpthroughPlatform_Loop:\n\tJSR IncrementAreaXOffset\n\n\tJSR CreateObject_GreenJumpthroughPlatformTile\n\n\tBNE CreateObject_GreenJumpthroughPlatform_Loop\n\n\t; Draw right corner or side.\nCreateObject_GreenJumpthroughPlatform_Right:\n\tJSR IncrementAreaXOffset\n\n\tINX\n\tJSR CreateObject_GreenJumpthroughPlatformTile\n\n\t; Exit if we've hit the bottom of the page.\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_GreenJumpthroughPlatform_Exit\n\n\t; Drawing a left side tile next.\n\tLDX #$03\n\tSTA byte_RAM_E7\n\tJMP CreateObject_GreenJumpthroughPlatform_Row\n\nCreateObject_GreenJumpthroughPlatform_Exit:\n\tRTS\n\n\n;\n; Lookup table for green platform overlap tiles.\n;\n; When drawing the top of a green platform, if the destination tile matches the compare tile, the\n; corresponding left or right overlap tile will be drawn instead.\n;\nGreenPlatformOverlapCompareTiles:\n\t.db BackgroundTile_GreenPlatformLeft\n\t.db BackgroundTile_GreenPlatformMiddle\n\t.db BackgroundTile_GreenPlatformRight\n\nGreenPlatformOverlapLeftTiles:\n\t.db BackgroundTile_GreenPlatformTopLeftOverlapEdge\n\t.db BackgroundTile_GreenPlatformTopLeftOverlap\n\t.db BackgroundTile_GreenPlatformTopLeftOverlap\n\nGreenPlatformOverlapRightTiles:\n\t.db BackgroundTile_GreenPlatformTopRightOverlap\n\t.db BackgroundTile_GreenPlatformTopRightOverlap\n\t.db BackgroundTile_GreenPlatformTopRightOverlapEdge\n\n\n;\n; Draws a single tile of the green platform, taking into account the existing tile at the target.\n;\n; ##### Input\n; - `X`: offset in `GreenPlatformTiles` table (0-2=top, 3-5=middle)\n; - `Y`: raw data offset\n;\nCreateObject_GreenJumpthroughPlatformTile:\n\tSTX byte_RAM_8\n\tTXA\n\tBNE CreateObject_GreenJumpthroughPlatformTile_NotTopLeft\n\n\t; Check if the top left corner requires a special tile\n\tLDX #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - 1)\n\tLDA (byte_RAM_1), Y\n\nCreateObject_GreenJumpthroughPlatformTile_TopLeftLoop:\n\tCMP GreenPlatformOverlapCompareTiles, X\n\tBEQ CreateObject_GreenJumpthroughPlatformTile_TopLeftMatch\n\n\tDEX\n\tBPL CreateObject_GreenJumpthroughPlatformTile_TopLeftLoop\n\n\tBMI CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\nCreateObject_GreenJumpthroughPlatformTile_TopLeftMatch:\n\tLDA GreenPlatformOverlapLeftTiles, X\n\tBNE CreateObject_GreenJumpthroughPlatformTile_SetTile\n\nCreateObject_GreenJumpthroughPlatformTile_NotTopLeft:\n\tLDX byte_RAM_8\n\tCPX #$02\n\tBNE CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\n\t; Check if the top right corner requires a special tile\n\tLDX #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - 1)\n\tLDA (byte_RAM_1), Y\n\nCreateObject_GreenJumpthroughPlatformTile_TopRightLoop:\n\tCMP GreenPlatformOverlapCompareTiles, X\n\tBEQ CreateObject_GreenJumpthroughPlatformTile_TopRightMatch\n\n\tDEX\n\tBPL CreateObject_GreenJumpthroughPlatformTile_TopRightLoop\n\n\tBMI CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\nCreateObject_GreenJumpthroughPlatformTile_TopRightMatch:\n\tLDA GreenPlatformOverlapRightTiles, X\n\tBNE CreateObject_GreenJumpthroughPlatformTile_SetTile\n\n\t; Check if the target tile can be overwritten by a green platform\nCreateObject_GreenJumpthroughPlatformTile_CheckOverwrite:\n\tLDX #(GreenPlatformTiles_End - GreenPlatformTiles - 1)\n\nCreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop:\n\tLDA (byte_RAM_1), Y\n\tCMP GreenPlatformTiles, X\n\tBEQ CreateObject_GreenJumpthroughPlatformTile_Overwrite\n\n\tDEX\n\tBPL CreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop\n\n\t; Otherwise, we cannot overwrite this tile with a green platform.\n\tLDX byte_RAM_8\n\tJMP CreateObject_GreenJumpthroughPlatformTile_Exit\n\nCreateObject_GreenJumpthroughPlatformTile_Overwrite:\n\tLDX byte_RAM_8\n\tLDA GreenPlatformTiles, X\n\nCreateObject_GreenJumpthroughPlatformTile_SetTile:\n\tSTA (byte_RAM_1), Y\n\nCreateObject_GreenJumpthroughPlatformTile_Exit:\n\tLDX byte_RAM_8\n\tDEC byte_RAM_7\n\tRTS\n\n; -----\n\n\n;\n; Lookup table for tall objects that extend to the ground.\n;\nTallObjectTopTiles:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_PalmTreeTop\n\nTallObjectBottomTiles:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_PalmTreeTrunk\n\n\n;\n; #### Tall objects\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n; - `byte_RAM_50E`: type of object to create (lower nybble of level object minus 5)\n;\n; Creates a tree or light door object that extends down until it hits another tile.\n;\nCreateObject_Tall:\n\tLDA CurrentWorldTileset\n\tCMP #$04\n\tBNE CreateObject_Tall_NotWorld5\n\tJMP CreateObject_Tall_World5\n\nCreateObject_Tall_NotWorld5:\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$05\n\tSTA byte_RAM_7\n\tTAX\n\tLDY byte_RAM_E7\n\tLDA TallObjectTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Tall_NotWorld5_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Tall_NotWorld5_Exit\n\n\tLDX byte_RAM_7\n\tLDA TallObjectBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\tBNE CreateObject_Tall_NotWorld5_Loop\n\nCreateObject_Tall_NotWorld5_Exit:\n\tRTS\n\n\n;\n; Lookup table for tall objects that extend to the ground in World 5.\n;\nWorld5TallObjectTopTiles:\n\t.db BackgroundTile_PalmTreeTop\n\t.db BackgroundTile_PalmTreeTop\n\nWorld5TallObjectBottomTiles:\n\t.db BackgroundTile_PalmTreeTrunk\n\t.db BackgroundTile_PalmTreeTrunk\n\n\n;\n; ##### Tall objects (World 5)\n;\n; Other than the fact that this only renders palm trees and not doors, the only practical difference\n; in this subroutine is that it will stop at the bottom of the screen if it doesn't encounter\n; another tile beforehand.\n;\n; This appears to be a work-around for the palm trees in 5-2 that have vertical\n; rock platforms beneath them. Since the rock comes later, tree trunk tiles would\n; render all the way down to the screen and through to the next page!\n;\n; Using a new object layer would have achieved the same effect, but the\n; developer decided to create this special case instead.\n;\nCreateObject_Tall_World5:\n\tLDX #$00\n\tLDA byte_RAM_50E\n\tCMP #$05\n\tBEQ CreateObject_Tall_World5_DoLookup\n\n\tINX\n\nCreateObject_Tall_World5_DoLookup:\n\tSTX byte_RAM_7\n\tLDY byte_RAM_E7\n\tLDA World5TallObjectTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Tall_World5_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Tall_World5_Exit\n\n\tLDX byte_RAM_7\n\tLDA World5TallObjectBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\tCPY #$E0\n\tBCC CreateObject_Tall_World5_Loop\n\nCreateObject_Tall_World5_Exit:\n\tRTS\n\n; -----\n\n;\n; Creates the larger, two-tile-wide big cloud.\n;\nCreateObject_BigCloud:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_BgCloudLeft\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_BgCloudRight\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n; -----\n\n\n;\n; Creates a tiny, single-tile cloud.\n;\nCreateObject_SmallCloud:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_BgCloudSmall\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n; -----\n\n\nJarTopTiles:\n\t.db BackgroundTile_JarTopPointer\n\t.db BackgroundTile_JarTopGeneric\n\t.db BackgroundTile_JarTopNonEnterable\n\n\nCreateObject_Vase:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$06\n\tTAX\n\tLDA JarTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Vase_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Vase_Exit\n\n\tLDA #BackgroundTile_JarMiddle\n\tSTA (byte_RAM_1), Y\n\tJMP CreateObject_Vase_Loop\n\nCreateObject_Vase_Exit:\n\tTYA\n\tSEC\n\tSBC #$10\n\tTAY\n\tLDA #BackgroundTile_JarBottom\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\nCreateObject_Vine:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tCMP #$0D\n\tBEQ loc_BANK6_8CFD\n\n\tLDA #BackgroundTile_VineTop\n\tSTA (byte_RAM_1), Y\n\nloc_BANK6_8CFA:\n\tJSR IncrementAreaYOffset\n\nloc_BANK6_8CFD:\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE locret_BANK6_8D12\n\n\tLDA #BackgroundTile_Vine\n\tSTA (byte_RAM_1), Y\n\tLDA IsHorizontalLevel\n\tBEQ loc_BANK6_8D0F\n\nloc_BANK6_8D0B:\n\tCPY #$E0\n\tBCS locret_BANK6_8D12\n\nloc_BANK6_8D0F:\n\tJMP loc_BANK6_8CFA\n\n; ---------------------------------------------------------------------------\n\nlocret_BANK6_8D12:\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nCreateObject_VineBottom:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_VineBottom\n\tSTA (byte_RAM_1), Y\n\nloc_BANK6_8D19:\n\tTYA\n\tSEC\n\tSBC #$10\n\tTAY\n\tCMP #$F0\n\tBCS locret_BANK6_8D2F\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE locret_BANK6_8D2F\n\n\tLDA #BackgroundTile_Vine\n\tSTA (byte_RAM_1), Y\n\tJMP loc_BANK6_8D19\n\nlocret_BANK6_8D2F:\n\tRTS\n\nSingleObjects:\n\t.db BackgroundTile_GrassCoin ; $20\n\t.db BackgroundTile_GrassLargeVeggie ; $21\n\t.db BackgroundTile_GrassSmallVeggie ; $22\n\t.db BackgroundTile_GrassRocket ; $23\n\t.db BackgroundTile_GrassShell ; $24\n\t.db BackgroundTile_GrassBomb ; $25\n\t.db BackgroundTile_GrassPotion ; $26\n\t.db BackgroundTile_Grass1UP ; $27\n\t.db BackgroundTile_GrassPow ; $28\n\t.db BackgroundTile_Cherry ; $29\n\t.db BackgroundTile_GrassBobOmb ; $2A\n\t.db BackgroundTile_SubspaceMushroom1 ; $2B\n\t.db BackgroundTile_Phanto ; $2C\n\t.db BackgroundTile_SubspaceMushroom2 ; $2D\n\t.db BackgroundTile_WhaleEye ; $2E\n\t; No entry for $2F in this table, so it uses tile $A4 due to the LDY below\nIFDEF EXPAND_TABLES\n\t.db BackgroundTile_SolidWood ; $2F\nENDIF\n\nCreateObject_SingleObject:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_50E\n\tLDA SingleObjects, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\nWorld1thru6BrickWallTiles:\n\t.db BackgroundTile_BackgroundBrick\n\t.db BackgroundTile_SolidBrick2Wall\n\nWorld7BrickWallTiles:\n\t.db BackgroundTile_GroundBrick2\n\t.db BackgroundTile_GroundBrick2\n\n\nCreateObject_Wall:\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$08\n\tSTA byte_RAM_8\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA #$05\n\tSTA byte_RAM_7\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Wall_Exit\n\nloc_BANK6_8D69:\n\tLDX byte_RAM_8\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE loc_BANK6_8D78\n\n\tLDA World7BrickWallTiles, X\n\tJMP loc_BANK6_8D7B\n\nloc_BANK6_8D78:\n\tLDA World1thru6BrickWallTiles, X\n\nloc_BANK6_8D7B:\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL loc_BANK6_8D69\n\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_Wall_Exit\n\n\tSTA byte_RAM_E7\n\tJMP CreateObject_Wall\n\nCreateObject_Wall_Exit:\n\tRTS\n\n\nWaterfallTiles:\n\t.db BackgroundTile_WaterfallTop\n\t.db BackgroundTile_Waterfall\n\n\nCreateObject_WaterfallOrFrozenRocks:\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n\tLDA CurrentWorldTileset\n\tCMP #$03\n\tBNE CreateObject_Waterfall\n\n\tJMP CreateObject_FrozenRocks\nENDIF\n\nCreateObject_Waterfall:\n\tLDA #$00\n\tSTA byte_RAM_8\n\nCreateObject_Waterfall_OuterLoop:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDX byte_RAM_8\n\nCreateObject_Waterfall_InnerLoop:\n\tLDA WaterfallTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL CreateObject_Waterfall_InnerLoop\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_Waterfall_Exit\n\n\tSTA byte_RAM_E7\n\tJMP CreateObject_Waterfall_OuterLoop\n\nCreateObject_Waterfall_Exit:\n\tRTS\n\n\nIFDEF ENABLE_LEVEL_OBJECT_MODE\nWaterTiles:\n\t.db BackgroundTile_WaterTop\n\t.db BackgroundTile_Water\n\nCreateObject_Water:\n\tLDA #$00\n\tSTA byte_RAM_8\n\nCreateObject_Water_OuterLoop:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDX byte_RAM_8\n\nCreateObject_Water_InnerLoop:\n\tLDA WaterTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL CreateObject_Water_InnerLoop\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_Water_Exit\n\n\tSTA byte_RAM_E7\n\tJMP CreateObject_Water_OuterLoop\n\nCreateObject_Water_Exit:\n\tRTS\nENDIF\n\nCreateObject_Pyramid:\n\tLDY byte_RAM_E7\n\tLDA #$00\n\tSTA byte_RAM_8\n\nloc_BANK6_8DD8:\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBEQ loc_BANK6_8DDF\n\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANK6_8DDF:\n\tLDA #BackgroundTile_PyramidLeftAngle\n\tSTA (byte_RAM_1), Y\n\tLDX byte_RAM_8\n\tBEQ loc_BANK6_8DF9\n\nloc_BANK6_8DE7:\n\tINY\n\tLDA #BackgroundTile_PyramidLeft\n\tSTA (byte_RAM_1), Y\n\tDEX\n\tBNE loc_BANK6_8DE7\n\n\tLDX byte_RAM_8\n\nloc_BANK6_8DF1:\n\tINY\n\tLDA #BackgroundTile_PyramidRight\n\tSTA (byte_RAM_1), Y\n\tDEX\n\tBNE loc_BANK6_8DF1\n\nloc_BANK6_8DF9:\n\tINY\n\tLDA #BackgroundTile_PyramidRightAngle\n\tSTA (byte_RAM_1), Y\n\tINC byte_RAM_8\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tSEC\n\tSBC byte_RAM_8\n\tTAY\n\tJMP loc_BANK6_8DD8\n\n; Not referenced, maybe unused...?\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_CactusTop\n\tSTA (byte_RAM_1), Y\n\nloc_BANK6_8E14:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBEQ loc_BANK6_8E1E\n\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANK6_8E1E:\n\tLDA #BackgroundTile_CactusMiddle\n\tSTA (byte_RAM_1), Y\n\tBNE loc_BANK6_8E14\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANK6_8E24:\n\tLDA byte_RAM_9\n\tASL A\n\tASL A\n\tSEC\n\tADC byte_RAM_9\n\tSTA byte_RAM_9\n\tASL byte_RAM_A\n\tLDA #$20\n\tBIT byte_RAM_A\n\tBCS loc_BANK6_8E39\n\n\tBNE loc_BANK6_8E3B\n\n\tBEQ loc_BANK6_8E3D\n\nloc_BANK6_8E39:\n\tBNE loc_BANK6_8E3D\n\nloc_BANK6_8E3B:\n\tINC byte_RAM_A\n\nloc_BANK6_8E3D:\n\tLDA byte_RAM_A\n\tEOR byte_RAM_9\n\tRTS\n\n; End of function sub_BANK6_8E24\n\nStarBackgroundTiles:\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_StarBg1\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_StarBg2\n\t.db BackgroundTile_Sky\n\nCreateObject_StarBackground:\n\tLDA byte_RAM_E8\n\tSTA byte_RAM_D\n\tLDA #$80\n\tSTA byte_RAM_A\n\tLDA #$31\n\tSTA byte_RAM_9\n\nCreateObject_StarBackground_Loop:\n\tJSR sub_BANK6_8E24\n\n\tAND #$07\n\tTAX\n\tLDA StarBackgroundTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaYOffset\n\n\tCPY #$30\n\tBCC CreateObject_StarBackground_Loop\n\n\tTYA\n\tAND #$0F\n\tTAY\n\tJSR IncrementAreaXOffset\n\n\tLDA byte_RAM_D\n\tSTA byte_RAM_E8\n\tCMP #$A\n\tBNE CreateObject_StarBackground_Loop\n\n\tLDA #$00\n\tSTA byte_RAM_E8\n\tSTA byte_RAM_E6\n\tSTA byte_RAM_E5\n\tRTS\n\n\n;\n; Lookup table for whale tiles.\n;\n; It's unclear why there are entries for black background tiles and jumpthrough\n; cloud platforms, but the mushroom houses table also has this.\n;\nWhaleLeftTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudLeft\n\t.db BackgroundTile_WhaleTopLeft\n\t.db BackgroundTile_Whale\n\t.db BackgroundTile_WaterWhale\n\nWhaleMiddleTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudMiddle\n\t.db BackgroundTile_WhaleTop\n\t.db BackgroundTile_Whale\n\t.db BackgroundTile_WaterWhale\n\nWhaleRightTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudRight\n\t.db BackgroundTile_WhaleTopRight\n\t.db BackgroundTile_Whale\n\t.db BackgroundTile_WaterWhale\n\n\n;\n; Draws a row of the whale\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n; - `byte_RAM_50D`: width of house\n; - `byte_RAM_50E`: offset in the tile lookup table plus `$0A`, for some reason\n;\nCreateObject_WhaleRow:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tLDA WhaleLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_WhaleRow_Right\n\nCreateObject_WhaleRow_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA WhaleMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_WhaleRow_Loop\n\nCreateObject_WhaleRow_Right:\n\tJSR IncrementAreaXOffset\n\n\tLDA WhaleRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\nCreateObject_WhaleOrDrawBridgeChain:\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE CreateObject_Whale\n\n\tJMP CreateObject_DrawBridgeChain\nELSE\nCreateObject_Platform_BX:\n\tLDA LevelObjectMode\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_Water\n\t.dw CreateObject_FrozenRocks\n\t.dw CreateObject_FrozenRocks\n\t.dw CreateObject_DrawBridgeChain\nENDIF\n\n;\n; Draws a whale.\n;\n; ##### Input\n; - `byte_RAM_50D`: width of whale\n;\nCreateObject_Whale:\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDA #$0C\n\tSTA byte_RAM_50E\n\tJSR CreateObject_WhaleRow\n\n\tINC byte_RAM_50E\n\nCreateObject_Whale_Loop:\n\tLDA byte_RAM_7\n\tSTA byte_RAM_50D\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tCMP #$B0\n\t; This branch doesn't actually skip anything...\n\tBCC CreateObject_Whale_AboveWater\n\nCreateObject_Whale_AboveWater:\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tJSR CreateObject_WhaleRow\n\n\t; Check to see if we're at the fixed row above the water.\n\tTYA\n\tAND #$F0\n\tCMP #$B0\n\tBNE CreateObject_Whale_NotTail\n\n\t; Draw the whale tail two tiles away.\n\tJSR IncrementAreaXOffset\n\tJSR IncrementAreaXOffset\n\n\tLDA #BackgroundTile_WhaleTail\n\tSTA (byte_RAM_1), Y\n\tINC byte_RAM_50E\n\tJMP CreateObject_Whale_Loop\n\nCreateObject_Whale_NotTail:\n\tLDA byte_RAM_50E\n\tCMP #$0E\n\tBNE CreateObject_Whale_Loop\n\n\tJSR IncrementAreaXOffset\n\tJSR IncrementAreaXOffset\n\n\tLDA #BackgroundTile_WaterWhaleTail\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Lookup table for frozen rocks over water tiles.\n;\nFrozenRockTiles:\n\t.db BackgroundTile_WaterWhale\n\t.db BackgroundTile_FrozenRock\n\n\nCreateObject_FrozenRocks:\n\tLDA #$01\n\tSTA byte_RAM_8\n\nloc_BANK6_8F19:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDX byte_RAM_8\n\nloc_BANK6_8F29:\n\tLDA FrozenRockTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL loc_BANK6_8F29\n\n\tLDA byte_RAM_8\n\tBNE loc_BANK6_8F3A\n\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANK6_8F3A:\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$C0\n\tBCC loc_BANK6_8F45\n\n\tDEC byte_RAM_8\n\nloc_BANK6_8F45:\n\tSTA byte_RAM_E7\n\tJMP loc_BANK6_8F19\n\n;\n; Horizontal platform lookup tables for World 5.\n;\n; Unlike HorizontalPlatform(Left/Middle/Right)Tiles, these support overlap with\n; the red tree background.\n;\nHorizontalPlatformWithOverlapLeftTiles:\n\t.db BackgroundTile_LogLeft\n\t.db BackgroundTile_CloudLeft\n\t.db BackgroundTile_LogMiddle\nHorizontalPlatformWithOverlapMiddleTiles:\n\t.db BackgroundTile_LogMiddle\n\t.db BackgroundTile_CloudMiddle\nHorizontalPlatformWithOverlapRightTiles:\n\t.db BackgroundTile_LogRight\n\t.db BackgroundTile_CloudRight\n\t.db BackgroundTile_LogRightTree\n\n;\n; Creates a horizontal platform with special tiles for the endcaps.\n;\n; The endcaps use alternate tiles when they overlap a non-sky tile, which is how\n; the game achieves the effect of a tree with branches in World 5.\n;\n; Amusingly, since cloud platforms also use this subroutine, their endcaps will\n; turn into logs if they overlap another object.\n;\nCreateObject_HorizontalPlatform_World5:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tJSR CreateObject_HorizontalPlatform_World5CheckOverlap\n\n\tLDA HorizontalPlatformWithOverlapLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tLDX byte_RAM_7\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_HorizontalPlatform_World5_Exit\n\nCreateObject_HorizontalPlatform_World5_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA HorizontalPlatformWithOverlapMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_HorizontalPlatform_World5_Loop\n\nCreateObject_HorizontalPlatform_World5_Exit:\n\tJSR IncrementAreaXOffset\n\n\tJSR CreateObject_HorizontalPlatform_World5CheckOverlap\n\n\tLDA HorizontalPlatformWithOverlapRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Check if the next platform tile overlaps the background\n;\n; ##### Output\n; - `X`: table offset for (2 if there is an overlap)\n;\nCreateObject_HorizontalPlatform_World5CheckOverlap:\n\tSTX byte_RAM_7\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBEQ CreateObject_HorizontalPlatform_World5CheckOverlap_Exit\n\n\t; otherwise, the platform is overlapping the background, so we need a special tile\n\tLDX #$02\n\nCreateObject_HorizontalPlatform_World5CheckOverlap_Exit:\n\tRTS\n\n\n;\n; Lookup table for tree background tiles\n;\nTreeBackgroundTiles:\n\t.db BackgroundTile_TreeBackgroundRight\n\t.db BackgroundTile_TreeBackgroundMiddleLeft\n\t.db BackgroundTile_TreeBackgroundLeft\n\n\n;\n; Creates a tree background\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n; - `byte_RAM_E8`: area page\n;\nCreateObject_TreeBackground:\n\t; width of the middle of the tree (0 = two tiles, 4 = ten tiles)\n\tLDA #$04\n\tSTA byte_RAM_7\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDX #$02\n\n\t; Stop when it touches the ground\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_TreeBackground_Exit\n\nCreateObject_TreeBackground_Loop:\n\t; Draw the left side of the tree\n\tLDA TreeBackgroundTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\t; Draw the middle of the tree\n\tDEX\n\tCPX #$01\n\tBNE CreateObject_TreeBackground_Right\n\n\tJSR CreateObject_TreeBackground_MiddleLoop\n\nCreateObject_TreeBackground_Right:\n\t; Draw the right side of the tree\n\tDEX\n\tBPL CreateObject_TreeBackground_Loop\n\n\t; Try to draw the next row\n\tLDY byte_RAM_E7\n\tJSR IncrementAreaYOffset\n\n\tSTY byte_RAM_E7\n\tJMP CreateObject_TreeBackground\n\nCreateObject_TreeBackground_Exit:\n\tRTS\n\n\n;\n; Loops through and creates n+1 pairs of tiles for the middle of the tree.\n;\nCreateObject_TreeBackground_MiddleLoop:\n\tLDA #BackgroundTile_TreeBackgroundMiddleLeft\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tLDA #BackgroundTile_TreeBackgroundMiddleRight\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL CreateObject_TreeBackground_MiddleLoop\n\n\tRTS\n\n\n; Unreferenced?\nSomeUnusedTilesTop:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_CactusTop\n\t.db BackgroundTile_PalmTreeTop\nSomeUnusedTilesBottom:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_CactusMiddle\n\t.db BackgroundTile_PalmTreeTrunk\n\n\n;\n; This 3x9 tile entrance is used in 6-3\n;\nRockWallEntranceTiles:\n\t.db BackgroundTile_RockWallAngle\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWallEyeLeft\n\t.db BackgroundTile_RockWallEyeRight\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWallMouth\n\t.db BackgroundTile_RockWallMouth\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\n;\n; Creates the rock wall face entrance for 6-3.\n;\n; If you ask me, this is a lot of trouble for a one-off, especially since they\n; didn't correctly align the \"eyes\" and \"teeth\" tiles with the wall pattern!\n;\nCreateObject_RockWallEntrance:\n\tLDX #$00\n\nCreateObject_RockWallEntrance_Loop:\n\tLDY byte_RAM_E7\n\tLDA #$02\n\tSTA byte_RAM_9\n\nCreateObject_RockWallEntrance_InnerLoop:\n\tLDA RockWallEntranceTiles, X\n\tSTA (byte_RAM_1), Y\n\tINX\n\tINY\n\tDEC byte_RAM_9\n\tBPL CreateObject_RockWallEntrance_InnerLoop\n\n\tLDY byte_RAM_E7\n\tTYA\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tCPX #$1B\n\tBNE CreateObject_RockWallEntrance_Loop\n\n\tRTS\n\n\n;\n; Door tile lookup tables\n;\nDoorTopTiles:\n\t.db BackgroundTile_DoorTop\n\t.db BackgroundTile_DoorTop\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DoorwayTop\n\t.db BackgroundTile_WindowTop\n\nDoorBottomTiles:\n\t.db BackgroundTile_DoorBottomLock\n\t.db BackgroundTile_DoorBottom\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\n\n;\n; Creates a door object.\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n; - `byte_RAM_50E`: type of object to create\n;\nCreateObject_Door:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tCMP #$09\n\tBNE CreateObject_Door_Unlocked\n\n\t; If we've already used the key, create an unlocked door\n\tLDA KeyUsed\n\tBEQ CreateObject_Door_Unlocked\n\n\t; Use the door two slots after the locked door for the unlocked version\n\tINC byte_RAM_50E\n\tINC byte_RAM_50E\n\nCreateObject_Door_Unlocked:\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$09\n\tTAX\n\tLDA DoorTopTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaYOffset\n\n\tLDA DoorBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\nIFNDEF DISABLE_DOOR_POINTERS\n\t;\n\t; For Worlds 1-5, the object after a door is used as an area pointer.\n\t;\n\t; This seems to be primarily a way to save space, as this method costs 1 byte\n\t; less than using a normal area pointer object.\n\t;\n\t; **But wait! Why not also use this space-saving trick for Worlds 6 and 7?**\n\t;\n\t; Regular level objects use the first nybble of the first byte for the Y\n\t; offset relative to the previous object. As it turns out, door pointer are\n\t; still \"regular objects,\" at least insofar as their Y offset factors in when\n\t; rendering the level.\n\t;\n\t; For an area pointer, the first byte is the level offset. The first nybble of\n\t; that byte is $0 for levels 1-1 through 6-1, so there is no Y offset.\n\t; Door pointers starting in 6-2 would introduce a Y offset because that is\n\t; level offset is $10. Having everything after a door shift down by 1 row was\n\t; probably a nuisance when programming the levels.\n\t;\n\tLDA CurrentWorld\n\tCMP #$05\n\tBEQ CreateObject_Door_Exit\n\n\tLDA CurrentWorld\n\tCMP #$06\n\tBEQ CreateObject_Door_Exit\n\n\tJSR LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_Door_Exit:\n\tRTS\n\n\n;\n; Lookup table for World 7 mushroom house tiles.\n;\n; Interestingly, there are entries for black background tiles and jumpthrough\n; cloud platforms in this table as well, although they are never used. Perhaps\n; these houses would have included their own base at some point.\n;\nMushroomHouseLeftTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudLeft\n\t.db BackgroundTile_MushroomTopLeft\n\t.db BackgroundTile_HouseLeft\n\nMushroomHouseMiddleTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudMiddle\n\t.db BackgroundTile_MushroomTopMiddle\n\t.db BackgroundTile_HouseMiddle\n\nMushroomHouseRightTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudRight\n\t.db BackgroundTile_MushroomTopRight\n\t.db BackgroundTile_HouseRight\n\n\n;\n; Draws a row of the mushroom house\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n; - `byte_RAM_50D`: width of house\n; - `byte_RAM_50E`: offset in the tile lookup table plus $0A, for some reason\n;\nCreateObject_MushroomHouseRow:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tLDA MushroomHouseLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_MushroomHouseRow_Right\n\nCreateObject_MushroomHouseRow_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA MushroomHouseMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_MushroomHouseRow_Loop\n\nCreateObject_MushroomHouseRow_Right:\n\tJSR IncrementAreaXOffset\n\n\tLDA MushroomHouseRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Draws the jump-through mushroom house platforms used in World 7\n;\nCreateObject_MushroomJumpthroughPlatform:\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDA #$0C\n\tSTA byte_RAM_50E\n\t; Draw roof of mushroom house\n\tJSR CreateObject_MushroomHouseRow\n\nCreateObject_MushroomJumpthroughPlatform_Loop:\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tLDA #$0D\n\tSTA byte_RAM_50E\n\tLDA_abs byte_RAM_7\n\n\tSTA byte_RAM_50D\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_MushroomJumpthroughPlatform_Exit\n\n\t; Draw body of mushroom house\n\tJSR CreateObject_MushroomHouseRow\n\n\tLDA byte_RAM_E7\n\tCMP #$E0\n\tBCC CreateObject_MushroomJumpthroughPlatform_Loop\n\nCreateObject_MushroomJumpthroughPlatform_Exit:\n\tRTS\n\n\n;\n; Lookup table for pillar tiles, arranged by world\n;\nPillarTopTiles:\n\t.db BackgroundTile_LogPillarTop1\n\t.db BackgroundTile_CactusTop\n\t.db BackgroundTile_LogPillarTop1\n\t.db BackgroundTile_LogPillarTop0\n\t.db BackgroundTile_LogPillarTop1\n\t.db BackgroundTile_CactusTop\n\t.db BackgroundTile_ColumnPillarTop2\n\nPillarBottomTiles:\n\t.db BackgroundTile_LogPillarMiddle1\n\t.db BackgroundTile_CactusMiddle\n\t.db BackgroundTile_LogPillarMiddle1\n\t.db BackgroundTile_LogPillarMiddle0\n\t.db BackgroundTile_LogPillarMiddle1\n\t.db BackgroundTile_CactusMiddle\n\t.db BackgroundTile_ColumnPillarMiddle2\n\n\n;\n; Draws a pillar that extends to the ground\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_Pillar:\n\tLDX CurrentWorldTileset\n\tLDY byte_RAM_E7\n\tLDA PillarTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Pillar_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Pillar_Exit\n\n\tLDX CurrentWorldTileset\n\tLDA PillarBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\n\t;\n\t; Normally the pillars extend until they hit another tile, wrapping around to\n\t; the top of the next page, if necessary.\n\t;\n\t; This World 5 check prevents logs from coming down from the sky in the last\n\t; area before ClawGrip's boss room.\n\t;\n\tLDA CurrentWorldTileset\n\tCMP #$04\n\tBNE CreateObject_Pillar_Loop\n\n\t; Prevent the pillar from looping around to the next page\n\tCPY #$E0\n\tBCC CreateObject_Pillar_Loop\n\nCreateObject_Pillar_Exit:\n\tRTS\n\n\n;\n; Draws one horn of Wart's vegetable thrower\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_Horn:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_HornTopLeft\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_HornTopRight\n\tSTA (byte_RAM_1), Y\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tTAY\n\tLDA #BackgroundTile_HornBottomLeft\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_HornBottomRight\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n;\n; Draws the drawbridge chain\n;\n; ##### Input\n; - `byte_RAM_E7`: target tile placement offset\n;\nCreateObject_DrawBridgeChain:\n\tLDY byte_RAM_E7\n\nCreateObject_DrawBridgeChain_Loop:\n\tLDA #BackgroundTile_DrawBridgeChain\n\tSTA (byte_RAM_1), Y\n\tTYA\n\tCLC\n\tADC #$F\n\tTAY\n\tDEC byte_RAM_50D\n\tBNE CreateObject_DrawBridgeChain_Loop\n\n\tRTS\n\n\nIFNDEF EXPAND_TABLES\n; Unused space in the original ($9126 - $91FF)\nunusedSpace $9200, $FF\nENDIF\n\n;\n; ## Ground setting data\n;\n; The ground setting defines a single column (or row, for vertical areas) where each row (or column)\n; can be one of four tiles. These tiles are repeated until an object changes  the ground setting or\n; the renderer reaches the the end of the area.\n;\n; An area has its initial ground setting set in the header, but it can be changed mid-area using the\n; `$F0` and `$F1` special objects.\n;\n\n;\n; #### Horizontal ground set data\n;\n; Two bits per tile are used to select from one of the four ground appearance tiles. The tiles are\n; defined from top-to-bottom, except for the last tile, which is actually the top row!\n;\n; Ground appearance tiles are defined xpecifically in the `WorldXGroundTilesHorizontal` lookup\n; tables, but here's an example of how they apply:\n;\n; - `%00`: default background (ie. sky)\n; - `%01`: secondary platform (eg. sand)\n; - `%10`: primary platform (eg. grass)\n; - `%11`: secondary background (eg. black background in 3-2)\n;\nHorizontalGroundSetData:\n\t.db $00,$00,$00,$24 ; $00\n\t.db $00,$00,$02,$54 ; $01\n\t.db $00,$02,$55,$54 ; $02\n\t.db $00,$02,$7F,$54 ; $03\n\t.db $00,$02,$7F,$D4 ; $04\n\t.db $00,$03,$FF,$54 ; $05\n\t.db $00,$02,$5F,$FC ; $06\n\t.db $00,$03,$FF,$FC ; $07\n\t.db $00,$00,$00,$00 ; $08\n\t.db $55,$55,$55,$7C ; $09\n\t.db $E7,$9E,$79,$E4 ; $0A\n\t.db $00,$0E,$79,$E4 ; $0B\n\t.db $00,$00,$09,$E4 ; $0C\n\t.db $00,$00,$00,$24 ; $0D\n\t.db $E0,$0E,$79,$E4 ; $0E\n\t.db $E4,$00,$09,$E4 ; $0F\n\t.db $E4,$00,$00,$24 ; $10\n\t.db $E7,$90,$09,$E4 ; $11\n\t.db $E7,$9E,$70,$24 ; $12\n\t.db $E7,$9E,$40,$24 ; $13\n\t.db $E7,$9C,$00,$24 ; $14\n\t.db $E0,$0E,$40,$24 ; $15\n\t.db $00,$00,$00,$E4 ; $16\n\t.db $E4,$00,$00,$00 ; $17\n\t.db $E7,$9E,$79,$E4 ; $18\n\t.db $E7,$90,$01,$E4 ; $19\n\t.db $E0,$00,$01,$E4 ; $1A\n\t.db $E7,$90,$00,$24 ; $1B\n\t.db $E0,$00,$00,$24 ; $1C\n\t.db $00,$00,$00,$24 ; $1D\n\t.db $00,$00,$00,$24 ; $1E\n\t; Based on the level header parsing code, $1F seems like it may have been reserved for some\n\t; special behavior at some point, but it doesn't appear to be implemented.\nIFDEF EXPAND_TABLES\n\t.db $00,$00,$00,$24 ; $1F\nENDIF\n\n;\n; #### Vertical ground set data\n;\n; Two bits per tile are used to select from one of the four ground appearance tiles. The tiles are\n; defined from left-to-right.\n;\n; Ground appearance tiles are defined xpecifically in the `WorldXGroundTilesVertical` lookup\n; tables, but here's an example of how they apply:\n;\n; - `%00`: default background (ie. sky)\n; - `%01`: secondary platform (eg. bombable wall, sand)\n; - `%10`: primary platform\n; - `%11`: secondary background\n;\nVerticalGroundSetData:\n\t.db $AA,$AA,$AA,$AA ; $00\n\t.db $80,$00,$00,$02 ; $01\n\t.db $AA,$00,$00,$AA ; $02\n\t.db $FA,$00,$00,$AF ; $03\n\t.db $FE,$00,$00,$BF ; $04\n\t.db $FA,$80,$02,$AF ; $05\n\t.db $E8,$00,$00,$2B ; $06\n\t.db $E0,$00,$00,$0B ; $07\n\t.db $FA,$95,$56,$AF ; $08\n\t.db $95,$00,$00,$56 ; $09\n\t.db $A5,$55,$55,$5A ; $0A\n\t.db $A5,$5A,$A5,$5A ; $0B\n\t.db $55,$55,$55,$55 ; $0C\n\t.db $95,$55,$55,$56 ; $0D\n\t.db $95,$5A,$A5,$56 ; $0E\n\t.db $A9,$55,$55,$6A ; $0F\n\t.db $81,$55,$55,$42 ; $10\n\t.db $AA,$A5,$55,$5A ; $11\n\t.db $A5,$55,$5A,$AA ; $12\n\t.db $00,$00,$00,$00 ; $13\n\t.db $80,$00,$00,$02 ; $14\n\t.db $A0,$00,$00,$0A ; $15\n\t.db $AA,$00,$00,$AA ; $16\n\t.db $AA,$A0,$0A,$AA ; $17\n\t.db $80,$00,$0A,$AA ; $18\n\t.db $80,$0A,$AA,$AA ; $19\n\t.db $AA,$AA,$A0,$02 ; $1A\n\t.db $AA,$A0,$00,$02 ; $1B\n\t.db $A0,$0A,$A0,$0A ; $1C\n\t.db $A0,$00,$00,$00 ; $1D\n\t.db $00,$00,$00,$0A ; $1E\n\t; Based on the level header parsing code, $1F seems like it may have been reserved for some\n\t; special behavior at some point, but it doesn't appear to be implemented.\nIFDEF EXPAND_TABLES\n\t.db $00,$00,$00,$0A ; $1F\nENDIF\n\n\n;\n; Lookup tables for decoded level data by page\n;\nDecodedLevelPageStartLo_Bank6:\n\t.db <DecodedLevelData\n\t.db <(DecodedLevelData+$00F0)\n\t.db <(DecodedLevelData+$01E0)\n\t.db <(DecodedLevelData+$02D0)\n\t.db <(DecodedLevelData+$03C0)\n\t.db <(DecodedLevelData+$04B0)\n\t.db <(DecodedLevelData+$05A0)\n\t.db <(DecodedLevelData+$0690)\n\t.db <(DecodedLevelData+$0780)\n\t.db <(DecodedLevelData+$0870)\n\t.db <(SubAreaTileLayout)\n\nDecodedLevelPageStartHi_Bank6:\n\t.db >DecodedLevelData\n\t.db >(DecodedLevelData+$00F0)\n\t.db >(DecodedLevelData+$01E0)\n\t.db >(DecodedLevelData+$02D0)\n\t.db >(DecodedLevelData+$03C0)\n\t.db >(DecodedLevelData+$04B0)\n\t.db >(DecodedLevelData+$05A0)\n\t.db >(DecodedLevelData+$0690)\n\t.db >(DecodedLevelData+$0780)\n\t.db >(DecodedLevelData+$0870)\n\t.db >(SubAreaTileLayout)\n\n\n;\n; Subspace tile remapping\n; =======================\n;\n; The horizontal order of tiles is reversed in subspace. Tiles with an obvious\n; left/right direction (eg. the corners of green platforms) appear backwards\n; until they're swapped with the corresponding right/left version.\n;\n; This is handled in two tables corresponding tables. If a tile is found in the\n; first table, it will be replaced with the tile at the corresponding offset in\n; the second table.\n;\nSubspaceTilesSearch:\n\t.db $75 ; $00\n\t.db $77 ; $01\n\t.db $CA ; $02\n\t.db $CE ; $03\n\t.db $C7 ; $04\nIFNDEF FIX_SUBSPACE_TILES\n\t.db $C8 ; $05 ; BUG: This should be $C9\nENDIF\nIFDEF FIX_SUBSPACE_TILES\n\t.db $C9 ; $05\nENDIF\n\t.db $D0 ; $06\n\t.db $D1 ; $07\n\t.db $01 ; $08\n\t.db $02 ; $09\n\t.db $84 ; $0A\n\t.db $87 ; $0B\n\t.db $60 ; $0C\n\t.db $62 ; $0D\n\t.db $13 ; $0E\n\t.db $15 ; $0F\n\t.db $53 ; $10\n\t.db $55 ; $11\n\t.db $CB ; $12\n\t.db $CF ; $13\n\t.db $09 ; $14\n\t.db $0D ; $15\n\nSubspaceTilesReplace:\n\t.db $77 ; $00\n\t.db $75 ; $01\n\t.db $CE ; $02\n\t.db $CA ; $03\nIFNDEF FIX_SUBSPACE_TILES\n\t.db $C8 ; $04 ; BUG: This should be $C9\nENDIF\nIFDEF FIX_SUBSPACE_TILES\n\t.db $C9 ; $04\nENDIF\n\t.db $C7 ; $05\n\t.db $D1 ; $06\n\t.db $D0 ; $07\n\t.db $02 ; $08\n\t.db $01 ; $09\n\t.db $87 ; $0A\n\t.db $84 ; $0B\n\t.db $62 ; $0C\n\t.db $60 ; $0D\n\t.db $15 ; $0E\n\t.db $13 ; $0F\n\t.db $55 ; $10\n\t.db $53 ; $11\n\t.db $CF ; $12\n\t.db $CB ; $13\n\t.db $0D ; $14\n\t.db $09 ; $15\n\n\n;\n; Resets level data and PPU scrolling.\n;\n; This starts at the end of the last page and works backwards to create a blank slate upon which to\n; render the current area's level data.\n;\nResetLevelData:\n\tLDA #<DecodedLevelData\n\tSTA byte_RAM_A\n\tLDY #>(DecodedLevelData+$0900)\n\tSTY byte_RAM_B\n\tLDY #>(DecodedLevelData-$0100)\n\n\t; Set all tiles to sky\n\tLDA #BackgroundTile_Sky\n\nResetLevelData_Loop:\n\tSTA (byte_RAM_A), Y\n\tDEY\n\tCPY #$FF\n\tBNE ResetLevelData_Loop\n\n\tDEC byte_RAM_B\n\tLDX byte_RAM_B\n\tCPX #>DecodedLevelData\n\tBCS ResetLevelData_Loop\n\n\tLDA #$00\n\tSTA PPUScrollXMirror\n\tSTA PPUScrollYMirror\n\tSTA CurrentLevelPageX\n\tSTA byte_RAM_D5\n\tSTA byte_RAM_E6\n\tSTA ScreenYHi\n\tSTA ScreenYLo\n\tSTA ScreenBoundaryLeftHi\n\tSTA ScreenBoundaryLeftLo\n\tSTA_abs NeedVerticalScroll\n\tRTS\n\n\n;\n; Reads a color from the world's background palette\n;\n; ##### Input\n; - `X`: color index\n;\n; ##### Output\n; - `A`: background palette color\n;\nReadWorldBackgroundColor:\n\t; stash X and Y registers\n\tSTY byte_RAM_E\n\tSTX byte_RAM_D\n\t; look up the address of the current world's palette\n\tLDY CurrentWorldTileset\n\tLDA WorldBackgroundPalettePointersLo, Y\n\tSTA byte_RAM_7\n\tLDA WorldBackgroundPalettePointersHi, Y\n\tSTA byte_RAM_8\n\t; load the color\n\tLDY byte_RAM_D\n\tLDA (byte_RAM_7), Y\n\t; restore prior X and Y registers\n\tLDY byte_RAM_E\n\tLDX byte_RAM_D\n\tRTS\n\n;\n; Reads a color from the world's sprite palette\n;\n; ##### Input\n; - `X`: color index\n;\n; ##### Output\n; - `A`: background palette color\n;\nReadWorldSpriteColor:\n\t; stash X and Y registers\n\tSTY byte_RAM_E\n\tSTX byte_RAM_D\n\t; look up the address of the current world's palette\n\tLDY CurrentWorldTileset\n\tLDA WorldSpritePalettePointersLo, Y\n\tSTA byte_RAM_7\n\tLDA WorldSpritePalettePointersHi, Y\n\tSTA byte_RAM_8\n\t; load the color\n\tLDY byte_RAM_D\n\tLDA (byte_RAM_7), Y\n\t; restore prior X and Y registers\n\tLDY byte_RAM_E\n\tLDX byte_RAM_D\n\tRTS\n\n;\n; Loads the current area or jar palette\n;\nLoadCurrentPalette:\n\tLDA InSubspaceOrJar\n\tCMP #$01\n\tBNE LoadCurrentPalette_NotJar\n\n\t; This function call will overwrite the\n\t; normal level loading area with $7A00\n\tJSR HijackLevelDataCopyAddressWithJar\n\n\tJMP LoadCurrentPalette_AreaOffset\n\n; ---------------------------------------------------------------------------\n\nLoadCurrentPalette_NotJar:\n\tJSR RestoreLevelDataCopyAddress\n\n; Read the palette offset from the area header\nLoadCurrentPalette_AreaOffset:\n\tLDY #$00\n\tLDA (byte_RAM_5), Y\n\n; End of function LoadCurrentPalette\n\n;\n; Loads a world palette to RAM\n;\n; ##### Input\n; - `A`: background palette header byte\n;\nApplyPalette:\n\t; Read background palette index from area header byte\n\tSTA byte_RAM_F\n\tAND #%00111000\n\tASL A\n\tTAX\n\tJSR ReadWorldBackgroundColor\n\n\t; Something PPU-related. If it's not right, the colors are very wrong.\n\tSTA SkyColor\n\tLDA #$3F\n\tSTA PPUBuffer_301\n\tLDA #$00\n\tSTA PPUBuffer_301 + 1\n\tLDA #$20\n\tSTA PPUBuffer_301 + 2\n\n\tLDY #$00\nApplyPalette_BackgroundLoop:\n\tJSR ReadWorldBackgroundColor\n\tSTA PPUBuffer_301 + 3, Y\n\tINX\n\tINY\n\tCPY #$10\n\tBCC ApplyPalette_BackgroundLoop\n\n\t; Read sprite palette index from area header byte\n\tLDA byte_RAM_F\n\tAND #$03\n\tASL A\n\tSTA byte_RAM_F\n\tASL A\n\tADC byte_RAM_F\n\tASL A\n\tTAX\n\n\tLDY #$00\nApplyPalette_SpriteLoop:\n\tJSR ReadWorldSpriteColor\n\tSTA unk_RAM_318, Y\n\tINX\n\tINY\n\tCPY #$0C\n\tBCC ApplyPalette_SpriteLoop\n\n\tLDA #$00\n\tSTA unk_RAM_318, Y\n\tLDY #$03\n\nApplyPalette_PlayerLoop:\n\tLDA RestorePlayerPalette0, Y\n\tSTA unk_RAM_314, Y\n\tDEY\n\tBPL ApplyPalette_PlayerLoop\n\n\tLDX #$03\n\tLDY #$10\nApplyPalette_SkyLoop:\n\tLDA SkyColor\n\tSTA PPUBuffer_301 + 3, Y\n\tINY\n\tINY\n\tINY\n\tINY\n\tDEX\n\tBPL ApplyPalette_SkyLoop\n\n\tRTS\n\n\nGenerateSubspaceArea:\n\tLDA CurrentLevelArea\n\tSTA CurrentLevelAreaCopy\n\tLDA #$30 ; subspace palette (works like area header byte)\n\tSTA byte_RAM_F ; why...?\n\tJSR ApplyPalette\n\n\tLDA ScreenBoundaryLeftHi\n\tSTA byte_RAM_E8\n\n\tLDA ScreenBoundaryLeftLo\n\tCLC\n\tADC #$08\n\tBCC loc_BANK6_9439\n\n\tINC byte_RAM_E8\n\nloc_BANK6_9439:\n\tAND #$F0\n\tPHA\n\tSEC\n\n\tSBC ScreenBoundaryLeftLo\n\tSTA byte_RAM_BA\n\tPLA\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA byte_RAM_E5\n\tLDA #$00\n\tSTA byte_RAM_E6\n\tLDA byte_RAM_E8\n\tSTA byte_RAM_D\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDX #$0F\n\nGenerateSubspaceArea_TileRemapLoop:\n\tLDA (byte_RAM_1), Y\n\tJSR DoSubspaceTileRemap\n\n\tSTA SubAreaTileLayout, X\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tTXA\n\tCLC\n\tADC #$10\n\tTAX\n\tAND #$F0\n\tBNE GenerateSubspaceArea_TileRemapLoop\n\n\tTYA\n\tAND #$0F\n\tTAY\n\tJSR IncrementAreaXOffset\n\n\tDEX\n\tBPL GenerateSubspaceArea_TileRemapLoop\n\n\tRTS\n\n\n;\n; Remaps a single subspace tile.\n;\n; This also handles creating the mushroom sprites.\n;\n; ##### Input\n; - `A`: input tile\n;\n; ##### Output\n; - `A`: output tile\n;\nDoSubspaceTileRemap:\n\tSTY byte_RAM_8\n\tSTX byte_RAM_7\n\tLDX #(SubspaceTilesReplace - SubspaceTilesSearch - 1)\n\nDoSubspaceTileRemap_Loop:\n\tCMP SubspaceTilesSearch, X\n\tBEQ DoSubspaceTileRemap_ReplaceTile\n\n\tDEX\n\tBPL DoSubspaceTileRemap_Loop\n\n\tCMP #BackgroundTile_SubspaceMushroom1\n\tBEQ DoSubspaceTileRemap_CheckCreateMushroom\n\n\tCMP #BackgroundTile_SubspaceMushroom2\n\tBEQ DoSubspaceTileRemap_CheckCreateMushroom\n\n\tJMP DoSubspaceTileRemap_Exit\n\nDoSubspaceTileRemap_CheckCreateMushroom:\n\tSEC\n\tSBC #BackgroundTile_SubspaceMushroom1\n\tTAY\n\tLDA Mushroom1Pulled, Y\n\tBNE DoSubspaceTileRemap_AfterCreateMushroom\n\n\tLDX byte_RAM_7\n\tJSR CreateSubspaceMushroomObject\n\nDoSubspaceTileRemap_AfterCreateMushroom:\n\tLDA #BackgroundTile_SubspaceMushroom1\n\tJMP DoSubspaceTileRemap_Exit\n\nDoSubspaceTileRemap_ReplaceTile:\n\tLDA SubspaceTilesReplace, X\n\nDoSubspaceTileRemap_Exit:\n\tLDX byte_RAM_7\n\tLDY byte_RAM_8\n\tRTS\n\n\n;\n; Clears the sub-area tile layout when the player goes into a jar\n;\nClearSubAreaTileLayout:\n\tLDX #$00\n\tSTX IsHorizontalLevel\n\nClearSubAreaTileLayout_Loop:\n\tLDA #BackgroundTile_Sky\n\tSTA SubAreaTileLayout, X\n\tINX\n\tBNE ClearSubAreaTileLayout_Loop\n\n\tLDA CurrentLevelArea\n\tSTA CurrentLevelAreaCopy\n\tLDA #$04 ; jar is always area 4\n\tSTA CurrentLevelArea\n\tLDA #$0A\n\tJSR HijackLevelDataCopyAddressWithJar\n\n\tLDY #$00\n\tLDA #$0A\n\tSTA byte_RAM_E8\n\tSTA byte_RAM_540\n\tSTY byte_RAM_E6\n\tSTY byte_RAM_E5\n\tSTY GroundType\n\tLDY #$03\n\tSTY GroundSetting\n\tLDY #$04\n\tJSR ReadLevelBackgroundData_Page\n\n\t; object type\n\tLDY #$02\n\tLDA (byte_RAM_5), Y\n\tAND #%00000011\n\tSTA ObjectType3Xthru9X\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tAND #%00000011\n\tSTA ObjectTypeAXthruFX\n\tJSR HijackLevelDataCopyAddressWithJar\n\n\tLDA #$0A\n\tSTA byte_RAM_E8\n\tLDA #$00\n\tSTA byte_RAM_E6\n\tSTA byte_RAM_E5\n\tLDA #$03\n\tSTA byte_RAM_4\n\tJSR ReadLevelForegroundData_NextByteObject\n\n\tLDA #$01\n\tSTA IsHorizontalLevel\n\tRTS\n\n;\n; Set the current background music to the current area's music as defined in the header.\n;\n; This stops the current music unless the player is currently invincible.\n;\nLoadAreaMusic:\n\tLDY #$03\n\tLDA (byte_RAM_5), Y\n\tAND #%00000011\n\tSTA CompareMusicIndex\n\tCMP CurrentMusicIndex\n\tBEQ LoadAreaMusic_Exit\n\n\tLDA StarInvincibilityTimer\n\tCMP #$08\n\tBCS LoadAreaMusic_Exit\n\n\tLDA #Music2_StopMusic\n\tSTA MusicQueue2\n\nLoadAreaMusic_Exit:\n\tRTS\n\n\n;\n; Unreferenced? A similar routine exists in Bank F, so it seems like this may\n; be leftover code from a previous version.\n;\nUnused_LevelMusicIndexes:\n\t.db Music1_Overworld\n\t.db Music1_Inside\n\t.db Music1_Boss\n\t.db Music1_Wart\n\t.db Music1_Subspace\n\nUnused_ChangeAreaMusic:\n\tLDA CompareMusicIndex\n\tCMP CurrentMusicIndex\n\tBEQ Unused_ChangeAreaMusic_Exit\n\n\tTAX\n\tSTX CurrentMusicIndex\n\tLDA StarInvincibilityTimer\n\tCMP #$08\n\tBCS LoadAreaMusic_Exit\n\n\tLDA Unused_LevelMusicIndexes, X\n\tSTA MusicQueue1\n\nUnused_ChangeAreaMusic_Exit:\n\tRTS\n\n; Unreferenced?\n\tLDA CurrentLevelPage\n\tASL A\n\tTAY\n\tLDA AreaPointersByPage, Y\n\tSTA CurrentLevel\n\tINY\n\tLDA AreaPointersByPage, Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA CurrentLevelArea\n\tLDA AreaPointersByPage, Y\n\tAND #$0F\n\tSTA CurrentLevelEntryPage\n\tRTS\n\n\n;\n; ## Area loading and rendering\n;\n; This is the main subroutine for parsing and rendering an entire area of a level.\n;\nLoadCurrentArea:\n\t; First, reset the level data and PPU scrolling.\n\tJSR ResetLevelData\n\n\tJSR ResetPPUScrollHi_Bank6\n\n\t; Determine the address of the raw level data.\n\tJSR RestoreLevelDataCopyAddress\n\n\t;\n\t; ### Read area header\n\t;\n\t; The level header is read backwards starting at the last byte.\n\t;\n\n\t; Queue any changes to the background music.\n\tJSR LoadAreaMusic\n\n\t;\n\t; Load initial ground appearance, which determines the tiles used for the background.\n\t;\n\tLDY #$03\n\tLDA (byte_RAM_5), Y\nIFNDEF LEVEL_ENGINE_UPGRADES\n\tLSR A\n\tAND #%00011100\nELSE\n\t; double available ground types\n\tAND #%11110000\n\tLSR A\n\tLSR A\nENDIF\n\n\tSTA GroundType\n\n\t; This doesn't hurt, but shouldn't be necessary.\n\tJSR RestoreLevelDataCopyAddress\n\nIFDEF ENABLE_LEVEL_OBJECT_MODE\n\t; Read level object mode.\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tAND #%00000011\n\tSTA LevelObjectMode\nENDIF\n\n\t; Determine whether this area is Horizontal or vertical.\n\tLDY #$00\n\tLDA (byte_RAM_5), Y\n\tASL A\n\tLDA #$00\n\tROL A\n\tSTA IsHorizontalLevel\n\n\t; Reset the area page so that we can start drawing from the beginning.\n\tLDA #$00\n\tSTA byte_RAM_E8\n\n\t; Determine the level length (in pages).\n\tLDY #$02\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA CurrentLevelPages\n\n\t; Determine the object types, which are used to determine which horizontal and vertical blocks are\n\t; used, as well as how some climbable objects appear.\n\tLDA (byte_RAM_5), Y\n\tAND #%00000011\n\tSTA ObjectType3Xthru9X\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tAND #%00000011\n\tSTA ObjectTypeAXthruFX\n\tDEY\n\nIFDEF AREA_HEADER_TILESET\n\t; World tileset to use for the area.\n\tLDA (byte_RAM_5), Y\n\tROL A\n\tROL A\n\tROL A\n\tROL A\n\tAND #%00000111\n\tCMP #$07 ; only $00-06 are valid, force $07 to CurrentWorld\n\tBCC LoadCurrentArea_IsValid\n\tLDA CurrentWorld\nLoadCurrentArea_IsValid:\n\tSTA CurrentWorldTileset\nENDIF\n\n\t; Load initial ground setting, which determines the shape of the ground layout.\n\t;\n\t; Using `$1F` skips rendering ground settings entirely, but no areas seem to use it.\n\tLDA (byte_RAM_5), Y\n\tAND #%00011111\n\tCMP #%00011111\n\tBEQ LoadCurrentArea_ForegroundData\n\n\tSTA GroundSetting\n\n\t;\n\t; ### Process level data\n\t;\n\t; The area is rendered in two passes (with the exception described above).\n\t;\n\n\t;\n\t; #### First pass: background terrain\n\t;\n\t; The first pass applies the ground settings and appearance to the entire area. This makes sure\n\t; that the ground is already in place when rendering objects that extend to the ground, such as\n\t; trees, vines, and platforms.\n\t;\n\n\t; Advance to the first object in the level data.\n\tINY\n\tINY\n\tINY\n\n\t; Reset the tile placement offset for the first pass.\n\tLDA #$00\n\tSTA byte_RAM_E5\n\tSTA byte_RAM_E6\n\n\t; Run the first pass of level rendering to apply ground settings and appearance.\n\tJSR ReadLevelBackgroundData\n\n\t;\n\t; #### Second pass: foreground objects\n\t;\n\t; The second pass renders normal level objects and sets up area pointers.\n\t;\nLoadCurrentArea_ForegroundData:\n\t; Reset the tile placement offset for the second pass.\n\tLDA #$00\n\tSTA byte_RAM_E6\n\n\t; Advance to the first object in the level data.\n\tLDA #$03\n\tSTA byte_RAM_4\n\n\t; Run the second pass of level rendering to place regular objects in the level.\n\tJSR ReadLevelForegroundData\n\n\t; Bootstrap the pseudo-random number generator.\n\tLDA #$22\n\tORA byte_RAM_10\n\tSTA PseudoRNGValues\n\tRTS\n\n\n;\n; Sets the raw level data pointer to the level data.\n;\nRestoreLevelDataCopyAddress:\n\tLDA #>RawLevelData\n\tSTA byte_RAM_6\n\tLDA #<RawLevelData\n\tSTA byte_RAM_5\n\tRTS\n\n\n;\n; Sets the raw level data pointer to the jar data.\n;\n; This is what allows jars to load so quickly.\n;\nHijackLevelDataCopyAddressWithJar:\n\tLDA #>RawJarData\n\tSTA byte_RAM_6\n\tLDA #<RawJarData\n\tSTA byte_RAM_5\n\tRTS\n\n\n;\n; ### Render foreground level data\n;\n; Reads level data from the beginning and processes individual objects.\n;\n; ##### Input\n; - `byte_RAM_4`: raw data offset\n;\nReadLevelForegroundData:\n\t; start at area page 0\n\tLDA #$00\n\tSTA byte_RAM_E8\n\n\t; weird? the next lines do nothing\n\tLDY #$00\n\tJMP ReadLevelForegroundData_NextByteObject\n\nReadLevelForegroundData_NextByteObject:\n\tLDY byte_RAM_4\n\nReadLevelForegroundData_NextByte:\n\tINY\n\tLDA (byte_RAM_5), Y\n\tCMP #$FF\n\tBNE ReadLevelForegroundData_ProcessObject\n\t; Encountering `$FF` indicates the end of the level data.\n\tRTS\n\nReadLevelForegroundData_ProcessObject:\n\t; Stash the lower nybble of the first byte.\n\t; For a special object, this will be the special object type.\n\t; For a regular object, this will be the X position.\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_E5\n\t; If the upper nybble of the first byte is $F, this is a special object.\n\tLDA (byte_RAM_5), Y\n\tAND #$F0\n\tCMP #$F0\n\tBNE ReadLevelForegroundData_RegularObject\n\nReadLevelForegroundData_SpecialObject:\n\tLDA byte_RAM_E5\n\tSTY byte_RAM_F\n\tJSR ProcessSpecialObjectForeground\n\n\tLDY byte_RAM_F\n\tJMP ReadLevelForegroundData_NextByte\n\nReadLevelForegroundData_RegularObject:\n\tJSR UpdateAreaYOffset\n\n\t; check object type\n\tINY\n\t; upper nybble\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA byte_RAM_50E\n\tCMP #$03\n\tBCS ReadLevelForegroundData_RegularObjectWithSize\n\nReadLevelForegroundData_RegularObjectNoSize:\n\tPHA\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_50E\n\tPLA\n\tBEQ ReadLevelForegroundData_RegularObjectNoSize_00\n\n\tPHA\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTY byte_RAM_4\n\tPLA\n\tCMP #$01\n\tBNE ReadLevelForegroundData_RegularObjectNoSize_Not10\n\nReadLevelForegroundData_RegularObjectNoSize_10:\n\tJSR CreateObjects_10\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectNoSize_Not10:\n\tCMP #$02\n\tBNE ReadLevelForegroundData_RegularObjectNoSize_Not20\n\nReadLevelForegroundData_RegularObjectNoSize_20:\n\tJSR CreateObjects_20\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectNoSize_Not20:\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectWithSize:\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_50D\n\tSTY byte_RAM_4\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$03\n\tSTA byte_RAM_50E\n\tJSR CreateObjects_30thruF0\n\nReadLevelForegroundData_RegularObject_Exit:\n\tJMP ReadLevelForegroundData_NextByteObject\n\nReadLevelForegroundData_RegularObjectNoSize_00:\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTY byte_RAM_4\n\tJSR CreateObjects_00\n\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\n\n;\n; Updates the area Y offset for object placement\n;\n; ##### Input\n; - `A`: vertical offset\n;\nUpdateAreaYOffset:\n\tCLC\n\tADC byte_RAM_E6\n\tBCC UpdateAreaYOffset_SamePage\n\n\tADC #$0F\n\tJMP UpdateAreaYOffset_NextPage\n\nUpdateAreaYOffset_SamePage:\n\tCMP #$F0\n\tBNE UpdateAreaYOffset_Exit\n\n\tLDA #$00\n\nUpdateAreaYOffset_NextPage:\n\tINC byte_RAM_E8\n\nUpdateAreaYOffset_Exit:\n\tSTA byte_RAM_E6\n\tRTS\n\n\n;\n; Processes special objects for the second pass, which draws object tiles.\n;\n; On this pass, ground setting tiles are ignored, and we're just eating the bytes, but page skip\n; objects still require updating the tile placement cursor.\n;\n; Area pointers are also processed in this pass. Although they _could_ be processed earlier, this\n; reduces the likelihood of being overridden by a door pointer.\n;\nProcessSpecialObjectForeground:\n\tJSR JumpToTableAfterJump\n\n\t.dw EatLevelObject1Byte ; Ground setting 0-8\n\t.dw EatLevelObject1Byte ; Ground setting 9-15\n\t.dw SkipForwardPage1Foreground ; Skip forward 1 page\n\t.dw SkipForwardPage2Foreground ; Skip forward 2 pages\n\t.dw ResetPageAndOffsetForeground ; New object layer\n\t.dw SetAreaPointer ; Area pointer\n\t.dw EatLevelObject1Byte ; Ground appearance\nIFDEF LEVEL_ENGINE_UPGRADES\n\t.dw CreateRawTiles\nENDIF\n\n\n;\n; Processes special objects for the first pass, which draws ground layout tiles.\n;\nProcessSpecialObjectBackground:\n\tJSR JumpToTableAfterJump\n\n\t.dw SetGroundSettingA ; Ground setting 0-7\n\t.dw SetGroundSettingB ; Ground setting 8-15\n\t.dw SkipForwardPage1Background ; Skip forward 1 page\n\t.dw SkipForwardPage2Background ; Skip forward 2 pages\n\t.dw ResetPageAndOffsetBackground ; New object layer\n\t.dw SetAreaPointerNoOp ; Area pointer\n\t.dw SetGroundType ; Ground appearance\nIFDEF LEVEL_ENGINE_UPGRADES\n\t.dw CreateRawTilesNoOp\nENDIF\n\n\n;\n; #### Special Object `$F2` / `$F3`: Skip Page (Foreground)\n;\n; Moves the tile placement cursor forward one or two pages in the foregorund pass.\n;\n; ##### Output\n;\n; - `byte_RAM_E8`: area page\n; - `byte_RAM_E6`: tile placement offset\n;\n;\n\nSkipForwardPage2Foreground:\n\tINC byte_RAM_E8\n\nSkipForwardPage1Foreground:\n\tINC byte_RAM_E8\n\tLDA #$00\n\tSTA byte_RAM_E6\n\tRTS\n\n\n;\n; #### Special Object `$F2` / `$F3`: Skip Page (Background)\n;\n; Moves the tile placement cursor forward one or two pages in the background pass.\n;\n; ##### Output\n;\n; - `byte_RAM_540`: area page\n; - `byte_RAM_E`: tile placement offset\n; - `byte_RAM_9`: tile placement offset (overflow counter)\n;\n\nSkipForwardPage2Background:\n\tINC byte_RAM_540\n\nSkipForwardPage1Background:\n\tINC byte_RAM_540\n\tLDA #$00\n\tSTA byte_RAM_E\n\tSTA byte_RAM_9\n\tRTS\n\n;\n; Advances two bytes in the level data.\n;\n; Unreferenced?\n;\nEatLevelObject2Bytes:\n\tINC byte_RAM_F\n\n;\n; Advances one byte in the level data.\n;\nEatLevelObject1Byte:\n\tINC byte_RAM_F\n\tRTS\n\n\n;\n; #### Area Pointer Object `$F5`\n;\n; Sets the area pointer for this page.\n;\n; ##### Input\n; - `byte_RAM_F`: level data byte offset\n; - `byte_RAM_E8`: area page\n;\n; ##### Output\n; - `byte_RAM_F`: level data byte offset\n;\nSetAreaPointer:\n\tLDY byte_RAM_F\n\tINY\n\tLDA byte_RAM_E8\n\tASL A\n\tTAX\n\tLDA (byte_RAM_5), Y\n\tSTA AreaPointersByPage, X\n\tINY\n\tINX\n\tLDA (byte_RAM_5), Y\n\tSTA AreaPointersByPage, X\n\tSTY byte_RAM_F\n\tRTS\n\n\nIFDEF LEVEL_ENGINE_UPGRADES\n;\n; #### Special Object `$F7`\n;\n; Creates a run of 1-16 arbitrary tiles.\n;\n; #### Usage: `$F7 $YX $WL ...`\n; - `Y`: relative Y offset on page\n; - `X`: X position on page\n; - `W`: wrap width (eg. 0 for no wrap, 2 for 2-tiles wide, etc.)\n; - `L`: run length, L+1 subsequent bytes are the raw tiles\n;\nCreateRawTiles:\n\tLDY byte_RAM_F\n\n\t; setting the page address allows this to be the first object of an area\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tINY\n\t; read tile placement offset\n\tLDA (byte_RAM_5), Y\n\tCLC\n\tADC byte_RAM_E6 ; add current offset\n\tSTA byte_RAM_E7 ; target tile placement offset\n\n\t; apply page Y offset\n\tLDA (byte_RAM_5), Y\n\tAND #$F0\n\tJSR UpdateAreaYOffset\n\n\tINY\n\t; read run length\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_50D\n\n\t; read wrap length\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA byte_RAM_50E\n\n\t; start counting from 0\n\tLDX #$00\n\n\t; everything afterwards is raw data\nCreateRawTiles_Loop:\n\t; increment and stash Y\n\tINY\n\tTYA\n\tPHA\n\n\t; write the next tile\n\tLDA (byte_RAM_5), Y\n\tLDY byte_RAM_E7\n\tSTA (byte_RAM_1), Y\n\n\t; increment x-position (crossing page as necessary)\n\tJSR IncrementAreaXOffset\n\tSTY byte_RAM_E7\n\n\t; are we wrapping this run of tiles?\n\tLDA byte_RAM_50E\n\tBEQ CreateRawTiles_NoWrap\n\n\t; increment y-position if we hit the wrap point\n\tTXA\n\tCLC\n\tADC #$01\nCreateRawTiles_CheckWrap:\n\tSEC\n\tSBC byte_RAM_50E\n\tBMI CreateRawTiles_NoWrap\n\tBNE CreateRawTiles_CheckWrap\n\nCreateRawTiles_Wrap:\n\tTXA\n\tPHA\n\tJSR IncrementAreaYOffset\n\tSEC\n\tSBC byte_RAM_50E\n\tTAY\n\tSTY byte_RAM_E7\n\tPLA\n\tTAX\n\nCreateRawTiles_NoWrap:\n\t; restore Y and iterate\n\tPLA\n\tTAY\n\n\tCPX byte_RAM_50D\n\tINX\n\tBCC CreateRawTiles_Loop\n\n\t; update level data offset\n\tSTY byte_RAM_F\n\nCreateRawTilesNoOp:\n\tRTS\nENDIF\n\n\n;\n; Use top 3 bits for the X offset of a ground setting object\n;\n; ##### Output\n; - `A`: 0-7\n;\nReadGroundSettingOffset:\n\tLDY byte_RAM_F\n\tINY\n\tLDA (byte_RAM_5), Y\n\tAND #%11100000\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tRTS\n\n;\n; #### Special Object `$F0` / `$F1`: Ground Setting\n;\n; Sets ground setting at some relative offset on the current page.\n;\n; Object `$F0` can change the ground setting for offsets 0 through 7.\n; Object `$F1` can change the ground setting for offsets 8 through 15.\n;\n; #### Input\n; - `A`: Relative offset (0-7)\n; - `byte_RAM_F`: level data byte offset\n;\n; #### Output\n; - `byte_RAM_E`: tile placement offset\n;\nSetGroundSettingA:\n\tJSR ReadGroundSettingOffset\n\tJMP SetGroundSetting\n\nSetGroundSettingB:\n\tJSR ReadGroundSettingOffset\n\tCLC\n\tADC #$08\n\nSetGroundSetting:\n\tSTA byte_RAM_E\n\tLDA IsHorizontalLevel\n\tBNE SetGroundSetting_Exit\n\n\tLDA byte_RAM_E\n\tASL A\n\tASL A\n\tASL A\n\tASL A\n\tSTA byte_RAM_E\n\nSetGroundSetting_Exit:\n\tRTS\n\n\n;\n; #### Special Object `$F4`: New Layer (Foreground)\n;\n; Moves the tile placement cursor to the beginning of the first page in the foreground pass.\n;\n; ##### Output\n;\n; - `byte_RAM_E8`: area page\n; - `byte_RAM_E6`: tile placement offset\n;\nResetPageAndOffsetForeground:\n\tLDA #$00\n\tSTA byte_RAM_E8 ; area page\n\tSTA byte_RAM_E6 ; tile placement offset\n\tRTS\n\n\n;\n; #### Special Object `$F4`: New Layer (Background)\n;\n; Moves the tile placement cursor to the beginning of the first page in the background pass.\n;\n; ##### Output\n;\n; - `byte_RAM_540`: area page\n; - `byte_RAM_E`: tile placement offset\n;\nResetPageAndOffsetBackground:\n\tLDA #$00\n\tSTA byte_RAM_540\n\tSTA byte_RAM_E\n\tRTS\n\n\n;\n; Area pointers are not processed on the background pass.\n;\nSetAreaPointerNoOp:\n\tRTS\n\n\n;\n; #### Ground Appearance Object `$F6`\n;\n; Sets the ground appearance, which determines the tiles used when drawing the ground setting.\n;\n; ##### Output\n;\n; `GroundType`: the ground type used for drawing the background\n;\nSetGroundType:\n\tLDY byte_RAM_F\n\tINY\n\tLDA (byte_RAM_5), Y\n\tAND #%00001111\n\tASL A\n\tASL A\n\tSTA GroundType\n\tRTS\n\n\n;\n; ### Render background level data\n;\n; Reads level data from the beginning and processes the ground layout.\n;\n; This first pass is used for setting up the ground types and settings before normal objects are\n; rendered in the level.\n;\n; ##### Input\n; - `Y`: raw data offset\n;\nReadLevelBackgroundData:\n\tLDA #$00\n\tSTA byte_RAM_540\n\nReadLevelBackgroundData_Page:\n\tLDA #$00\n\tSTA byte_RAM_9\n\nReadLevelBackgroundData_Object:\n\tLDA (byte_RAM_5), Y\n\tCMP #$FF\n\tBNE ReadLevelBackgroundData_ProcessObject\n\n\t; Encountering `$FF` indicates the end of the level data.\n\t; We need to render the remaining ground setting through the end of the last page in the area.\n\tLDA #$0A\n\tSTA byte_RAM_540\n\tINC byte_RAM_540\n\tLDA #$00\n\tSTA byte_RAM_E\n\tJMP ReadLevelBackgroundData_RenderGround\n\nReadLevelBackgroundData_ProcessObject:\n\tLDA (byte_RAM_5), Y\n\tAND #$F0\n\tBEQ ReadLevelBackgroundData_ProcessObject_Advance2Bytes\n\n\tCMP #$F0\n\tBNE ReadLevelBackgroundData_ProcessRegularObject\n\n;\n; First byte of `$FX` indicates a special object.\n;\nReadLevelBackgroundData_ProcessSpecialObject:\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTY byte_RAM_F\n\tJSR ProcessSpecialObjectBackground\n\n\t; Determine how many more bytes to advance after processing the special object.\n\tLDY byte_RAM_F\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\n\t; Ground setting `$F0` / `$F1` should render the previous ground setting\n\tCMP #$02\n\tBCC ReadLevelBackgroundData_RenderGround\n\n\t; Special objects except `$F0` / `$F1`\n\tCMP #$05\n\tBNE ReadLevelBackgroundData_ProcessObject_NotF5\n\nReadLevelBackgroundData_ProcessObject_Advance3Bytes:\n\tINY\n\tJMP ReadLevelBackgroundData_ProcessObject_Advance2Bytes\n\nReadLevelBackgroundData_ProcessObject_NotF5:\n\t; Special objects except `$F0` / `$F1` / `$F5`\n\tCMP #$06\n\tBNE ReadLevelBackgroundData_ProcessObject_AdvanceByte\n\n; Ground appearance `$F6` is two bytes.\nReadLevelBackgroundData_ProcessObject_Advance2Bytes:\n\tINY\n\nReadLevelBackgroundData_ProcessObject_AdvanceByte:\n\tINY\n\tJMP ReadLevelBackgroundData_Object\n\n;\n; Processes a regular object, as indicated by a value of `$0X-$EX` in the first byte.\n;\n; ##### Input\n; - `byte_RAM_9`: tile placement offset (overflow counter)\n;\n; ##### Output\n; - `byte_RAM_540`: area page\n; - `byte_RAM_9`: tile placement offset (overflow counter)\n;\n; Since we're only processing background objects, all this needs to do is look at the object offset\n; and advance the tile placement cursor and current page as needed.\n;\n; #### The Door Pointer Y Offset \"Bug\"\n;\n; An interesting quirk about the level engine is that door pointers are used in worlds 1-5, but not\n; worlds 6 and 7, due to the fact that the pointers have an effective Y offset of 1.\n;\n; The developers chose to disable door pointers to deal with this problem, but another solution\n; would have been to modify the code here to determine whether an object was being used as a door\n; pointer and avoid processing its position offset.\n;\nReadLevelBackgroundData_ProcessRegularObject:\n\tCLC\n\tADC byte_RAM_9\n\tBCC ReadLevelBackgroundData_ProcessRegularObject_SamePage\n\n\t; The object position overflowed to the next page.\n\tADC #$0F\n\tJMP ReadLevelBackgroundData_ProcessRegularObject_NextPage\n\nReadLevelBackgroundData_ProcessRegularObject_SamePage:\n\tCMP #$F0\n\tBNE ReadLevelBackgroundData_ProcessRegularObject_Exit\n\n\tLDA #$00\n\nReadLevelBackgroundData_ProcessRegularObject_NextPage:\n\tINC byte_RAM_540\n\nReadLevelBackgroundData_ProcessRegularObject_Exit:\n\tSTA byte_RAM_9\n\tJMP ReadLevelBackgroundData_ProcessObject_Advance2Bytes\n\n\n;\n; Renders the ground setting up to this point.\n;\n; This code is invoked when we encounter a ground setting object and need to render the previous\n; ground setting up tothis point or when we have reached the end of the level data and need to\n; render the current ground setting through the end of the area.\n;\n; #### Input\n; - `byte_RAM_E8`: area page\n; - `byte_RAM_E5`: tile placement offset shift\n; - `byte_RAM_E6`: previous tile placement offset\n; - `byte_RAM_540`: area page (end)\n; - `byte_RAM_E`: tile placement offset (end)\n;\n; #### Output\n;\nReadLevelBackgroundData_RenderGround:\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tJSR LoadGroundSetData\n\n\tLDA IsHorizontalLevel\n\tBEQ ReadLevelBackgroundData_RenderGround_Vertical\n\nReadLevelBackgroundData_RenderGround_Horizontal:\n\t; Increment the column.\n\tINC byte_RAM_E5\n\tLDA byte_RAM_E5\n\tCMP #$10\n\tBNE ReadLevelBackgroundData_RenderGround_CheckComplete\n\n\t; Increment the page and reset to the first column.\n\tINC byte_RAM_E8\n\tLDA #$00\n\tSTA byte_RAM_E5\n\tJMP ReadLevelBackgroundData_RenderGround_CheckComplete\n\n\nReadLevelBackgroundData_RenderGround_Vertical:\n\t; Increment the row.\n\tLDA #$10\n\tJSR UpdateAreaYOffset\n\nReadLevelBackgroundData_RenderGround_CheckComplete:\n\t; If there are more pages to render with this ground setting, keep going.\n\tLDA byte_RAM_E8\n\tCMP byte_RAM_540\n\tBNE ReadLevelBackgroundData_RenderGround\n\n\tLDA IsHorizontalLevel\n\tBEQ ReadLevelBackgroundData_RenderGround_CheckComplete_Vertical\n\nReadLevelBackgroundData_RenderGround_CheckComplete_Horizontal:\n\t; If there is more to render with this ground setting, keep going.\n\tLDA byte_RAM_E5\n\tCMP byte_RAM_E\n\tBCC ReadLevelBackgroundData_RenderGround\n\n\t; Otherwise, move on and process the next object.\n\tBCS ReadLevelBackgroundData_RenderGround_Exit\n\nReadLevelBackgroundData_RenderGround_CheckComplete_Vertical:\n\tLDA byte_RAM_E6\n\tCMP byte_RAM_E\n\tBCC ReadLevelBackgroundData_RenderGround\n\nReadLevelBackgroundData_RenderGround_Exit:\n\tLDA (byte_RAM_5), Y\n\t; Encountering `$FF` indicates the end of the level data.\n\tCMP #$FF\n\tBEQ ReadGroundSetByte_Exit\n\n\t; Otherwise this was triggered because we encountered a ground setting object, so `GroundSetting`\n\t; for the next time we need to render the ground.\n\tINY\n\tLDA (byte_RAM_5), Y\n\tAND #$1F\n\tSTA GroundSetting\n\tJMP ReadLevelBackgroundData_ProcessObject_AdvanceByte\n\n; -----\n\n\n;\n; Reads the current ground setting byte.\n;\n; ##### Input\n; - `X`: Ground setting offset\n;\n; ##### Output\n; - `A`: Byte containing the 4 ground appearance bit pairs for the offset\n;\nReadGroundSetByte:\n\tLDA IsHorizontalLevel\n\tBNE ReadGroundSetByte_Vertical\n\n\tLDA VerticalGroundSetData, X\n\tRTS\n\nReadGroundSetByte_Vertical:\n\tLDA HorizontalGroundSetData, X\n\nReadGroundSetByte_Exit:\n\tRTS\n\n\n;\n; Draws the current ground setting and type to the raw tile buffer.\n;\n; ##### Input\n; - `GroundSetting`: current ground setting\n; - `GroundType`: current ground appearance\n; - `byte_RAM_E7`: tile placement offset\n;\nLoadGroundSetData:\n\tSTY byte_RAM_4\n\tLDA GroundSetting\n\tASL A\n\tASL A\n\tTAX\n\tLDY byte_RAM_E7\n\nLoadGroundSetData_Loop:\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles1\n\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles2\n\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles3\n\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles4\n\n\tLDA IsHorizontalLevel\n\tBEQ LoadGroundSetData_Horizontal\n\n\tINX\n\tBCS LoadGroundSetData_Exit\n\n\tBCC LoadGroundSetData_Loop\n\nLoadGroundSetData_Horizontal:\n\tINX\n\tTYA\n\tAND #$0F\n\tBNE LoadGroundSetData_Loop\n\nLoadGroundSetData_Exit:\n\tLDY byte_RAM_4\n\tRTS\n\n;\n; Draws current ground set tiles.\n;\nWriteGroundSetTiles:\nWriteGroundSetTiles1:\n\tLSR A\n\tLSR A\n\nWriteGroundSetTiles2:\n\tLSR A\n\tLSR A\n\nWriteGroundSetTiles3:\n\tLSR A\n\tLSR A\n\nWriteGroundSetTiles4:\n\tAND #$03\n\tSTX byte_RAM_3\n\t; This `BEQ` is what effectively ignores the first index of the groundset tiles lookup tables.\n\tBEQ WriteGroundSetTiles_AfterWriteTile\n\n\tCLC\n\tADC GroundType\n\tTAX\n\tLDA IsHorizontalLevel\n\tBNE WriteGroundSetTiles_Horizontal\n\n\tJSR ReadGroundTileVertical\n\n\tJMP WriteGroundSetTiles_WriteTile\n\nWriteGroundSetTiles_Horizontal:\n\tJSR ReadGroundTileHorizontal\n\nWriteGroundSetTiles_WriteTile:\n\tSTA (byte_RAM_1), Y\n\nWriteGroundSetTiles_AfterWriteTile:\n\tLDX byte_RAM_3\n\tLDA IsHorizontalLevel\n\tBNE WriteGroundSetTiles_IncrementYOffset\n\n\tINY\n\tRTS\n\nWriteGroundSetTiles_IncrementYOffset:\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tRTS\n\n\nReadGroundTileHorizontal:\n\tSTX byte_RAM_C\n\tSTY byte_RAM_D\n\tLDX CurrentWorldTileset\n\tLDA GroundTilesHorizontalLo, X\n\tSTA byte_RAM_7\n\tLDA GroundTilesHorizontalHi, X\n\tSTA byte_RAM_8\n\tLDY byte_RAM_C\n\tLDA (byte_RAM_7), Y\n\tLDX byte_RAM_C\n\tLDY byte_RAM_D\n\tRTS\n\n\nReadGroundTileVertical:\n\tSTX byte_RAM_C\n\tSTY byte_RAM_D\n\tLDX CurrentWorldTileset\n\tLDA GroundTilesVerticalLo, X\n\tSTA byte_RAM_7\n\tLDA GroundTilesVerticalHi, X\n\tSTA byte_RAM_8\n\tLDY byte_RAM_C\n\tLDA (byte_RAM_7), Y\n\tLDX byte_RAM_C\n\tLDY byte_RAM_D\n\tRTS\n\n\n;\n; Updates the area page and tile placement offset\n;\n; ##### Input\n; - `byte_RAM_E8`: area page\n; - `byte_RAM_E5`: tile placement offset shift\n; - `byte_RAM_E6`: previous tile placement offset\n;\n; ##### Output\n; - `byte_RAM_1`: low byte of decoded level data RAM\n; - `byte_RAM_2`: high byte of decoded level data RAM\n; - `byte_RAM_E7`: target tile placement offset\n;\nSetTileOffsetAndAreaPageAddr_Bank6:\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDA byte_RAM_E6\n\tCLC\n\tADC byte_RAM_E5\n\tSTA byte_RAM_E7\n\tRTS\n\n;\n; Updates the area page that we're drawing tiles to\n;\n; ##### Input\n; - `X`: area page\n;\n; ##### Output\n; - `byte_RAM_1`: low byte of decoded level data RAM\n; - `byte_RAM_2`: high byte of decoded level data RAM\n;\nSetAreaPageAddr_Bank6:\n\tLDA DecodedLevelPageStartLo_Bank6, X\n\tSTA byte_RAM_1\n\tLDA DecodedLevelPageStartHi_Bank6, X\n\tSTA byte_RAM_2\n\tRTS\n\n\nIncrementAreaXOffset:\n\tINY\n\tTYA\n\tAND #$0F\n\tBNE IncrementAreaXOffset_Exit\n\n\tTYA\n\tSEC\n\tSBC #$10\n\tTAY\n\tSTX byte_RAM_B\n\tLDX byte_RAM_E8\n\tINX\n\tSTX byte_RAM_D\n\tJSR SetAreaPageAddr_Bank6\n\tLDX byte_RAM_B\n\nIncrementAreaXOffset_Exit:\n\tRTS\n\n\n; Moves one row down and increments the page, if necessary\nIncrementAreaYOffset:\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tCMP #$F0\n\tBCC IncrementAreaYOffset_Exit\n\n\t; increment the area page\n\tLDX byte_RAM_E8\n\tINX\n\tJSR SetAreaPageAddr_Bank6\n\n\tTYA\n\tAND #$0F\n\tTAY\n\nIncrementAreaYOffset_Exit:\n\tRTS\n\n\nIFNDEF DISABLE_DOOR_POINTERS\n;\n; Consume the object as an area pointer. This overwrites any existing area\n; pointer for this page.\n;\nLevelParser_EatDoorPointer:\n\tLDY byte_RAM_4\n\tINY\n\tLDA (byte_RAM_5), Y\n\tSTA byte_RAM_7\n\tINY\n\tLDA (byte_RAM_5), Y\n\tSTA byte_RAM_8\n\tSTY byte_RAM_4\n\tLDA byte_RAM_E8\n\tASL A\n\tTAY\n\tLDA byte_RAM_7\n\tSTA AreaPointersByPage, Y\n\tINY\n\tLDA byte_RAM_8\n\tSTA AreaPointersByPage, Y\n\tRTS\nENDIF\n\n;\n; High byte of the PPU scroll offset for nametable B.\n;\n; When mirroring vertically, nametable A is `$2000` and nametable B is `$2800`.\n; When mirroring horizontally, nametable A is `$2000` and nametable B is `$2400`.\n;\nPPUScrollHiOffsets_Bank6:\n\t.db $28 ; vertical\n\t.db $24 ; horizontal\n\n;\n; Resets the PPU high scrolling values and sets the high byte of the PPU scroll offset.\n;\n; The version of the subroutine in this bank is always called with `A = $00`.\n;\n; ##### Input\n; - `A`: 0 = use nametable A, 1 = use nametable B\n; - `Y`: 0 = vertical, 1 = horizontal\n;\n; ##### Output\n; - `PPUScrollYHiMirror`\n; - `PPUScrollXHiMirror`\n; - `byte_RAM_506`: PPU scroll offset high byte\n;\nResetPPUScrollHi_Bank6:\n\tLSR A\n\tBCS ResetPPUScrollHi_NametableB_Bank6\n\nResetPPUScrollHi_NametableA_Bank6:\n\tLDA #$01\n\tSTA PPUScrollXHiMirror\n\tASL A\n\tSTA PPUScrollYHiMirror\n\tLDA #$20\n\tBNE ResetPPUScrollHi_Exit_Bank6\n\nResetPPUScrollHi_NametableB_Bank6:\n\tLDA #$00\n\tSTA PPUScrollXHiMirror\n\tSTA PPUScrollYHiMirror\n\tLDA PPUScrollHiOffsets_Bank6, Y\n\nResetPPUScrollHi_Exit_Bank6:\n\tSTA byte_RAM_506\n\tRTS\n\n\n;\n; Creates a mushroom object in subspace.\n;\n; ##### Input\n; - `X`: Object position\n; - `Y`: Which mushroom (0 or 1)\n;\nCreateSubspaceMushroomObject:\n\tTXA\n\tPHA\n\tAND #$F0\n\tSTA ObjectYLo\n\tTXA\n\tASL A\n\tASL A\n\tASL A\n\tASL A\n\tSTA ObjectXLo\n\n\t; Subspace is page `$0A`.\n\tLDA #$0A\n\tSTA ObjectXHi\n\tLDX #$00\n\tSTX byte_RAM_12\n\tSTX ObjectYHi\n\n\t; Create a living fungus.\n\t; Even most of this routine uses an enemy slot offset, the next few lines assume slot 0.\n\t; We just set `X` to 0, so this is a safe enough assumption.\n\tLDA #Enemy_Mushroom\n\tSTA ObjectType\n\tLDA #EnemyState_Alive\n\tSTA EnemyState\n\t; Keep track of which mushroom so that you can't collect it twice.\n\tSTY EnemyVariable\n\n\t; Reset various object timers and attributes\n\tLDA #$00\n\tSTA EnemyTimer, X\n\tSTA EnemyArray_B1, X\n\tSTA ObjectBeingCarriedTimer, X\n\tSTA ObjectAnimationTimer, X\n\tSTA ObjectShakeTimer, X\n\tSTA EnemyCollision, X\n\tSTA EnemyArray_438, X\n\tSTA EnemyArray_453, X\n\tSTA EnemyArray_45C, X\n\tSTA ObjectYVelocity, X\n\tSTA ObjectXVelocity, X\n\n\t; Load various object attributes for a mushroom\n\tLDY ObjectType, X\n\tLDA ObjectAttributeTable, Y\n\tAND #$7F\n\tSTA ObjectAttributes, X\n\tLDA EnemyArray_46E_Data, Y\n\tSTA EnemyArray_46E, X\n\tLDA EnemyArray_489_Data, Y\n\tSTA EnemyArray_489, X\n\tLDA EnemyArray_492_Data, Y\n\tSTA EnemyArray_492, X\n\tLDA #$FF\n\tSTA EnemyRawDataOffset, X\n\n\t; Restore X to its previous value\n\tPLA\n\tTAX\n\n\tRTS\n","sections":[{"comment":"\nBank 6 & Bank 7\n===============\n\nWhat's inside:\n\n- Level palettes\n- Groundset data\n- Object tiles\n- Level handling code\n\n-----\n","content":"","htmlComment":"<h1>Bank 6 &#x26; Bank 7</h1>\n<p>What's inside:</p>\n<ul>\n<li>Level palettes</li>\n<li>Groundset data</li>\n<li>Object tiles</li>\n<li>Level handling code</li>\n</ul>\n<hr>\n","htmlContent":"","line":14},{"comment":"\n## Level palettes\n\nEach world has several sets of background and sprite palettes, which are set per area in the level\nheader. Subspace is defined separately in each world, but they all use the same colors!\n","content":"","htmlComment":"<h2>Level palettes</h2>\n<p>Each world has several sets of background and sprite palettes, which are set per area in the level\nheader. Subspace is defined separately in each world, but they all use the same colors!</p>\n","htmlContent":"","line":21},{"comment":"\n#### Palette pointers\n","content":"WorldBackgroundPalettePointersLo:\n\t.db <World1BackgroundPalettes\n\t.db <World2BackgroundPalettes\n\t.db <World3BackgroundPalettes\n\t.db <World4BackgroundPalettes\n\t.db <World5BackgroundPalettes\n\t.db <World6BackgroundPalettes\n\t.db <World7BackgroundPalettes\n\nWorldSpritePalettePointersLo:\n\t.db <World1SpritePalettes\n\t.db <World2SpritePalettes\n\t.db <World3SpritePalettes\n\t.db <World4SpritePalettes\n\t.db <World5SpritePalettes\n\t.db <World6SpritePalettes\n\t.db <World7SpritePalettes\n\nWorldBackgroundPalettePointersHi:\n\t.db >World1BackgroundPalettes\n\t.db >World2BackgroundPalettes\n\t.db >World3BackgroundPalettes\n\t.db >World4BackgroundPalettes\n\t.db >World5BackgroundPalettes\n\t.db >World6BackgroundPalettes\n\t.db >World7BackgroundPalettes\n\nWorldSpritePalettePointersHi:\n\t.db >World1SpritePalettes\n\t.db >World2SpritePalettes\n\t.db >World3SpritePalettes\n\t.db >World4SpritePalettes\n\t.db >World5SpritePalettes\n\t.db >World6SpritePalettes\n\t.db >World7SpritePalettes\n","htmlComment":"<h4>Palette pointers</h4>\n","htmlContent":"WorldBackgroundPalettePointersLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">1</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">2</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">3</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">4</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">5</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">6</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">7</span>BackgroundPalettes\n\nWorldSpritePalettePointersLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">1</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">2</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">3</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">4</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">5</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">6</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">7</span>SpritePalettes\n\nWorldBackgroundPalettePointersHi:\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">1</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">2</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">3</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">4</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">5</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">6</span>BackgroundPalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">7</span>BackgroundPalettes\n\nWorldSpritePalettePointersHi:\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">1</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">2</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">3</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">4</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">5</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">6</span>SpritePalettes\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">7</span>SpritePalettes\n","line":25},{"comment":"#### World 1\n","content":"World1BackgroundPalettes:","htmlComment":"<h4>World 1</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">1</span>BackgroundPalettes:","line":63},{"comment":"Day","content":"\t.db $21, $30, $12, $0F ; $00\n\t.db $21, $30, $16, $0F ; $04\n\t.db $21, $27, $17, $0F ; $08\n\t.db $21, $29, $1A, $0F ; $0C","htmlComment":"<p>Day</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $0C</span>","line":65},{"comment":"Night","content":"\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $0A ; $1C","htmlComment":"<p>Night</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1C</span>","line":70},{"comment":"Underground","content":"\t.db $0F, $2C, $1C, $0C ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $27, $17, $08 ; $28\n\t.db $0F, $2A, $1A, $0A ; $2C","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $2C</span>","line":75},{"comment":"Jar","content":"\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $21, $0F ; $3C","htmlComment":"<p>Jar</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C</span>","line":80},{"comment":"Castle","content":"\t.db $03, $2C, $1C, $0F ; $40\n\t.db $03, $30, $16, $0F ; $44\n\t.db $03, $3C, $1C, $0F ; $48\n\t.db $03, $25, $15, $05 ; $4C","htmlComment":"<p>Castle</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$2C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$3C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$15</span>, <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $4C</span>","line":85},{"comment":"Boss","content":"\t.db $0C, $30, $06, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $16, $0F ; $58\n\t.db $0C, $30, $26, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$06</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$26</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":90},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld1SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">1</span>SpritePalettes:","line":95},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":102},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":106},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $25, $10, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World1SpritePalettes + $30, $FF\nENDIF\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">1</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":110},{"comment":"\n#### World 2\n","content":"World2BackgroundPalettes:","htmlComment":"<h4>World 2</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">2</span>BackgroundPalettes:","line":120},{"comment":"Day","content":"\t.db $11, $30, $2A, $0F ; $00\n\t.db $11, $30, $16, $0F ; $04\n\t.db $11, $28, $18, $0F ; $08\n\t.db $11, $17, $07, $0F ; $0C","htmlComment":"<p>Day</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $0C</span>","line":122},{"comment":"Night (unused?)","content":"\t.db $0F, $30, $2A, $0A ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $28, $18, $08 ; $18\n\t.db $0F, $17, $07, $08 ; $1C","htmlComment":"<p>Night (unused?)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $1C</span>","line":127},{"comment":"Underground","content":"\t.db $0F, $2A, $1A, $0A ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $28, $18, $08 ; $28\n\t.db $0F, $27, $17, $07 ; $2C","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; $2C</span>","line":132},{"comment":"Jar","content":"\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $28, $17, $0F ; $38\n\t.db $07, $31, $11, $0F ; $3C;","htmlComment":"<p>Jar</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$11</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C;</span>","line":137},{"comment":"Castle (unused)","content":"\t.db $0C, $2A, $1A, $0F ; $40\n\t.db $0C, $30, $16, $0F ; $44\n\t.db $0C, $17, $07, $0F ; $48\n\t.db $0C, $25, $15, $0F ; $4C","htmlComment":"<p>Castle (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$15</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $4C</span>","line":142},{"comment":"Boss","content":"\t.db $0C, $30, $1A, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $2A, $0F ; $58\n\t.db $0C, $30, $3A, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$3A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":147},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld2SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">2</span>SpritePalettes:","line":152},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $2A, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":159},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $2A, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":163},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $30, $23, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World2SpritePalettes + $30, $FF\nENDIF\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">2</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":167},{"comment":"\n#### World 3\n","content":"World3BackgroundPalettes:","htmlComment":"<h4>World 3</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">3</span>BackgroundPalettes:","line":177},{"comment":"Day","content":"\t.db $22, $30, $12, $0F ; $00\n\t.db $22, $30, $16, $0F ; $04\n\t.db $22, $27, $17, $0F ; $08\n\t.db $22, $29, $1A, $0F ; $0C","htmlComment":"<p>Day</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $0C</span>","line":179},{"comment":"Night (unused)","content":"\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $04 ; $1C","htmlComment":"<p>Night (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $1C</span>","line":184},{"comment":"Underground","content":"\t.db $0F, $30, $1C, $0C ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $27, $17, $08 ; $28\n\t.db $0F, $26, $16, $06 ; $2C","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$26</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$06</span> <span class=\"token comment\">; $2C</span>","line":189},{"comment":"Jar","content":"\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $31, $0F ; $3C","htmlComment":"<p>Jar</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C</span>","line":194},{"comment":"Castle","content":"\t.db $03, $31, $21, $0F ; $40\n\t.db $03, $30, $16, $0F ; $44\n\t.db $03, $3C, $1C, $0F ; $48\n\t.db $03, $2A, $1A, $0F ; $4C","htmlComment":"<p>Castle</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$3C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $4C</span>","line":199},{"comment":"Boss","content":"\t.db $0C, $30, $11, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $21, $0F ; $58\n\t.db $0C, $30, $31, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$11</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":204},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld3SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">3</span>SpritePalettes:","line":209},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":216},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":220},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $2B, $10, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World3SpritePalettes + $30, $FF\nENDIF\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$2B</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">3</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":224},{"comment":"\n#### World 4\n","content":"World4BackgroundPalettes:","htmlComment":"<h4>World 4</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">4</span>BackgroundPalettes:","line":234},{"comment":"Day","content":"\t.db $23, $30, $12, $0F ; $00\n\t.db $23, $30, $16, $0F ; $04\n\t.db $23, $2B, $1B, $0F ; $08\n\t.db $23, $30, $32, $0F ; $0C","htmlComment":"<p>Day</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$2B</span>, <span class=\"token hexnumber string\">$1B</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$32</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $0C</span>","line":236},{"comment":"Night (unused)","content":"\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $2B, $1B, $0B ; $18\n\t.db $0F, $29, $1A, $0A ; $1C","htmlComment":"<p>Night (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2B</span>, <span class=\"token hexnumber string\">$1B</span>, <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1C</span>","line":241},{"comment":"Underground","content":"\t.db $0F, $32, $12, $01 ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $2B, $1B, $0B ; $28\n\t.db $0F, $27, $17, $07 ; $2C","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$32</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2B</span>, <span class=\"token hexnumber string\">$1B</span>, <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; $2C</span>","line":246},{"comment":"Jar","content":"\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $21, $21, $0F ; $3C","htmlComment":"<p>Jar</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C</span>","line":251},{"comment":"Castle","content":"\t.db $03, $30, $12, $0F ; $40\n\t.db $03, $30, $16, $0F ; $44\n\t.db $03, $3C, $1C, $0F ; $48\n\t.db $03, $28, $18, $0F ; $4C","htmlComment":"<p>Castle</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$3C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $4C</span>","line":256},{"comment":"Boss","content":"\t.db $0C, $30, $00, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $10, $0F ; $58\n\t.db $0C, $30, $30, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":261},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld4SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">4</span>SpritePalettes:","line":266},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":273},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":277},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $27, $16, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World4SpritePalettes + $30, $FF\nENDIF\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">4</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":281},{"comment":"\n#### World 5\n","content":"World5BackgroundPalettes:","htmlComment":"<h4>World 5</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">5</span>BackgroundPalettes:","line":291},{"comment":"Night","content":"\t.db $0F, $30, $12, $01 ; $00\n\t.db $0F, $30, $16, $01 ; $04\n\t.db $0F, $27, $17, $07 ; $08\n\t.db $0F, $2B, $1B, $0B ; $0C","htmlComment":"<p>Night</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2B</span>, <span class=\"token hexnumber string\">$1B</span>, <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $0C</span>","line":293},{"comment":"Also night (unused)","content":"\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $0A ; $1C","htmlComment":"<p>Also night (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1C</span>","line":298},{"comment":"Underground","content":"\t.db $0F, $31, $12, $01 ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $3C, $1C, $0C ; $28\n\t.db $0F, $2A, $1A, $0A ; $2C","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$3C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $2C</span>","line":303},{"comment":"Jar/Tree","content":"\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $01, $0F ; $3C","htmlComment":"<p>Jar/Tree</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C</span>","line":308},{"comment":"Castle","content":"\t.db $01, $2A, $1A, $0F ; $40\n\t.db $01, $30, $16, $0F ; $44\n\t.db $01, $3C, $1C, $0F ; $48\n\t.db $01, $25, $15, $05 ; $4C","htmlComment":"<p>Castle</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$3C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$15</span>, <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $4C</span>","line":313},{"comment":"Boss","content":"\t.db $0C, $30, $16, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $24, $0F ; $58\n\t.db $0C, $30, $34, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$24</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$34</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":318},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld5SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">5</span>SpritePalettes:","line":323},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":330},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":334},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $16, $0F ; $1C\n\t.db $FF, $16, $30, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World5SpritePalettes + $30, $FF\nENDIF\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">5</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":338},{"comment":"\n#### World 6\n","content":"World6BackgroundPalettes:","htmlComment":"<h4>World 6</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">6</span>BackgroundPalettes:","line":348},{"comment":"Day","content":"\t.db $21, $30, $2A, $0F ; $00\n\t.db $21, $30, $16, $0F ; $04\n\t.db $21, $28, $18, $0F ; $08\n\t.db $21, $17, $07, $0F ; $0C","htmlComment":"<p>Day</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $0C</span>","line":350},{"comment":"Night","content":"\t.db $0F, $30, $2A, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $28, $18, $08 ; $18\n\t.db $0F, $17, $07, $08 ; $1C","htmlComment":"<p>Night</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $1C</span>","line":355},{"comment":"Underground","content":"\t.db $0F, $30, $12, $01 ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $28, $18, $08 ; $28\n\t.db $0F, $27, $17, $07 ; $2C","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; $2C</span>","line":360},{"comment":"Jar","content":"\t.db $07, $30, $27, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $28, $17, $0F ; $38\n\t.db $07, $31, $01, $0F ; $3C","htmlComment":"<p>Jar</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C</span>","line":365},{"comment":"Castle","content":"\t.db $0C, $2A, $1A, $0F ; $40\n\t.db $0C, $30, $16, $0F ; $44\n\t.db $0C, $17, $07, $0F ; $48\n\t.db $0C, $25, $15, $0F ; $4C","htmlComment":"<p>Castle</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$15</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $4C</span>","line":370},{"comment":"Boss","content":"\t.db $0C, $30, $1B, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $30, $2B, $0F ; $58\n\t.db $0C, $30, $3B, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$1B</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2B</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$3B</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":375},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld6SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">6</span>SpritePalettes:","line":380},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $2A, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":387},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $2A, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":391},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $30, $23, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World6SpritePalettes + $30, $FF\nENDIF\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">6</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":395},{"comment":"\n#### World 7\n","content":"World7BackgroundPalettes:","htmlComment":"<h4>World 7</h4>\n","htmlContent":"World<span class=\"token decimalnumber string\">7</span>BackgroundPalettes:","line":405},{"comment":"Day","content":"\t.db $21, $30, $12, $0F ; $00\n\t.db $21, $30, $16, $0F ; $04\n\t.db $21, $27, $17, $0F ; $08\n\t.db $21, $29, $1A, $0F ; $0C","htmlComment":"<p>Day</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $0C</span>","line":407},{"comment":"Night (unused)","content":"\t.db $0F, $30, $12, $01 ; $10\n\t.db $0F, $30, $16, $02 ; $14\n\t.db $0F, $27, $17, $08 ; $18\n\t.db $0F, $29, $1A, $0A ; $1C","htmlComment":"<p>Night (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$29</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1C</span>","line":412},{"comment":"Castle","content":"\t.db $0F, $2C, $1C, $0C ; $20\n\t.db $0F, $30, $16, $02 ; $24\n\t.db $0F, $27, $17, $08 ; $28\n\t.db $0F, $2A, $1A, $0A ; $2C","htmlComment":"<p>Castle</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $2C</span>","line":417},{"comment":"Jar (unused)","content":"\t.db $07, $30, $16, $0F ; $30\n\t.db $07, $30, $16, $0F ; $34\n\t.db $07, $27, $17, $0F ; $38\n\t.db $07, $31, $01, $0F ; $3C","htmlComment":"<p>Jar (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$31</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $3C</span>","line":422},{"comment":"Castle (unused)","content":"\t.db $0F, $3C, $2C, $0C ; $40\n\t.db $0F, $30, $16, $02 ; $44\n\t.db $0F, $28, $18, $08 ; $48\n\t.db $0F, $25, $15, $05 ; $4C","htmlComment":"<p>Castle (unused)</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$3C</span>, <span class=\"token hexnumber string\">$2C</span>, <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$15</span>, <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $4C</span>","line":427},{"comment":"Boss","content":"\t.db $0C, $30, $08, $0F ; $50\n\t.db $0C, $30, $16, $0F ; $54\n\t.db $0C, $38, $18, $0F ; $58\n\t.db $0C, $28, $08, $0F ; $5C","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$08</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$08</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $5C</span>","line":432},{"comment":"Subspace","content":"\t.db $01, $0F, $0F, $0F ; $60\n\t.db $01, $0F, $0F, $0F ; $64\n\t.db $01, $0F, $0F, $0F ; $68\n\t.db $01, $0F, $0F, $0F ; $6C\n\nWorld7SpritePalettes:","htmlComment":"<p>Subspace</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $6C</span>\n\nWorld<span class=\"token decimalnumber string\">7</span>SpritePalettes:","line":437},{"comment":"Overworld","content":"\t.db $FF, $30, $16, $0F ; $00\n\t.db $FF, $38, $10, $0F ; $04\n\t.db $FF, $30, $25, $0F ; $08","htmlComment":"<p>Overworld</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $08</span>","line":444},{"comment":"Underground","content":"\t.db $FF, $30, $16, $02 ; $0C\n\t.db $FF, $38, $10, $02 ; $10\n\t.db $FF, $30, $25, $02 ; $14","htmlComment":"<p>Underground</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>","line":448},{"comment":"Boss","content":"\t.db $FF, $30, $16, $0F ; $18\n\t.db $FF, $30, $10, $0F ; $1C\n\t.db $FF, $30, $2A, $0F ; $20\nIFDEF EXPAND_TABLES\n\tunusedSpace World7SpritePalettes + $30, $FF\nENDIF\n\n","htmlComment":"<p>Boss</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">7</span>SpritePalettes + <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n\n","line":452},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":460},{"comment":"\n## Ground appearance tiles\n\nThe ground setting defines a single column (or row, for vertical areas) where each row (or column)\nis be one of four tiles. That set of four tiles is the ground appearance. Each world has its own\nground appearances defined, which are which are divided into horizontal and vertical sets.\n\nAn area has its initial ground appearance set in the header, but it can be changed mid-area using\nthe `$F6` special object.\n","content":"","htmlComment":"<h2>Ground appearance tiles</h2>\n<p>The ground setting defines a single column (or row, for vertical areas) where each row (or column)\nis be one of four tiles. That set of four tiles is the ground appearance. Each world has its own\nground appearances defined, which are which are divided into horizontal and vertical sets.</p>\n<p>An area has its initial ground appearance set in the header, but it can be changed mid-area using\nthe <code>$F6</code> special object.</p>\n","htmlContent":"","line":472},{"comment":"\n#### Ground appearance pointers\n","content":"GroundTilesHorizontalLo:\n\t.db <World1GroundTilesHorizontal\n\t.db <World2GroundTilesHorizontal\n\t.db <World3GroundTilesHorizontal\n\t.db <World4GroundTilesHorizontal\n\t.db <World5GroundTilesHorizontal\n\t.db <World6GroundTilesHorizontal\n\t.db <World7GroundTilesHorizontal\n\nGroundTilesVerticalLo:\n\t.db <World1GroundTilesVertical\n\t.db <World2GroundTilesVertical\n\t.db <World3GroundTilesVertical\n\t.db <World4GroundTilesVertical\n\t.db <World5GroundTilesVertical\n\t.db <World6GroundTilesVertical\n\t.db <World7GroundTilesVertical\n\nGroundTilesHorizontalHi:\n\t.db >World1GroundTilesHorizontal\n\t.db >World2GroundTilesHorizontal\n\t.db >World3GroundTilesHorizontal\n\t.db >World4GroundTilesHorizontal\n\t.db >World5GroundTilesHorizontal\n\t.db >World6GroundTilesHorizontal\n\t.db >World7GroundTilesHorizontal\n\nGroundTilesVerticalHi:\n\t.db >World1GroundTilesVertical\n\t.db >World2GroundTilesVertical\n\t.db >World3GroundTilesVertical\n\t.db >World4GroundTilesVertical\n\t.db >World5GroundTilesVertical\n\t.db >World6GroundTilesVertical\n\t.db >World7GroundTilesVertical\n","htmlComment":"<h4>Ground appearance pointers</h4>\n","htmlContent":"GroundTilesHorizontalLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">1</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">2</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">3</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">4</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">5</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">6</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">7</span>GroundTilesHorizontal\n\nGroundTilesVerticalLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">1</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">2</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">3</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">4</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">5</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">6</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">7</span>GroundTilesVertical\n\nGroundTilesHorizontalHi:\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">1</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">2</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">3</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">4</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">5</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">6</span>GroundTilesHorizontal\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">7</span>GroundTilesHorizontal\n\nGroundTilesVerticalHi:\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">1</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">2</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">3</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">4</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">5</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">6</span>GroundTilesVertical\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">7</span>GroundTilesVertical\n","line":476},{"comment":"\n#### Ground appearance tile definitions\n\nThese are the tiles used to render the ground setting of an area.\nEach row in a world's table corresponds to the ground type.\n\nYou'll notice that the first entry, which correponds to the sky/background is\n$00 instead of $40. This is skipped with a BEQ in WriteGroundSetTiles,\npresumably as an optimization, so the value doesn't matter!\n","content":"World1GroundTilesHorizontal:\n\t.db $00, $99, $D5, $00 ; $00\n\t.db $00, $99, $99, $99 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $A0, $A0, $99 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World1GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld1GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $00, $00, $00 ; $02\n\t.db $00, $00, $A2, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $93, $9E, $C6 ; $06\n\t.db $00, $40, $9E, $C6 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World1GroundTilesVertical + $40, $00\nENDIF\n\nWorld2GroundTilesHorizontal:\n\t.db $00, $99, $99, $99 ; $00\n\t.db $00, $8A, $8A, $8A ; $01\n\t.db $00, $8B, $8B, $8B ; $02\n\t.db $00, $A0, $A0, $A0 ; $03\n\t.db $00, $A2, $A2, $A2 ; $04\n\t.db $00, $D6, $9B, $18 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World2GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld2GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $93, $A0, $00 ; $01\n\t.db $00, $40, $9B, $40 ; $02\n\t.db $00, $93, $9E, $C6 ; $03\n\t.db $00, $40, $9E, $C6 ; $04\n\t.db $00, $00, $00, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World2GroundTilesVertical + $40, $00\nENDIF\n\nWorld3GroundTilesHorizontal:\n\t.db $00, $99, $D5, $00 ; $00\n\t.db $00, $99, $99, $99 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $A0, $A0, $99 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World3GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld3GroundTilesVertical:\n\t.db $00, $C6, $9E, $9D ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $93, $9E, $C6 ; $02\n\t.db $00, $00, $A2, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $40, $9E, $C6 ; $06\n\t.db $00, $06, $A0, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World3GroundTilesVertical + $40, $00\nENDIF\n\nWorld4GroundTilesHorizontal:\n\t.db $00, $99, $D5, $00 ; $00\n\t.db $00, $99, $16, $00 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $0A, $0A, $08 ; $05\n\t.db $00, $1F, $1F, $1F ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World4GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld4GroundTilesVertical:\n\t.db $00, $C6, $99, $9D ; $00\n\t.db $00, $A2, $A2, $A2 ; $01\n\t.db $00, $9B, $9B, $9B ; $02\n\t.db $00, $A0, $A0, $A0 ; $03\n\t.db $00, $D6, $D6, $D6 ; $04\n\t.db $00, $18, $18, $18 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World4GroundTilesVertical + $40, $00\nENDIF\n\nWorld5GroundTilesHorizontal:\n\t.db $00, $99, $D5, $40 ; $00\n\t.db $00, $99, $99, $99 ; $01\n\t.db $00, $A0, $A0, $A0 ; $02\n\t.db $00, $A2, $A2, $A2 ; $03\n\t.db $00, $D6, $9B, $18 ; $04\n\t.db $00, $A0, $A0, $99 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World5GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld5GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $40, $A4, $00 ; $02\n\t.db $00, $00, $A2, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $93, $9E, $C6 ; $06\n\t.db $00, $40, $9E, $C6 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World5GroundTilesVertical + $40, $00\nENDIF\n\nWorld6GroundTilesHorizontal:\n\t.db $00, $99, $99, $99 ; $00\n\t.db $00, $8A, $8A, $8A ; $01\n\t.db $00, $8B, $8B, $8B ; $02\n\t.db $00, $A0, $A0, $A0 ; $03\n\t.db $00, $A2, $A2, $A2 ; $04\n\t.db $00, $D6, $9B, $18 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World6GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld6GroundTilesVertical:\n\t.db $00, $9D, $9E, $C6 ; $00\n\t.db $00, $93, $A0, $00 ; $01\n\t.db $00, $40, $18, $40 ; $02\n\t.db $00, $93, $9E, $C6 ; $03\n\t.db $00, $40, $9E, $C6 ; $04\n\t.db $00, $00, $00, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World6GroundTilesVertical + $40, $00\nENDIF\n\nWorld7GroundTilesHorizontal:\n\t.db $00, $9C, $9C, $9C ; $00\n\t.db $00, $D7, $9C, $19 ; $01\n\t.db $00, $00, $00, $00 ; $02\n\t.db $00, $00, $00, $00 ; $03\n\t.db $00, $00, $00, $00 ; $04\n\t.db $00, $00, $00, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World7GroundTilesHorizontal + $40, $00\nENDIF\n\nWorld7GroundTilesVertical:\n\t.db $00, $9C, $9C, $9C ; $00\n\t.db $00, $05, $A0, $00 ; $01\n\t.db $00, $00, $00, $00 ; $02\n\t.db $00, $00, $9C, $00 ; $03\n\t.db $00, $00, $C2, $00 ; $04\n\t.db $00, $00, $A0, $00 ; $05\n\t.db $00, $00, $00, $00 ; $06\n\t.db $00, $00, $00, $00 ; $07\nIFDEF EXPAND_TABLES\n\tunusedSpace World7GroundTilesVertical + $40, $00\nENDIF\n\n","htmlComment":"<h4>Ground appearance tile definitions</h4>\n<p>These are the tiles used to render the ground setting of an area.\nEach row in a world's table corresponds to the ground type.</p>\n<p>You'll notice that the first entry, which correponds to the sky/background is\n$00 instead of $40. This is skipped with a BEQ in WriteGroundSetTiles,\npresumably as an optimization, so the value doesn't matter!</p>\n","htmlContent":"World<span class=\"token decimalnumber string\">1</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$D5</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">1</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">1</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$05</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$C2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">1</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">2</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$8A</span>, <span class=\"token hexnumber string\">$8A</span>, <span class=\"token hexnumber string\">$8A</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$8B</span>, <span class=\"token hexnumber string\">$8B</span>, <span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">2</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">2</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$40</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">2</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">3</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$D5</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">3</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">3</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$C6</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$9D</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$05</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$C2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$06</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">3</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">4</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$D5</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$1F</span>, <span class=\"token hexnumber string\">$1F</span>, <span class=\"token hexnumber string\">$1F</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">4</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">4</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$C6</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$9D</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$9B</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$D6</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">4</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">5</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$D5</span>, <span class=\"token hexnumber string\">$40</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">5</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">5</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$05</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$A4</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$C2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">5</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">6</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$99</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$8A</span>, <span class=\"token hexnumber string\">$8A</span>, <span class=\"token hexnumber string\">$8A</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$8B</span>, <span class=\"token hexnumber string\">$8B</span>, <span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D6</span>, <span class=\"token hexnumber string\">$9B</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">6</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">6</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$40</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9E</span>, <span class=\"token hexnumber string\">$C6</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">6</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">7</span>GroundTilesHorizontal:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$D7</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$19</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">7</span>GroundTilesHorizontal + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\nWorld<span class=\"token decimalnumber string\">7</span>GroundTilesVertical:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$05</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$C2</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace World<span class=\"token decimalnumber string\">7</span>GroundTilesVertical + <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$00</span>\nENDIF\n\n","line":522},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":705},{"comment":"\n## Tile quads (unused)\n\nThese appear to be duplicates of the tile quads from bank F.\n","content":"UnusedTileQuadPointersLo:\n\t.db <UnusedTileQuads1\n\t.db <UnusedTileQuads2\n\t.db <UnusedTileQuads3\n\t.db <UnusedTileQuads4\n\nUnusedTileQuadPointersHi:\n\t.db >UnusedTileQuads1\n\t.db >UnusedTileQuads2\n\t.db >UnusedTileQuads3\n\t.db >UnusedTileQuads4\n\nUnusedTileQuads1:\n\t.db $FE,$FE,$FE,$FE ; $00\n\t.db $B4,$B6,$B5,$B7 ; $04\n\t.db $B8,$FA,$B9,$FA ; $08\n\t.db $FA,$FA,$B2,$B3 ; $0C\n\t.db $BE,$BE,$BF,$BF ; $10\n\t.db $BF,$BF,$BF,$BF ; $14\n\t.db $4A,$4A,$4B,$4B ; $18\n\t.db $5E,$5F,$5E,$5F ; $1C\n\t.db $E8,$E8,$A9,$A9 ; $20\n\t.db $46,$FC,$46,$FC ; $24\n\t.db $A9,$A9,$A9,$A9 ; $28\n\t.db $FC,$FC,$FC,$FC ; $2C\n\t.db $E9,$E9,$A9,$A9 ; $30\n\t.db $FC,$48,$FC,$48 ; $34\n\t.db $11,$11,$11,$11 ; $38\n\t.db $22,$22,$22,$22 ; $3C\n\t.db $33,$33,$33,$33 ; $40\n\t.db $E8,$EB,$A9,$A9 ; $44\n\t.db $74,$76,$75,$77 ; $48\n\t.db $98,$9A,$99,$9B ; $4C\n\t.db $9C,$9A,$9D,$9B ; $50\n\t.db $9C,$9E,$9B,$9F ; $54\n\t.db $58,$5A,$59,$5B ; $58\n\t.db $5E,$5F,$5E,$5F ; $5C\n\t.db $8E,$8F,$8F,$8E ; $60\n\t.db $72,$73,$73,$72 ; $64\n\t.db $A6,$A6,$A7,$A7 ; $68\n\t.db $92,$93,$93,$92 ; $6C\n\t.db $74,$76,$75,$77 ; $70\n\t.db $70,$72,$71,$73 ; $74\n\t.db $71,$73,$71,$73 ; $78\n\t.db $24,$26,$25,$27 ; $7C\n\t.db $32,$34,$33,$35 ; $80\n\t.db $33,$35,$33,$35 ; $84\n\t.db $24,$26,$25,$27 ; $88\n\nUnusedTileQuads2:\n\t.db $FA,$FA,$FA,$FA ; $00\n\t.db $FA,$FA,$FA,$FA ; $04\n\t.db $FA,$FA,$FA,$FA ; $08\n\t.db $FA,$FA,$B0,$B1 ; $0C\n\t.db $FA,$FA,$B0,$B1 ; $10\n\t.db $FA,$FA,$B0,$B1 ; $14\n\t.db $FA,$FA,$B0,$B1 ; $18\n\t.db $FA,$FA,$B0,$B1 ; $1C\n\t.db $FA,$FA,$B0,$B1 ; $20\n\t.db $FA,$FA,$B0,$B1 ; $24\n\t.db $FA,$FA,$B0,$B1 ; $28\n\t.db $FA,$FA,$B0,$B1 ; $2C\n\t.db $FA,$FA,$B0,$B1 ; $30\n\t.db $FA,$FA,$B0,$B1 ; $34\n\t.db $A0,$A2,$A1,$A3 ; $38\n\t.db $80,$82,$81,$83 ; $3C\n\t.db $F4,$86,$F5,$87 ; $40\n\t.db $84,$86,$85,$87 ; $44\n\t.db $FC,$FC,$FC,$FC ; $48\n\t.db $AD,$FB,$AC,$AD ; $4C\n\t.db $AC,$AC,$AC,$AC ; $50\n\t.db $FB,$3B,$3B,$AC ; $54\n\t.db $FC,$FC,$FC,$FC ; $58\n\t.db $F4,$86,$F5,$87 ; $5C\n\t.db $FB,$49,$49,$FB ; $60\n\t.db $FE,$FE,$FE,$FE ; $64\n\t.db $FE,$FE,$6D,$FE ; $68\n\t.db $3C,$3E,$3D,$3F ; $6C\n\t.db $58,$FD,$59,$5A ; $70\n\t.db $5B,$5A,$FD,$FD ; $74\n\t.db $5B,$5C,$FD,$5D ; $78\n\t.db $FD,$FD,$5B,$5A ; $7C\n\t.db $6C,$FE,$FE,$FE ; $80\n\t.db $FE,$FE,$FE,$FE ; $84\n\t.db $FE,$6E,$FE,$6F ; $88\n\t.db $20,$22,$21,$23 ; $8C\n\t.db $6E,$6F,$70,$71 ; $90\n\t.db $57,$57,$FB,$FB ; $94\n\t.db $57,$57,$FE,$FE ; $98\n\t.db $D3,$D3,$FB,$FB ; $9C\n\t.db $D2,$D2,$FB,$FB ; $A0\n\t.db $7C,$7E,$7D,$7F ; $A4\n\t.db $CA,$CC,$CB,$CD ; $A8\n\t.db $CA,$CC,$CB,$CD ; $AC\n\t.db $C0,$C2,$C1,$C3 ; $B0\n\t.db $2C,$2E,$2D,$2F ; $B4\n\t.db $8E,$8F,$8F,$8E ; $B8\n\t.db $88,$8A,$89,$8B ; $BC\n\t.db $89,$8B,$89,$8B ; $C0\n\t.db $89,$8B,$8C,$8D ; $C4\n\t.db $88,$8A,$8C,$8D ; $C8\n\t.db $88,$8A,$89,$8B ; $CC\n\t.db $88,$8A,$89,$8B ; $D0\n\t.db $6A,$6C,$6B,$6D ; $D4\n\t.db $6C,$6C,$6D,$6D ; $D8\n\t.db $6C,$6E,$6D,$6F ; $DC\n\t.db $6C,$54,$6D,$55 ; $E0\n\t.db $32,$34,$33,$35 ; $E4\n\t.db $33,$35,$33,$35 ; $E8\n\nUnusedTileQuads3:\n\t.db $94,$95,$94,$95 ; $00\n\t.db $96,$97,$96,$97 ; $04\n\t.db $48,$49,$48,$49 ; $08\n\t.db $FE,$FE,$FE,$FE ; $0C\n\t.db $FB,$32,$32,$33 ; $10\n\t.db $33,$33,$33,$33 ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $34,$FB,$FD,$34 ; $1C\n\t.db $FB,$30,$FB,$FB ; $20\n\t.db $FB,$FB,$31,$FB ; $24\n\t.db $D0,$D0,$D0,$D0 ; $28\n\t.db $D1,$D1,$D1,$D1 ; $2C\n\t.db $64,$66,$65,$67 ; $30\n\t.db $68,$6A,$69,$6B ; $34\n\t.db $FA,$6C,$FA,$6C ; $38\n\t.db $6D,$FA,$6D,$FA ; $3C\n\t.db $92,$93,$93,$92 ; $40\n\t.db $AE,$AF,$AE,$AF ; $44\n\t.db $78,$7A,$79,$7B ; $48\n\t.db $A8,$A8,$AF,$AE ; $4C\n\t.db $94,$95,$94,$95 ; $50\n\t.db $96,$97,$96,$97 ; $54\n\t.db $22,$24,$23,$25 ; $58\n\t.db $92,$93,$93,$92 ; $5C\n\t.db $50,$51,$50,$51 ; $60\n\t.db $AE,$AF,$AE,$AF ; $64\n\t.db $50,$51,$50,$51 ; $68\n\t.db $8E,$8F,$8F,$8E ; $6C\n\t.db $72,$73,$73,$72 ; $70\n\t.db $50,$52,$51,$53 ; $74\n\t.db $FD,$FD,$FD,$FD ; $78\n\t.db $FB,$36,$36,$4F ; $7C\n\t.db $4F,$4E,$4E,$4F ; $80\n\t.db $4E,$4F,$4F,$4E ; $84\n\t.db $92,$93,$93,$92 ; $88\n\t.db $8E,$8F,$8F,$8E ; $8C\n\t.db $44,$45,$45,$44 ; $90\n\t.db $4F,$37,$4E,$FE ; $94\n\t.db $4F,$3A,$4E,$FE ; $98\n\t.db $4F,$4E,$37,$38 ; $9C\n\t.db $4A,$4B,$FE,$FE ; $A0\n\t.db $72,$73,$4A,$4B ; $A4\n\t.db $40,$42,$41,$43 ; $A8\n\t.db $41,$43,$41,$43 ; $AC\n\nUnusedTileQuads4:\n\t.db $40,$42,$41,$43 ; $00\n\t.db $40,$42,$41,$43 ; $04\n\t.db $BA,$BC,$BB,$BD ; $08\n\t.db $BA,$BC,$90,$91 ; $0C\n\t.db $FA,$FA,$FA,$FA ; $10\n\t.db $FA,$FA,$FA,$FA ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $61,$63,$61,$63 ; $1C\n\t.db $65,$63,$65,$63 ; $20\n\t.db $65,$67,$65,$67 ; $24\n\t.db $60,$62,$61,$63 ; $28\n\t.db $32,$34,$33,$35 ; $2C\n\t.db $64,$62,$65,$63 ; $30\n\t.db $36,$34,$37,$35 ; $34\n\t.db $64,$66,$65,$67 ; $38\n\t.db $36,$38,$37,$39 ; $3C\n\t.db $68,$62,$61,$63 ; $40\n\t.db $64,$69,$65,$67 ; $44\n\t.db $46,$62,$61,$63 ; $48\n\t.db $64,$47,$65,$67 ; $4C\n\t.db $BA,$BC,$BB,$BD ; $50\n\t.db $70,$72,$71,$73 ; $54\n\t.db $8E,$8F,$8F,$8E ; $58\n\t.db $72,$73,$73,$72 ; $5C\n\t.db $44,$45,$45,$44 ; $60\n\n","htmlComment":"<h2>Tile quads (unused)</h2>\n<p>These appear to be duplicates of the tile quads from bank F.</p>\n","htmlContent":"UnusedTileQuadPointersLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;UnusedTileQuads<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> &#x3C;UnusedTileQuads<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token directive keyword\">.db</span> &#x3C;UnusedTileQuads<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token directive keyword\">.db</span> &#x3C;UnusedTileQuads<span class=\"token decimalnumber string\">4</span>\n\nUnusedTileQuadPointersHi:\n\t<span class=\"token directive keyword\">.db</span> >UnusedTileQuads<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> >UnusedTileQuads<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token directive keyword\">.db</span> >UnusedTileQuads<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token directive keyword\">.db</span> >UnusedTileQuads<span class=\"token decimalnumber string\">4</span>\n\nUnusedTileQuads<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B4</span>,<span class=\"token hexnumber string\">$B6</span>,<span class=\"token hexnumber string\">$B5</span>,<span class=\"token hexnumber string\">$B7</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B2</span>,<span class=\"token hexnumber string\">$B3</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BE</span>,<span class=\"token hexnumber string\">$BE</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span>,<span class=\"token hexnumber string\">$4B</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span>,<span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E9</span>,<span class=\"token hexnumber string\">$E9</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$48</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$22</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$EB</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$74</span>,<span class=\"token hexnumber string\">$76</span>,<span class=\"token hexnumber string\">$75</span>,<span class=\"token hexnumber string\">$77</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$98</span>,<span class=\"token hexnumber string\">$9A</span>,<span class=\"token hexnumber string\">$99</span>,<span class=\"token hexnumber string\">$9B</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$9A</span>,<span class=\"token hexnumber string\">$9D</span>,<span class=\"token hexnumber string\">$9B</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$9B</span>,<span class=\"token hexnumber string\">$9F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$59</span>,<span class=\"token hexnumber string\">$5B</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span>,<span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$72</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A6</span>,<span class=\"token hexnumber string\">$A6</span>,<span class=\"token hexnumber string\">$A7</span>,<span class=\"token hexnumber string\">$A7</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$74</span>,<span class=\"token hexnumber string\">$76</span>,<span class=\"token hexnumber string\">$75</span>,<span class=\"token hexnumber string\">$77</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$27</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$27</span> <span class=\"token comment\">; $88</span>\n\nUnusedTileQuads<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A2</span>,<span class=\"token hexnumber string\">$A1</span>,<span class=\"token hexnumber string\">$A3</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$81</span>,<span class=\"token hexnumber string\">$83</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F4</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$F5</span>,<span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$84</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$85</span>,<span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AD</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AD</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$3B</span>,<span class=\"token hexnumber string\">$3B</span>,<span class=\"token hexnumber string\">$AC</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F4</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$F5</span>,<span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3C</span>,<span class=\"token hexnumber string\">$3E</span>,<span class=\"token hexnumber string\">$3D</span>,<span class=\"token hexnumber string\">$3F</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$59</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5B</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5B</span>,<span class=\"token hexnumber string\">$5C</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$5D</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$5B</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$6F</span> <span class=\"token comment\">; $88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$23</span> <span class=\"token comment\">; $8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$6F</span>,<span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$71</span> <span class=\"token comment\">; $90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D3</span>,<span class=\"token hexnumber string\">$D3</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $9C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D2</span>,<span class=\"token hexnumber string\">$D2</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$7C</span>,<span class=\"token hexnumber string\">$7E</span>,<span class=\"token hexnumber string\">$7D</span>,<span class=\"token hexnumber string\">$7F</span> <span class=\"token comment\">; $A4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span>,<span class=\"token hexnumber string\">$CC</span>,<span class=\"token hexnumber string\">$CB</span>,<span class=\"token hexnumber string\">$CD</span> <span class=\"token comment\">; $A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span>,<span class=\"token hexnumber string\">$CC</span>,<span class=\"token hexnumber string\">$CB</span>,<span class=\"token hexnumber string\">$CD</span> <span class=\"token comment\">; $AC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C0</span>,<span class=\"token hexnumber string\">$C2</span>,<span class=\"token hexnumber string\">$C1</span>,<span class=\"token hexnumber string\">$C3</span> <span class=\"token comment\">; $B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2C</span>,<span class=\"token hexnumber string\">$2E</span>,<span class=\"token hexnumber string\">$2D</span>,<span class=\"token hexnumber string\">$2F</span> <span class=\"token comment\">; $B4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $B8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $BC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $C0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$8D</span> <span class=\"token comment\">; $C4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$8D</span> <span class=\"token comment\">; $C8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $CC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $D0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6A</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6B</span>,<span class=\"token hexnumber string\">$6D</span> <span class=\"token comment\">; $D4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$6D</span> <span class=\"token comment\">; $D8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$6F</span> <span class=\"token comment\">; $DC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$54</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$55</span> <span class=\"token comment\">; $E0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $E4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $E8</span>\n\nUnusedTileQuads<span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span>,<span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$49</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$33</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$34</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$31</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$D0</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$D1</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$66</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$68</span>,<span class=\"token hexnumber string\">$6A</span>,<span class=\"token hexnumber string\">$69</span>,<span class=\"token hexnumber string\">$6B</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$6C</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$78</span>,<span class=\"token hexnumber string\">$7A</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$7B</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A8</span>,<span class=\"token hexnumber string\">$A8</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AE</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span>,<span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$25</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$72</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$52</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$53</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$4F</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4F</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4E</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$44</span> <span class=\"token comment\">; $90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$3A</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$38</span> <span class=\"token comment\">; $9C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span> <span class=\"token comment\">; $A4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $AC</span>\n\nUnusedTileQuads<span class=\"token decimalnumber string\">4</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$BB</span>,<span class=\"token hexnumber string\">$BD</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$90</span>,<span class=\"token hexnumber string\">$91</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$66</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$38</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$39</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$68</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$69</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$47</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$BB</span>,<span class=\"token hexnumber string\">$BD</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$72</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$44</span> <span class=\"token comment\">; $60</span>\n\n","line":712},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":896},{"comment":"\n## Object creation routine selection\n\nObject types are grouped into `$10` value ranges, where the upper nybble determines which routine\nor jump table to use.\n","content":"","htmlComment":"<h2>Object creation routine selection</h2>\n<p>Object types are grouped into <code>$10</code> value ranges, where the upper nybble determines which routine\nor jump table to use.</p>\n","htmlContent":"","line":904},{"comment":"\n### Length-based object table\n\nThe `$3X-$FX` range is used for objects that specify a type in the upper nybble and length in the\nlower nybble, including runs of horizontal or vertical blocks, platforms, and waterfalls.\n","content":"CreateObjects_30thruF0:\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_HorizontalBlocks ; $3X\n\t.dw CreateObject_HorizontalBlocks ; $4X\n\t.dw CreateObject_HorizontalBlocks ; $5X\n\t.dw CreateObject_HorizontalBlocks ; $6X\n\t.dw CreateObject_HorizontalBlocks ; $7X\n\t.dw CreateObject_VerticalBlocks ; $8X\n\t.dw CreateObject_VerticalBlocks ; $9X\n\t.dw CreateObject_VerticalBlocks ; $AX\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n\t.dw CreateObject_WhaleOrDrawBridgeChain ; $BX\n\t.dw CreateObject_JumpthroughPlatform ; $CX\nELSE\n\t.dw CreateObject_Platform_BX ; $BX\n\t.dw CreateObject_Platform_CX ; $CX\nENDIF\n\t.dw CreateObject_HorizontalPlatform ; $DX\n\t.dw CreateObject_HorizontalPlatform ; $EX\n\t.dw CreateObject_WaterfallOrFrozenRocks ; $FX\n","htmlComment":"<h3>Length-based object table</h3>\n<p>The <code>$3X-$FX</code> range is used for objects that specify a type in the upper nybble and length in the\nlower nybble, including runs of horizontal or vertical blocks, platforms, and waterfalls.</p>\n","htmlContent":"CreateObjects_<span class=\"token decimalnumber string\">30</span>thruF<span class=\"token decimalnumber string\">0</span>:\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalBlocks <span class=\"token comment\">; $3X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalBlocks <span class=\"token comment\">; $4X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalBlocks <span class=\"token comment\">; $5X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalBlocks <span class=\"token comment\">; $6X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalBlocks <span class=\"token comment\">; $7X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_VerticalBlocks <span class=\"token comment\">; $8X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_VerticalBlocks <span class=\"token comment\">; $9X</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_VerticalBlocks <span class=\"token comment\">; $AX</span>\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_WhaleOrDrawBridgeChain <span class=\"token comment\">; $BX</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_JumpthroughPlatform <span class=\"token comment\">; $CX</span>\nELSE\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Platform_BX <span class=\"token comment\">; $BX</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Platform_CX <span class=\"token comment\">; $CX</span>\nENDIF\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalPlatform <span class=\"token comment\">; $DX</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_HorizontalPlatform <span class=\"token comment\">; $EX</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_WaterfallOrFrozenRocks <span class=\"token comment\">; $FX</span>\n","line":911},{"comment":"\n### Single object tables\n\nThe `$0X-$2X` range is used for various single-block and one-off objects, such a mushroom blocks,\nstandable vines, doors, and vertical objects that extend all the way to the ground.\n","content":"CreateObjects_00:\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_SingleBlock ; $00\n\t.dw CreateObject_SingleBlock ; $01\n\t.dw CreateObject_SingleBlock ; $02\n\t.dw CreateObject_SingleBlock ; $03\n\t.dw CreateObject_SingleBlock ; $04\nIFNDEF LEVEL_ENGINE_UPGRADES\n\t.dw CreateObject_SingleBlock ; $05\nELSE\n\t.dw CreateObject_StandableAutomatic ; $05\nENDIF\n\t.dw CreateObject_Vase ; $06\n\t.dw CreateObject_Vase ; $07\n\t.dw CreateObject_Vase ; $08\n\t.dw CreateObject_Door ; $09\n\t.dw CreateObject_Door ; $0A\n\t.dw CreateObject_Door ; $0B\n\t.dw CreateObject_Vine ; $0C\n\t.dw CreateObject_Vine ; $0D\n\t.dw CreateObject_StarBackground ; $0E\n\t.dw CreateObject_Pillar ; $0F\n\nCreateObjects_10:\n\tLDA byte_RAM_50E\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_BigCloud ; $10\n\t.dw CreateObject_SmallCloud ; $11\n\t.dw CreateObject_VineBottom ; $12\n\t.dw CreateObject_LightEntranceRight ; $13\n\t.dw CreateObject_LightEntranceLeft ; $14\n\t.dw CreateObject_Tall ; $15\n\t.dw CreateObject_Tall ; $16\n\t.dw CreateObject_Pyramid ; $17\n\t.dw CreateObject_Wall ; $18\n\t.dw CreateObject_Wall ; $19\n\t.dw CreateObject_Horn ; $1A\n\t.dw CreateObject_DrawBridgeChain ; $1B\n\t.dw CreateObject_Door ; $1C\n\t.dw CreateObject_Door ; $1D\n\t.dw CreateObject_RockWallEntrance ; $1E\n\t.dw CreateObject_TreeBackground ; $1F\n\nCreateObjects_20:\n\tJMP CreateObject_SingleObject\n\n\n","htmlComment":"<h3>Single object tables</h3>\n<p>The <code>$0X-$2X</code> range is used for various single-block and one-off objects, such a mushroom blocks,\nstandable vines, doors, and vertical objects that extend all the way to the ground.</p>\n","htmlContent":"CreateObjects_<span class=\"token decimalnumber string\">00</span>:\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SingleBlock <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SingleBlock <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SingleBlock <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SingleBlock <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SingleBlock <span class=\"token comment\">; $04</span>\nIFNDEF LEVEL_ENGINE_UPGRADES\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SingleBlock <span class=\"token comment\">; $05</span>\nELSE\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_StandableAutomatic <span class=\"token comment\">; $05</span>\nENDIF\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Vase <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Vase <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Vase <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Door <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Door <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Door <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Vine <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Vine <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_StarBackground <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Pillar <span class=\"token comment\">; $0F</span>\n\nCreateObjects_<span class=\"token decimalnumber string\">10</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_BigCloud <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_SmallCloud <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_VineBottom <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_LightEntranceRight <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_LightEntranceLeft <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Tall <span class=\"token comment\">; $15</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Tall <span class=\"token comment\">; $16</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Pyramid <span class=\"token comment\">; $17</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Wall <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Wall <span class=\"token comment\">; $19</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Horn <span class=\"token comment\">; $1A</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_DrawBridgeChain <span class=\"token comment\">; $1B</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Door <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Door <span class=\"token comment\">; $1D</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_RockWallEntrance <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_TreeBackground <span class=\"token comment\">; $1F</span>\n\nCreateObjects_<span class=\"token decimalnumber string\">20</span>:\n\t<span class=\"token opcode property\">JMP</span> CreateObject_SingleObject\n\n\n","line":939},{"comment":"\n## World object tiles\n\nThe repeating blocks in the `$3X-$AX` range are specified per world in these\nlookup tables. Each world has 4 values for each object type, which are\nselected using byte 3 of the area header.\n\n`$3X-$9X` is specified using `%......XX` in byte 3 of the header.\n`$AX` (ladder/chain) is specified using `%....XX..` in byte 3 of the header.\n","content":"WorldObjectTilePointersLo:\n\t.db <World1ObjectTiles\n\t.db <World2ObjectTiles\n\t.db <World3ObjectTiles\n\t.db <World4ObjectTiles\n\t.db <World5ObjectTiles\n\t.db <World6ObjectTiles\n\t.db <World7ObjectTiles\n\nWorldObjectTilePointersHi:\n\t.db >World1ObjectTiles\n\t.db >World2ObjectTiles\n\t.db >World3ObjectTiles\n\t.db >World4ObjectTiles\n\t.db >World5ObjectTiles\n\t.db >World6ObjectTiles\n\t.db >World7ObjectTiles\n\nWorld1ObjectTiles:\n\t.db $97, $92, $12, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $00, $9D, $A2 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld2ObjectTiles:\n\t.db $96, $92, $93, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $1C, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $40, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld3ObjectTiles:\n\t.db $97, $92, $12, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $A0, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $00, $9D, $A2 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld4ObjectTiles:\n\t.db $16, $92, $16, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $A2, $18 ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $1F, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld5ObjectTiles:\n\t.db $97, $92, $12, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $99, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $A4, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld6ObjectTiles:\n\t.db $96, $92, $93, $12 ; 3X (horizontal jump-through block)\n\t.db $1C, $1C, $1C, $1C ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $A0, $40, $9D, $18 ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\nWorld7ObjectTiles:\n\t.db $12, $68, $12, $9D ; 3X (horizontal jump-through block)\n\t.db $9C, $67, $64, $69 ; 4X (horizontal solid block)\n\t.db $45, $45, $45, $45 ; 5X (small veggie grass)\n\t.db $65, $65, $65, $65 ; 6X (bridge)\n\t.db $1A, $1A, $1A, $1A ; 7X (spikes)\n\t.db $9C, $9C, $9C, $9C ; 8X (vertical wall, eg. rock, bombable)\n\t.db $A0, $A0, $A0, $A0 ; 9X (vertical wall, eg. rock with angle)\n\t.db $80, $07, $81, $80 ; AX (ladder, chain)\n\t.db $81, $81, $81, $81 ; AX over background (ladder with shadow)\n\n\n","htmlComment":"<h2>World object tiles</h2>\n<p>The repeating blocks in the <code>$3X-$AX</code> range are specified per world in these\nlookup tables. Each world has 4 values for each object type, which are\nselected using byte 3 of the area header.</p>\n<p><code>$3X-$9X</code> is specified using <code>%......XX</code> in byte 3 of the header.\n<code>$AX</code> (ladder/chain) is specified using <code>%....XX..</code> in byte 3 of the header.</p>\n","htmlContent":"WorldObjectTilePointersLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">1</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">2</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">3</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">4</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">5</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">6</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> &#x3C;World<span class=\"token decimalnumber string\">7</span>ObjectTiles\n\nWorldObjectTilePointersHi:\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">1</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">2</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">3</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">4</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">5</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">6</span>ObjectTiles\n\t<span class=\"token directive keyword\">.db</span> >World<span class=\"token decimalnumber string\">7</span>ObjectTiles\n\nWorld<span class=\"token decimalnumber string\">1</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$97</span>, <span class=\"token hexnumber string\">$92</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\nWorld<span class=\"token decimalnumber string\">2</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$96</span>, <span class=\"token hexnumber string\">$92</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\nWorld<span class=\"token decimalnumber string\">3</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$97</span>, <span class=\"token hexnumber string\">$92</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$A2</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\nWorld<span class=\"token decimalnumber string\">4</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$92</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$A2</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$1F</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\nWorld<span class=\"token decimalnumber string\">5</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$97</span>, <span class=\"token hexnumber string\">$92</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$99</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A4</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\nWorld<span class=\"token decimalnumber string\">6</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$96</span>, <span class=\"token hexnumber string\">$92</span>, <span class=\"token hexnumber string\">$93</span>, <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$9D</span>, <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\nWorld<span class=\"token decimalnumber string\">7</span>ObjectTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$68</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$9D</span> <span class=\"token comment\">; 3X (horizontal jump-through block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$67</span>, <span class=\"token hexnumber string\">$64</span>, <span class=\"token hexnumber string\">$69</span> <span class=\"token comment\">; 4X (horizontal solid block)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span>, <span class=\"token hexnumber string\">$45</span> <span class=\"token comment\">; 5X (small veggie grass)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span>, <span class=\"token hexnumber string\">$65</span> <span class=\"token comment\">; 6X (bridge)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; 7X (spikes)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span>, <span class=\"token hexnumber string\">$9C</span> <span class=\"token comment\">; 8X (vertical wall, eg. rock, bombable)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span>, <span class=\"token hexnumber string\">$A0</span> <span class=\"token comment\">; 9X (vertical wall, eg. rock with angle)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$80</span> <span class=\"token comment\">; AX (ladder, chain)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span>, <span class=\"token hexnumber string\">$81</span> <span class=\"token comment\">; AX over background (ladder with shadow)</span>\n\n\n","line":998},{"comment":"\n## Object creation routines\n\nThese routines are responsible for turning an object in the level data into a set of tiles that\nare applied to the raw tile buffer.\n\nSome are specific one-offs to draw a particular object, where as otherws are generic routines,\nsuch as drawing an _n_-tile row or column of tile _x_. Many fall somewhere in-between.\n","content":"IFDEF LEVEL_ENGINE_UPGRADES","htmlComment":"<h2>Object creation routines</h2>\n<p>These routines are responsible for turning an object in the level data into a set of tiles that\nare applied to the raw tile buffer.</p>\n<p>Some are specific one-offs to draw a particular object, where as otherws are generic routines,\nsuch as drawing an <em>n</em>-tile row or column of tile <em>x</em>. Many fall somewhere in-between.</p>\n","htmlContent":"IFDEF LEVEL_ENGINE_UPGRADES","line":1104},{"comment":"\n#### Automatic climbable tile generation\n","content":"ClimbableTileSearch:\n\t.db BackgroundTile_LadderShadow\n\t.db BackgroundTile_Ladder\n\t.db BackgroundTile_Chain\n\t.db BackgroundTile_Vine\n\nClimbableTilePlatform:\n\t.db BackgroundTile_LadderStandableShadow\n\t.db BackgroundTile_LadderStandable\n\t.db BackgroundTile_ChainStandable\n\t.db BackgroundTile_VineStandable\n\n","htmlComment":"<h4>Automatic climbable tile generation</h4>\n","htmlContent":"ClimbableTileSearch:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderShadow\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Ladder\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Chain\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Vine\n\nClimbableTilePlatform:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderStandableShadow\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderStandable\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_ChainStandable\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_VineStandable\n\n","line":1109},{"comment":"\nFind the corresponding climbable tile\n\n##### Input\n- `A`: search tile\n\n##### Output\n- `A`: replace tile\n- `C`: set if a match was found\n","content":"FindClimableTile:\n\tSTX byte_RAM_7\n\tLDX #(ClimbableTilePlatform - ClimbableTileSearch - 1)\n\nFindClimableTile_Loop:\n\tCMP ClimbableTileSearch, X\n\tBEQ FindClimableTile_LoadReplacement\n\n\tDEX\n\tBPL FindClimableTile_Loop\n\n\tLDX byte_RAM_7\n\tCLC\n\tRTS\n\nFindClimableTile_LoadReplacement:\n\tLDA ClimbableTilePlatform, X\n\tLDX byte_RAM_7\n\tRTS\n","htmlComment":"<p>Find the corresponding climbable tile</p>\n<h5>Input</h5>\n<ul>\n<li><code>A</code>: search tile</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: replace tile</li>\n<li><code>C</code>: set if a match was found</li>\n</ul>\n","htmlContent":"FindClimableTile:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> #(ClimbableTilePlatform - ClimbableTileSearch - <span class=\"token decimalnumber string\">1</span>)\n\nFindClimableTile_Loop:\n\t<span class=\"token opcode property\">CMP</span> ClimbableTileSearch, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> FindClimableTile_LoadReplacement\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> FindClimableTile_Loop\n\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">RTS</span>\n\nFindClimableTile_LoadReplacement:\n\t<span class=\"token opcode property\">LDA</span> ClimbableTilePlatform, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":1132},{"comment":"\nCreates a climbable tile that you can stand on based on `ObjectTypeAXthruFX`.\n\n##### Output\n- `A`: tile that was written\n","content":"CreateObject_StandableObjectType:\n\tLDA ObjectTypeAXthruFX\n\tBEQ CreateObject_StandableObjectType_TableOffset\n","htmlComment":"<p>Creates a climbable tile that you can stand on based on <code>ObjectTypeAXthruFX</code>.</p>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: tile that was written</li>\n</ul>\n","htmlContent":"CreateObject_StandableObjectType:\n\t<span class=\"token opcode property\">LDA</span> ObjectTypeAXthruFX\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_StandableObjectType_TableOffset\n","line":1158},{"comment":"Offset for shadow","content":"\tCLC\n\tADC #$04\n\nCreateObject_StandableObjectType_TableOffset:","htmlComment":"<p>Offset for shadow</p>\n","htmlContent":"\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$04</span>\n\nCreateObject_StandableObjectType_TableOffset:","line":1163},{"comment":"Offset to ladder/chain object definition","content":"\tADC #$1C\n\tTAX\n\n\tLDY byte_RAM_E7\n\tSTX byte_RAM_7\n\tSTY byte_RAM_8\n\tLDX CurrentWorldTileset\n\tLDA WorldObjectTilePointersLo, X\n\tSTA byte_RAM_C\n\tLDA WorldObjectTilePointersHi, X\n\tSTA byte_RAM_D\n\tLDY byte_RAM_7\n\tLDA (byte_RAM_C), Y\n\tLDY byte_RAM_8\n\tLDX byte_RAM_7\n\n\tJSR FindClimableTile\n\n\tSTA (byte_RAM_1), Y\n\tRTS\n","htmlComment":"<p>Offset to ladder/chain object definition</p>\n","htmlContent":"\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$1C</span>\n\t<span class=\"token opcode property\">TAX</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> WorldObjectTilePointersLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_C\n\t<span class=\"token opcode property\">LDA</span> WorldObjectTilePointersHi, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_C), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\n\t<span class=\"token opcode property\">JSR</span> FindClimableTile\n\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":1168},{"comment":"\nCreates a climbable tile that you can stand on based on the based on the tile underneath.\n\n##### Output\n- `A`: tile that was written\n","content":"CreateObject_StandableAutomatic:\n\tLDY byte_RAM_E7\n\tLDA (byte_RAM_1), Y\n\n\tJSR FindClimableTile\n\tBCC CreateObject_StandableObjectType\n\n\tSTA (byte_RAM_1), Y\n\tRTS\nENDIF\n\n","htmlComment":"<p>Creates a climbable tile that you can stand on based on the based on the tile underneath.</p>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: tile that was written</li>\n</ul>\n","htmlContent":"CreateObject_StandableAutomatic:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\n\t<span class=\"token opcode property\">JSR</span> FindClimableTile\n\t<span class=\"token opcode property\">BCC</span> CreateObject_StandableObjectType\n\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\n","line":1195},{"comment":"\nPlaces a tile using the world-specific tile lookup table.\n\n##### Input\n- `Y`: destination tile\n- `byte_RAM_50E`: type of object to create (upper nybble of level object minus 3)\n\n```\n$00 = jumpthrough block\n$01 = solid block\n$02 = grass\n$03 = bridge\n$04 = spikes\n$05 = vertical rock\n$06 = vertical rock with angle\n$07 = ladder\n$08 = whale\n$09 = jumpthrough platform\n$0A = log platform\n$0B = cloud platform\n$0C = waterfall\n```\n\n##### Output\n- `A`: tile that was written\n","content":"CreateWorldSpecificTile:\n\tLDA byte_RAM_50E\n\tASL A\n\tASL A\n\tSTA byte_RAM_F\n\tLDA byte_RAM_50E\n\tCMP #$07\n\tBCC CreateWorldSpecificTile_3Xthru9X\n\nCreateWorldSpecificTile_AXthruFX:\n\tLDA ObjectTypeAXthruFX\n\tJMP CreateWorldSpecificTile_ApplyObjectType\n\nCreateWorldSpecificTile_3Xthru9X:\n\tLDA ObjectType3Xthru9X\n\nCreateWorldSpecificTile_ApplyObjectType:\n\tCLC\n\tADC byte_RAM_F\n\tTAX\n\tLDA byte_RAM_50E\n\tCMP #$03\n\tBNE CreateWorldSpecificTile_LookUpTile\n","htmlComment":"<p>Places a tile using the world-specific tile lookup table.</p>\n<h5>Input</h5>\n<ul>\n<li><code>Y</code>: destination tile</li>\n<li><code>byte_RAM_50E</code>: type of object to create (upper nybble of level object minus 3)</li>\n</ul>\n<pre><code>$00 = jumpthrough block\n$01 = solid block\n$02 = grass\n$03 = bridge\n$04 = spikes\n$05 = vertical rock\n$06 = vertical rock with angle\n$07 = ladder\n$08 = whale\n$09 = jumpthrough platform\n$0A = log platform\n$0B = cloud platform\n$0C = waterfall\n</code></pre>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: tile that was written</li>\n</ul>\n","htmlContent":"CreateWorldSpecificTile:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_F\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">BCC</span> CreateWorldSpecificTile_<span class=\"token decimalnumber string\">3</span>Xthru<span class=\"token decimalnumber string\">9</span><span class=\"token register variable\">X</span>\n\nCreateWorldSpecificTile_AXthruFX:\n\t<span class=\"token opcode property\">LDA</span> ObjectTypeAXthruFX\n\t<span class=\"token opcode property\">JMP</span> CreateWorldSpecificTile_ApplyObjectType\n\nCreateWorldSpecificTile_<span class=\"token decimalnumber string\">3</span>Xthru<span class=\"token decimalnumber string\">9</span><span class=\"token register variable\">X</span>:\n\t<span class=\"token opcode property\">LDA</span> ObjectType<span class=\"token decimalnumber string\">3</span>Xthru<span class=\"token decimalnumber string\">9</span><span class=\"token register variable\">X</span>\n\nCreateWorldSpecificTile_ApplyObjectType:\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_F\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">BNE</span> CreateWorldSpecificTile_LookUpTile\n","line":1233},{"comment":"bridge casts a shadow on background bricks","content":"\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_BackgroundBrick\n\tBNE CreateWorldSpecificTile_LookUpTile\n\n\tLDA #BackgroundTile_BridgeShadow\n\tBNE CreateWorldSpecificTile_Exit\n\nCreateWorldSpecificTile_LookUpTile:\n\tSTX byte_RAM_7\n\tSTY byte_RAM_8\n\tLDX CurrentWorldTileset\n\tLDA WorldObjectTilePointersLo, X\n\tSTA byte_RAM_C\n\tLDA WorldObjectTilePointersHi, X\n\tSTA byte_RAM_D\n\tLDY byte_RAM_7\n\tLDA (byte_RAM_C), Y\n\tLDY byte_RAM_8\n\tLDX byte_RAM_7\n\nCreateWorldSpecificTile_Exit:\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>bridge casts a shadow on background bricks</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_BackgroundBrick\n\t<span class=\"token opcode property\">BNE</span> CreateWorldSpecificTile_LookUpTile\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_BridgeShadow\n\t<span class=\"token opcode property\">BNE</span> CreateWorldSpecificTile_Exit\n\nCreateWorldSpecificTile_LookUpTile:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> WorldObjectTilePointersLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_C\n\t<span class=\"token opcode property\">LDA</span> WorldObjectTilePointersHi, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_C), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\nCreateWorldSpecificTile_Exit:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1258},{"comment":"\nCreates a horizontal run of blocks\n\n##### Input\n- `byte_RAM_50D`: number of blocks to create\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_HorizontalBlocks:\n\tLDY byte_RAM_E7\n\nCreateObject_HorizontalBlocks_Loop:\n\tJSR CreateWorldSpecificTile\n\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_50D\n\tBPL CreateObject_HorizontalBlocks_Loop\n\n\tRTS\n\n","htmlComment":"<p>Creates a horizontal run of blocks</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_50D</code>: number of blocks to create</li>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_HorizontalBlocks:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\nCreateObject_HorizontalBlocks_Loop:\n\t<span class=\"token opcode property\">JSR</span> CreateWorldSpecificTile\n\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BPL</span> CreateObject_HorizontalBlocks_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1290},{"comment":"\nCreates a light entrance with the trail facing right\n\nWorld 6 has some extra logic to make the entrance extend down to the floor.\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_LightEntranceRight:\n\tLDA CurrentWorldTileset\n\tCMP #$05\n\tBNE CreateObject_LightEntranceRight_NotWorld6\n\n\tJMP CreateObject_LightEntranceRight_World6\n\nCreateObject_LightEntranceRight_NotWorld6:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_LightTrailRight\n\tSTA (byte_RAM_1), Y\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tTAY\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_LightTrail\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_LightTrailRight\n\tSTA (byte_RAM_1), Y\n\nIFNDEF DISABLE_DOOR_POINTERS\n\tLDA CurrentWorld\n\tCMP #$05\n\tBEQ CreateObject_LightEntranceRight_World6or7Exit\n\n\tLDA CurrentWorld\n\tCMP #$06\n\tBEQ CreateObject_LightEntranceRight_World6or7Exit\n\n\tJSR LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_LightEntranceRight_World6or7Exit:\n\tRTS\n\nCreateObject_LightEntranceRight_World6:\n\tLDY byte_RAM_E7\n\tLDA #$00\n\tSTA byte_RAM_8\n\nCreateObject_LightEntranceRight_World6Loop:\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_LightEntranceRight_World6_Exit\n\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tLDA byte_RAM_8\n\tTAX\n\nCreateObject_LightEntranceRight_World6InnerLoop:\n\tCPX #$00\n\tBEQ CreateObject_LightEntranceRight_World6_TrailRight\n\n\tINY\n\tLDA #BackgroundTile_LightTrail\n\tSTA (byte_RAM_1), Y\n\tDEX\n\tJMP CreateObject_LightEntranceRight_World6InnerLoop\n\nCreateObject_LightEntranceRight_World6_TrailRight:\n\tINY\n\tLDA #BackgroundTile_LightTrailRight\n\tSTA (byte_RAM_1), Y\n\tINC byte_RAM_8\n\tLDY byte_RAM_E7\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tSTA byte_RAM_E7\n\tJMP CreateObject_LightEntranceRight_World6Loop\n\nCreateObject_LightEntranceRight_World6_Exit:\n\tRTS\n\n","htmlComment":"<p>Creates a light entrance with the trail facing right</p>\n<p>World 6 has some extra logic to make the entrance extend down to the floor.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_LightEntranceRight:\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_LightEntranceRight_NotWorld<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">JMP</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>\n\nCreateObject_LightEntranceRight_NotWorld<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightDoor\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrailRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightDoor\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrail\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrailRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nIFNDEF DISABLE_DOOR_POINTERS\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>or<span class=\"token decimalnumber string\">7</span>Exit\n\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>or<span class=\"token decimalnumber string\">7</span>Exit\n\n\t<span class=\"token opcode property\">JSR</span> LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>or<span class=\"token decimalnumber string\">7</span>Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\nCreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nCreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>Loop:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>_Exit\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightDoor\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">TAX</span>\n\nCreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>InnerLoop:\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>_TrailRight\n\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrail\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>InnerLoop\n\nCreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>_TrailRight:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrailRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>Loop\n\nCreateObject_LightEntranceRight_World<span class=\"token decimalnumber string\">6</span>_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1312},{"comment":"\nCreates a light entrance with the trail facing left\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_LightEntranceLeft:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tDEY\n\tLDA #BackgroundTile_LightTrailLeft\n\tSTA (byte_RAM_1), Y\n\tLDY byte_RAM_E7\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tLDA #BackgroundTile_LightDoor\n\tSTA (byte_RAM_1), Y\n\tDEY\n\tLDA #BackgroundTile_LightTrail\n\tSTA (byte_RAM_1), Y\n\tDEY\n\tLDA #BackgroundTile_LightTrailLeft\n\tSTA (byte_RAM_1), Y\n\nIFNDEF DISABLE_DOOR_POINTERS\n\tLDA CurrentWorld\n\tCMP #$05\n\tBEQ CreateObject_LightEntranceLeft_World6or7Exit\n\n\tLDA CurrentWorld\n\tCMP #$06\n\tBEQ CreateObject_LightEntranceLeft_World6or7Exit\n\n\tJSR LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_LightEntranceLeft_World6or7Exit:\n\tRTS\n\n","htmlComment":"<p>Creates a light entrance with the trail facing left</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_LightEntranceLeft:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightDoor\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrailLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightDoor\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrail\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_LightTrailLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nIFNDEF DISABLE_DOOR_POINTERS\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_LightEntranceLeft_World<span class=\"token decimalnumber string\">6</span>or<span class=\"token decimalnumber string\">7</span>Exit\n\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_LightEntranceLeft_World<span class=\"token decimalnumber string\">6</span>or<span class=\"token decimalnumber string\">7</span>Exit\n\n\t<span class=\"token opcode property\">JSR</span> LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_LightEntranceLeft_World<span class=\"token decimalnumber string\">6</span>or<span class=\"token decimalnumber string\">7</span>Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1402},{"comment":"\nCreates a vertical run of blocks.\n\n##### Input\n- `byte_RAM_50D`: number of blocks to create\n- `byte_RAM_50E`: type of object to create (upper nybble of level object minus 3)\n\n```\n$00 = jumpthrough block\n$01 = solid block\n$02 = grass\n$03 = bridge\n$04 = spikes\n$05 = vertical rock\n$06 = vertical rock with angle\n$07 = ladder\n$08 = whale\n$09 = jumpthrough platform\n$0A = log platform\n$0B = cloud platform\n$0C = waterfall\n```\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_VerticalBlocks:\n\tLDY byte_RAM_E7\n\nIFNDEF LEVEL_ENGINE_UPGRADES","htmlComment":"<p>Creates a vertical run of blocks.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_50D</code>: number of blocks to create</li>\n<li><code>byte_RAM_50E</code>: type of object to create (upper nybble of level object minus 3)</li>\n</ul>\n<pre><code>$00 = jumpthrough block\n$01 = solid block\n$02 = grass\n$03 = bridge\n$04 = spikes\n$05 = vertical rock\n$06 = vertical rock with angle\n$07 = ladder\n$08 = whale\n$09 = jumpthrough platform\n$0A = log platform\n$0B = cloud platform\n$0C = waterfall\n</code></pre>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_VerticalBlocks:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\nIFNDEF LEVEL_ENGINE_UPGRADES","line":1463},{"comment":"\nThis little hack is used to show the pile of rocks behind ClawGrip in his boss\nroom. If we're currently in 5-2, area 5, the vertical rock wall with an angled\ntop is replaced by ClawGrip's rocks instead.\n\nThe level/area check is important! If you go into one of the duplicates of the\nboss room, you'll see the angled rock wall instead.\n","content":"\tLDA byte_RAM_50E\n\tCMP #$06\n\tBNE CreateObject_VerticalBlocks_NotClawGrip\n\n\tLDA CurrentLevel\n\tCMP #$0E\n\tBNE CreateObject_VerticalBlocks_NotClawGrip\n\n\tLDA CurrentLevelArea\n\tCMP #$05\n\tBNE CreateObject_VerticalBlocks_NotClawGrip\n\nCreateObject_VerticalBlocks_ClawGripRockLoop:\n\tLDA #BackgroundTile_ClawGripRock\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaYOffset\n\n\tDEC byte_RAM_50D\n\tBPL CreateObject_VerticalBlocks_ClawGripRockLoop\n\n\tRTS\nENDIF\n\nCreateObject_VerticalBlocks_NotClawGrip:\n\tLDA byte_RAM_50E\n\tCMP #$06\n\tBNE CreateObject_VerticalBlocks_Normal\n\nIFNDEF LEVEL_ENGINE_UPGRADES\n\tLDA #BackgroundTile_RockWallAngle\nELSE","htmlComment":"<p>This little hack is used to show the pile of rocks behind ClawGrip in his boss\nroom. If we're currently in 5-2, area 5, the vertical rock wall with an angled\ntop is replaced by ClawGrip's rocks instead.</p>\n<p>The level/area check is important! If you go into one of the duplicates of the\nboss room, you'll see the angled rock wall instead.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_VerticalBlocks_NotClawGrip\n\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$0E</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_VerticalBlocks_NotClawGrip\n\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_VerticalBlocks_NotClawGrip\n\nCreateObject_VerticalBlocks_ClawGripRockLoop:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_ClawGripRock\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BPL</span> CreateObject_VerticalBlocks_ClawGripRockLoop\n\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\nCreateObject_VerticalBlocks_NotClawGrip:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_VerticalBlocks_Normal\n\nIFNDEF LEVEL_ENGINE_UPGRADES\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_RockWallAngle\nELSE","line":1475},{"comment":"\nUse the previous tile for the top of the column UNLESS we're using a sky\ntile or have set an object type for in the level header.\n\nThis supports creating a normal vertical block run for $9X as well as the\nspecial rock wall with an angled top.\n","content":"\tLDX ObjectType3Xthru9X\n\tBNE CreateObject_VerticalBlocks_Normal\n\tJSR CreateWorldSpecificTile\n\tCMP #BackgroundTile_Sky\n\tBEQ CreateObject_VerticalBlocks_NextRow\n\tCLC\n\tSBC #$00\nENDIF\n\tSTA (byte_RAM_1), Y\n\tJMP CreateObject_VerticalBlocks_NextRow\n\nCreateObject_VerticalBlocks_Normal:\n\tJSR CreateWorldSpecificTile\n\nCreateObject_VerticalBlocks_NextRow:\n\tJSR IncrementAreaYOffset\n\n\tDEC byte_RAM_50D\n\tBPL CreateObject_VerticalBlocks_Normal\n\n\tRTS\n\n","htmlComment":"<p>Use the previous tile for the top of the column UNLESS we're using a sky\ntile or have set an object type for in the level header.</p>\n<p>This supports creating a normal vertical block run for $9X as well as the\nspecial rock wall with an angled top.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> ObjectType<span class=\"token decimalnumber string\">3</span>Xthru<span class=\"token decimalnumber string\">9</span><span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_VerticalBlocks_Normal\n\t<span class=\"token opcode property\">JSR</span> CreateWorldSpecificTile\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_VerticalBlocks_NextRow\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$00</span>\nENDIF\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_VerticalBlocks_NextRow\n\nCreateObject_VerticalBlocks_Normal:\n\t<span class=\"token opcode property\">JSR</span> CreateWorldSpecificTile\n\nCreateObject_VerticalBlocks_NextRow:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BPL</span> CreateObject_VerticalBlocks_Normal\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1513},{"comment":"\nLookup tables for single blocks\n\nEach the lower nybble of the object type is used as the offset, except for the\nstandable ladder, which is described in the subroutine below.\n","content":"World1thru6SingleBlocks:\n\t.db BackgroundTile_MushroomBlock\n\t.db BackgroundTile_POWBlock\n\t.db BackgroundTile_BombableBrick\n\t.db BackgroundTile_VineStandable\n\t.db BackgroundTile_JarSmall\n\t.db BackgroundTile_LadderStandable\n\t.db BackgroundTile_LadderStandableShadow\n\nWorld7SingleBlocks:\n\t.db BackgroundTile_MushroomBlock\n\t.db BackgroundTile_POWBlock\n\t.db BackgroundTile_BombableBrick\n\t.db BackgroundTile_ChainStandable\n\t.db BackgroundTile_JarSmall\n\t.db BackgroundTile_LadderStandable\n\t.db BackgroundTile_LadderStandableShadow\n\n","htmlComment":"<p>Lookup tables for single blocks</p>\n<p>Each the lower nybble of the object type is used as the offset, except for the\nstandable ladder, which is described in the subroutine below.</p>\n","htmlContent":"World<span class=\"token decimalnumber string\">1</span>thru<span class=\"token decimalnumber string\">6</span>SingleBlocks:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_MushroomBlock\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_POWBlock\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_BombableBrick\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_VineStandable\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_JarSmall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderStandable\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderStandableShadow\n\nWorld<span class=\"token decimalnumber string\">7</span>SingleBlocks:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_MushroomBlock\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_POWBlock\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_BombableBrick\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_ChainStandable\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_JarSmall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderStandable\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LadderStandableShadow\n\n","line":1542},{"comment":"\nCreates a single block\n\n##### Input\n- `byte_RAM_50E`: object type to use as an offset in the lookup table\n","content":"CreateObject_SingleBlock:\n\tLDA byte_RAM_50E\n\tTAX\n","htmlComment":"<p>Creates a single block</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_50E</code>: object type to use as an offset in the lookup table</li>\n</ul>\n","htmlContent":"CreateObject_SingleBlock:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">TAX</span>\n","line":1567},{"comment":"\nObject `$05` is a single ladder tile that the player can stand on.\n\nWhen `ObjectTypeAXthruFX` is set, it is given a shadow. This works by\nincrementing the offset by one so that object `$05` ends up using offset `$06`\nin the lookup table!\n","content":"\tCMP #$05\n\tBNE CreateObject_SingleBlock_NotLadderStandable\n\n\tLDA ObjectTypeAXthruFX\n\tBEQ CreateObject_SingleBlock_NotLadderStandable\n\n\tINX\n\nCreateObject_SingleBlock_NotLadderStandable:\n\tLDY byte_RAM_E7","htmlComment":"<p>Object <code>$05</code> is a single ladder tile that the player can stand on.</p>\n<p>When <code>ObjectTypeAXthruFX</code> is set, it is given a shadow. This works by\nincrementing the offset by one so that object <code>$05</code> ends up using offset <code>$06</code>\nin the lookup table!</p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_SingleBlock_NotLadderStandable\n\n\t<span class=\"token opcode property\">LDA</span> ObjectTypeAXthruFX\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_SingleBlock_NotLadderStandable\n\n\t<span class=\"token opcode property\">INX</span>\n\nCreateObject_SingleBlock_NotLadderStandable:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>","line":1578},{"comment":"World 7 gets its own lookup table for climbable chains instead of vines","content":"\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE CreateObject_SingleBlock_NotWorld7\n\nCreateObject_SingleBlock_World7:\n\tLDA World7SingleBlocks, X\n\tJMP CreateObject_SingleBlock_Exit\n\nCreateObject_SingleBlock_NotWorld7:\n\tLDA World1thru6SingleBlocks, X\n\nCreateObject_SingleBlock_Exit:\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>World 7 gets its own lookup table for climbable chains instead of vines</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_SingleBlock_NotWorld<span class=\"token decimalnumber string\">7</span>\n\nCreateObject_SingleBlock_World<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">LDA</span> World<span class=\"token decimalnumber string\">7</span>SingleBlocks, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_SingleBlock_Exit\n\nCreateObject_SingleBlock_NotWorld<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">LDA</span> World<span class=\"token decimalnumber string\">1</span>thru<span class=\"token decimalnumber string\">6</span>SingleBlocks, <span class=\"token register variable\">X</span>\n\nCreateObject_SingleBlock_Exit:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1589},{"comment":"\nHorizontal platform lookup tables. Choose between logs and clouds.\n","content":"HorizontalPlatformLeftTiles:\n\t.db BackgroundTile_LogLeft\n\t.db BackgroundTile_CloudLeft\nHorizontalPlatformMiddleTiles:\n\t.db BackgroundTile_LogMiddle\n\t.db BackgroundTile_CloudMiddle\nHorizontalPlatformRightTiles:\n\t.db BackgroundTile_LogRight\n\t.db BackgroundTile_CloudRight\n","htmlComment":"<p>Horizontal platform lookup tables. Choose between logs and clouds.</p>\n","htmlContent":"HorizontalPlatformLeftTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudLeft\nHorizontalPlatformMiddleTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudMiddle\nHorizontalPlatformRightTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudRight\n","line":1608},{"comment":"\nCreates a horizontal platform with special tiles for the endcaps.\n\nThe log platforms and jump-through cloud platforms both use this.\n","content":"CreateObject_HorizontalPlatform:\n\tLDA CurrentWorldTileset\n\tCMP #$04\n\tBNE CreateObject_HorizontalPlatform_NotWorld5\n","htmlComment":"<p>Creates a horizontal platform with special tiles for the endcaps.</p>\n<p>The log platforms and jump-through cloud platforms both use this.</p>\n","htmlContent":"CreateObject_HorizontalPlatform:\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_HorizontalPlatform_NotWorld<span class=\"token decimalnumber string\">5</span>\n","line":1623},{"comment":"In World 5, we want to do some special stuff to make the logs look like\nbranches coming out of the tree trunk background.","content":"\tJMP CreateObject_HorizontalPlatform_World5\n\nCreateObject_HorizontalPlatform_NotWorld5:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tLDA HorizontalPlatformLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_HorizontalPlatform_Exit\n\nCreateObject_HorizontalPlatform_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA HorizontalPlatformMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_HorizontalPlatform_Loop\n\nCreateObject_HorizontalPlatform_Exit:\n\tJSR IncrementAreaXOffset\n\n\tLDA HorizontalPlatformRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>In World 5, we want to do some special stuff to make the logs look like\nbranches coming out of the tree trunk background.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JMP</span> CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>\n\nCreateObject_HorizontalPlatform_NotWorld<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> HorizontalPlatformLeftTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_HorizontalPlatform_Exit\n\nCreateObject_HorizontalPlatform_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> HorizontalPlatformMiddleTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BNE</span> CreateObject_HorizontalPlatform_Loop\n\nCreateObject_HorizontalPlatform_Exit:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> HorizontalPlatformRightTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1630},{"comment":"\nLookup table for the big green platforms.\n","content":"GreenPlatformTiles:\n\t.db BackgroundTile_GreenPlatformTopLeft\n\t.db BackgroundTile_GreenPlatformTop\n\t.db BackgroundTile_GreenPlatformTopRight\n\t.db BackgroundTile_GreenPlatformLeft\n\t.db BackgroundTile_GreenPlatformMiddle\n\t.db BackgroundTile_GreenPlatformRight\n","htmlComment":"<p>Lookup table for the big green platforms.</p>\n","htmlContent":"GreenPlatformTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformRight\n","line":1662},{"comment":"These are the background tiles that the green platforms are allowed to overwrite.\nAny other tiles will stop the green platform from extending to the bottom of the page.","content":"GreenPlatformOverwriteTiles:\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_WaterfallTop\n\t.db BackgroundTile_Waterfall\nIFDEF LEVEL_ENGINE_UPGRADES\n\t.db BackgroundTile_WaterfallSplash\n\t.db BackgroundTile_Water\n\t.db BackgroundTile_WaterTop\nENDIF\nGreenPlatformTiles_End:\n\n\nIFNDEF ENABLE_LEVEL_OBJECT_MODE","htmlComment":"<p>These are the background tiles that the green platforms are allowed to overwrite.\nAny other tiles will stop the green platform from extending to the bottom of the page.</p>\n","htmlContent":"GreenPlatformOverwriteTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterfallTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Waterfall\nIFDEF LEVEL_ENGINE_UPGRADES\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterfallSplash\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Water\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterTop\nENDIF\nGreenPlatformTiles_End:\n\n\nIFNDEF ENABLE_LEVEL_OBJECT_MODE","line":1672},{"comment":"\nDraws the typical green hill platforms in Worlds 1 through 6 or the mushroom\nhouse platforms in World 7.\n","content":"CreateObject_JumpthroughPlatform:\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE CreateObject_GreenJumpthroughPlatform\n\n\tJMP CreateObject_MushroomJumpthroughPlatform\nELSE\nCreateObject_Platform_CX:\n\tLDA LevelObjectMode\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_GreenJumpthroughPlatform\n\t.dw CreateObject_GreenJumpthroughPlatform\n\t.dw CreateObject_Whale\n\t.dw CreateObject_MushroomJumpthroughPlatform\nENDIF\n\n","htmlComment":"<p>Draws the typical green hill platforms in Worlds 1 through 6 or the mushroom\nhouse platforms in World 7.</p>\n","htmlContent":"CreateObject_JumpthroughPlatform:\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_GreenJumpthroughPlatform\n\n\t<span class=\"token opcode property\">JMP</span> CreateObject_MushroomJumpthroughPlatform\nELSE\nCreateObject_Platform_CX:\n\t<span class=\"token opcode property\">LDA</span> LevelObjectMode\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_GreenJumpthroughPlatform\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_GreenJumpthroughPlatform\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Whale\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_MushroomJumpthroughPlatform\nENDIF\n\n","line":1689},{"comment":"\n#### Green platforms\n\nCreates the typical (usually) green hill platforms used throughout World 1 through 6.\n\nThese platforms are allowed to overlap each other, but typically appear behind other tiles that\nare already present in the area.\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n- `byte_RAM_E8`: area page\n- `byte_RAM_50D`: width of platform\n","content":"CreateObject_GreenJumpthroughPlatform:","htmlComment":"<h4>Green platforms</h4>\n<p>Creates the typical (usually) green hill platforms used throughout World 1 through 6.</p>\n<p>These platforms are allowed to overlap each other, but typically appear behind other tiles that\nare already present in the area.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n<li><code>byte_RAM_E8</code>: area page</li>\n<li><code>byte_RAM_50D</code>: width of platform</li>\n</ul>\n","htmlContent":"CreateObject_GreenJumpthroughPlatform:","line":1720},{"comment":"Start with a top-left tile.","content":"\tLDX #$00\n\nCreateObject_GreenJumpthroughPlatform_Row:\n\tSTX byte_RAM_B","htmlComment":"<p>Start with a top-left tile.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\nCreateObject_GreenJumpthroughPlatform_Row:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_B","line":1722},{"comment":"Update the area page.","content":"\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n","htmlComment":"<p>Update the area page.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n","line":1727},{"comment":"These two lines seem like leftovers.","content":"\tLDX #$05\n\tLDY byte_RAM_E7\n","htmlComment":"<p>These two lines seem like leftovers.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n","line":1731},{"comment":"Draw a left corner or side.","content":"\tLDX byte_RAM_B\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tJSR CreateObject_GreenJumpthroughPlatformTile\n","htmlComment":"<p>Draw a left corner or side.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> byte_RAM_B\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> CreateObject_GreenJumpthroughPlatformTile\n","line":1735},{"comment":"Skip to the right side if we're drawing a short platform.","content":"\tINX\n\tLDA byte_RAM_7\n\tBEQ CreateObject_GreenJumpthroughPlatform_Right\n","htmlComment":"<p>Skip to the right side if we're drawing a short platform.</p>\n","htmlContent":"\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_GreenJumpthroughPlatform_Right\n","line":1742},{"comment":"Draw top or middle tiles.","content":"CreateObject_GreenJumpthroughPlatform_Loop:\n\tJSR IncrementAreaXOffset\n\n\tJSR CreateObject_GreenJumpthroughPlatformTile\n\n\tBNE CreateObject_GreenJumpthroughPlatform_Loop\n","htmlComment":"<p>Draw top or middle tiles.</p>\n","htmlContent":"CreateObject_GreenJumpthroughPlatform_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">JSR</span> CreateObject_GreenJumpthroughPlatformTile\n\n\t<span class=\"token opcode property\">BNE</span> CreateObject_GreenJumpthroughPlatform_Loop\n","line":1747},{"comment":"Draw right corner or side.","content":"CreateObject_GreenJumpthroughPlatform_Right:\n\tJSR IncrementAreaXOffset\n\n\tINX\n\tJSR CreateObject_GreenJumpthroughPlatformTile\n","htmlComment":"<p>Draw right corner or side.</p>\n","htmlContent":"CreateObject_GreenJumpthroughPlatform_Right:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">JSR</span> CreateObject_GreenJumpthroughPlatformTile\n","line":1755},{"comment":"Exit if we've hit the bottom of the page.","content":"\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_GreenJumpthroughPlatform_Exit\n","htmlComment":"<p>Exit if we've hit the bottom of the page.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCS</span> CreateObject_GreenJumpthroughPlatform_Exit\n","line":1762},{"comment":"Drawing a left side tile next.","content":"\tLDX #$03\n\tSTA byte_RAM_E7\n\tJMP CreateObject_GreenJumpthroughPlatform_Row\n\nCreateObject_GreenJumpthroughPlatform_Exit:\n\tRTS\n\n","htmlComment":"<p>Drawing a left side tile next.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_GreenJumpthroughPlatform_Row\n\nCreateObject_GreenJumpthroughPlatform_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1769},{"comment":"\nLookup table for green platform overlap tiles.\n\nWhen drawing the top of a green platform, if the destination tile matches the compare tile, the\ncorresponding left or right overlap tile will be drawn instead.\n","content":"GreenPlatformOverlapCompareTiles:\n\t.db BackgroundTile_GreenPlatformLeft\n\t.db BackgroundTile_GreenPlatformMiddle\n\t.db BackgroundTile_GreenPlatformRight\n\nGreenPlatformOverlapLeftTiles:\n\t.db BackgroundTile_GreenPlatformTopLeftOverlapEdge\n\t.db BackgroundTile_GreenPlatformTopLeftOverlap\n\t.db BackgroundTile_GreenPlatformTopLeftOverlap\n\nGreenPlatformOverlapRightTiles:\n\t.db BackgroundTile_GreenPlatformTopRightOverlap\n\t.db BackgroundTile_GreenPlatformTopRightOverlap\n\t.db BackgroundTile_GreenPlatformTopRightOverlapEdge\n\n","htmlComment":"<p>Lookup table for green platform overlap tiles.</p>\n<p>When drawing the top of a green platform, if the destination tile matches the compare tile, the\ncorresponding left or right overlap tile will be drawn instead.</p>\n","htmlContent":"GreenPlatformOverlapCompareTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformRight\n\nGreenPlatformOverlapLeftTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopLeftOverlapEdge\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopLeftOverlap\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopLeftOverlap\n\nGreenPlatformOverlapRightTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopRightOverlap\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopRightOverlap\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GreenPlatformTopRightOverlapEdge\n\n","line":1783},{"comment":"\nDraws a single tile of the green platform, taking into account the existing tile at the target.\n\n##### Input\n- `X`: offset in `GreenPlatformTiles` table (0-2=top, 3-5=middle)\n- `Y`: raw data offset\n","content":"CreateObject_GreenJumpthroughPlatformTile:\n\tSTX byte_RAM_8\n\tTXA\n\tBNE CreateObject_GreenJumpthroughPlatformTile_NotTopLeft\n","htmlComment":"<p>Draws a single tile of the green platform, taking into account the existing tile at the target.</p>\n<h5>Input</h5>\n<ul>\n<li><code>X</code>: offset in <code>GreenPlatformTiles</code> table (0-2=top, 3-5=middle)</li>\n<li><code>Y</code>: raw data offset</li>\n</ul>\n","htmlContent":"CreateObject_GreenJumpthroughPlatformTile:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_GreenJumpthroughPlatformTile_NotTopLeft\n","line":1806},{"comment":"Check if the top left corner requires a special tile","content":"\tLDX #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - 1)\n\tLDA (byte_RAM_1), Y\n\nCreateObject_GreenJumpthroughPlatformTile_TopLeftLoop:\n\tCMP GreenPlatformOverlapCompareTiles, X\n\tBEQ CreateObject_GreenJumpthroughPlatformTile_TopLeftMatch\n\n\tDEX\n\tBPL CreateObject_GreenJumpthroughPlatformTile_TopLeftLoop\n\n\tBMI CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\nCreateObject_GreenJumpthroughPlatformTile_TopLeftMatch:\n\tLDA GreenPlatformOverlapLeftTiles, X\n\tBNE CreateObject_GreenJumpthroughPlatformTile_SetTile\n\nCreateObject_GreenJumpthroughPlatformTile_NotTopLeft:\n\tLDX byte_RAM_8\n\tCPX #$02\n\tBNE CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n","htmlComment":"<p>Check if the top left corner requires a special tile</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - <span class=\"token decimalnumber string\">1</span>)\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_GreenJumpthroughPlatformTile_TopLeftLoop:\n\t<span class=\"token opcode property\">CMP</span> GreenPlatformOverlapCompareTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_GreenJumpthroughPlatformTile_TopLeftMatch\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_GreenJumpthroughPlatformTile_TopLeftLoop\n\n\t<span class=\"token opcode property\">BMI</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\nCreateObject_GreenJumpthroughPlatformTile_TopLeftMatch:\n\t<span class=\"token opcode property\">LDA</span> GreenPlatformOverlapLeftTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_GreenJumpthroughPlatformTile_SetTile\n\nCreateObject_GreenJumpthroughPlatformTile_NotTopLeft:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n","line":1812},{"comment":"Check if the top right corner requires a special tile","content":"\tLDX #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - 1)\n\tLDA (byte_RAM_1), Y\n\nCreateObject_GreenJumpthroughPlatformTile_TopRightLoop:\n\tCMP GreenPlatformOverlapCompareTiles, X\n\tBEQ CreateObject_GreenJumpthroughPlatformTile_TopRightMatch\n\n\tDEX\n\tBPL CreateObject_GreenJumpthroughPlatformTile_TopRightLoop\n\n\tBMI CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\nCreateObject_GreenJumpthroughPlatformTile_TopRightMatch:\n\tLDA GreenPlatformOverlapRightTiles, X\n\tBNE CreateObject_GreenJumpthroughPlatformTile_SetTile\n","htmlComment":"<p>Check if the top right corner requires a special tile</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> #(GreenPlatformOverlapLeftTiles - GreenPlatformOverlapCompareTiles - <span class=\"token decimalnumber string\">1</span>)\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_GreenJumpthroughPlatformTile_TopRightLoop:\n\t<span class=\"token opcode property\">CMP</span> GreenPlatformOverlapCompareTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_GreenJumpthroughPlatformTile_TopRightMatch\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_GreenJumpthroughPlatformTile_TopRightLoop\n\n\t<span class=\"token opcode property\">BMI</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite\n\nCreateObject_GreenJumpthroughPlatformTile_TopRightMatch:\n\t<span class=\"token opcode property\">LDA</span> GreenPlatformOverlapRightTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_GreenJumpthroughPlatformTile_SetTile\n","line":1834},{"comment":"Check if the target tile can be overwritten by a green platform","content":"CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite:\n\tLDX #(GreenPlatformTiles_End - GreenPlatformTiles - 1)\n\nCreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop:\n\tLDA (byte_RAM_1), Y\n\tCMP GreenPlatformTiles, X\n\tBEQ CreateObject_GreenJumpthroughPlatformTile_Overwrite\n\n\tDEX\n\tBPL CreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop\n","htmlComment":"<p>Check if the target tile can be overwritten by a green platform</p>\n","htmlContent":"CreateObject_GreenJumpthroughPlatformTile_CheckOverwrite:\n\t<span class=\"token opcode property\">LDX</span> #(GreenPlatformTiles_End - GreenPlatformTiles - <span class=\"token decimalnumber string\">1</span>)\n\nCreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> GreenPlatformTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_GreenJumpthroughPlatformTile_Overwrite\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_GreenJumpthroughPlatformTile_CheckOverwriteLoop\n","line":1851},{"comment":"Otherwise, we cannot overwrite this tile with a green platform.","content":"\tLDX byte_RAM_8\n\tJMP CreateObject_GreenJumpthroughPlatformTile_Exit\n\nCreateObject_GreenJumpthroughPlatformTile_Overwrite:\n\tLDX byte_RAM_8\n\tLDA GreenPlatformTiles, X\n\nCreateObject_GreenJumpthroughPlatformTile_SetTile:\n\tSTA (byte_RAM_1), Y\n\nCreateObject_GreenJumpthroughPlatformTile_Exit:\n\tLDX byte_RAM_8\n\tDEC byte_RAM_7\n\tRTS\n\n","htmlComment":"<p>Otherwise, we cannot overwrite this tile with a green platform.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_GreenJumpthroughPlatformTile_Exit\n\nCreateObject_GreenJumpthroughPlatformTile_Overwrite:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> GreenPlatformTiles, <span class=\"token register variable\">X</span>\n\nCreateObject_GreenJumpthroughPlatformTile_SetTile:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_GreenJumpthroughPlatformTile_Exit:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1863},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":1879},{"comment":"\nLookup table for tall objects that extend to the ground.\n","content":"TallObjectTopTiles:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_PalmTreeTop\n\nTallObjectBottomTiles:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_PalmTreeTrunk\n\n","htmlComment":"<p>Lookup table for tall objects that extend to the ground.</p>\n","htmlContent":"TallObjectTopTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LightDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTop\n\nTallObjectBottomTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LightDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTrunk\n\n","line":1884},{"comment":"\n#### Tall objects\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n- `byte_RAM_50E`: type of object to create (lower nybble of level object minus 5)\n\nCreates a tree or light door object that extends down until it hits another tile.\n","content":"CreateObject_Tall:\n\tLDA CurrentWorldTileset\n\tCMP #$04\n\tBNE CreateObject_Tall_NotWorld5\n\tJMP CreateObject_Tall_World5\n\nCreateObject_Tall_NotWorld5:\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$05\n\tSTA byte_RAM_7\n\tTAX\n\tLDY byte_RAM_E7\n\tLDA TallObjectTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Tall_NotWorld5_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Tall_NotWorld5_Exit\n\n\tLDX byte_RAM_7\n\tLDA TallObjectBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\tBNE CreateObject_Tall_NotWorld5_Loop\n\nCreateObject_Tall_NotWorld5_Exit:\n\tRTS\n\n","htmlComment":"<h4>Tall objects</h4>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n<li><code>byte_RAM_50E</code>: type of object to create (lower nybble of level object minus 5)</li>\n</ul>\n<p>Creates a tree or light door object that extends down until it hits another tile.</p>\n","htmlContent":"CreateObject_Tall:\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Tall_NotWorld<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>\n\nCreateObject_Tall_NotWorld<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> TallObjectTopTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_Tall_NotWorld<span class=\"token decimalnumber string\">5</span>_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Tall_NotWorld<span class=\"token decimalnumber string\">5</span>_Exit\n\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> TallObjectBottomTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Tall_NotWorld<span class=\"token decimalnumber string\">5</span>_Loop\n\nCreateObject_Tall_NotWorld<span class=\"token decimalnumber string\">5</span>_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1902},{"comment":"\nLookup table for tall objects that extend to the ground in World 5.\n","content":"World5TallObjectTopTiles:\n\t.db BackgroundTile_PalmTreeTop\n\t.db BackgroundTile_PalmTreeTop\n\nWorld5TallObjectBottomTiles:\n\t.db BackgroundTile_PalmTreeTrunk\n\t.db BackgroundTile_PalmTreeTrunk\n\n","htmlComment":"<p>Lookup table for tall objects that extend to the ground in World 5.</p>\n","htmlContent":"World<span class=\"token decimalnumber string\">5</span>TallObjectTopTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTop\n\nWorld<span class=\"token decimalnumber string\">5</span>TallObjectBottomTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTrunk\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTrunk\n\n","line":1937},{"comment":"\n##### Tall objects (World 5)\n\nOther than the fact that this only renders palm trees and not doors, the only practical difference\nin this subroutine is that it will stop at the bottom of the screen if it doesn't encounter\nanother tile beforehand.\n\nThis appears to be a work-around for the palm trees in 5-2 that have vertical\nrock platforms beneath them. Since the rock comes later, tree trunk tiles would\nrender all the way down to the screen and through to the next page!\n\nUsing a new object layer would have achieved the same effect, but the\ndeveloper decided to create this special case instead.\n","content":"CreateObject_Tall_World5:\n\tLDX #$00\n\tLDA byte_RAM_50E\n\tCMP #$05\n\tBEQ CreateObject_Tall_World5_DoLookup\n\n\tINX\n\nCreateObject_Tall_World5_DoLookup:\n\tSTX byte_RAM_7\n\tLDY byte_RAM_E7\n\tLDA World5TallObjectTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Tall_World5_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Tall_World5_Exit\n\n\tLDX byte_RAM_7\n\tLDA World5TallObjectBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\tCPY #$E0\n\tBCC CreateObject_Tall_World5_Loop\n\nCreateObject_Tall_World5_Exit:\n\tRTS\n","htmlComment":"<h5>Tall objects (World 5)</h5>\n<p>Other than the fact that this only renders palm trees and not doors, the only practical difference\nin this subroutine is that it will stop at the bottom of the screen if it doesn't encounter\nanother tile beforehand.</p>\n<p>This appears to be a work-around for the palm trees in 5-2 that have vertical\nrock platforms beneath them. Since the rock comes later, tree trunk tiles would\nrender all the way down to the screen and through to the next page!</p>\n<p>Using a new object layer would have achieved the same effect, but the\ndeveloper decided to create this special case instead.</p>\n","htmlContent":"CreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>_DoLookup\n\n\t<span class=\"token opcode property\">INX</span>\n\nCreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>_DoLookup:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> World<span class=\"token decimalnumber string\">5</span>TallObjectTopTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>_Exit\n\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> World<span class=\"token decimalnumber string\">5</span>TallObjectBottomTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$E0</span>\n\t<span class=\"token opcode property\">BCC</span> CreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>_Loop\n\nCreateObject_Tall_World<span class=\"token decimalnumber string\">5</span>_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n","line":1960},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":1991},{"comment":"\nCreates the larger, two-tile-wide big cloud.\n","content":"CreateObject_BigCloud:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_BgCloudLeft\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_BgCloudRight\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>Creates the larger, two-tile-wide big cloud.</p>\n","htmlContent":"CreateObject_BigCloud:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_BgCloudLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_BgCloudRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1995},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":2005},{"comment":"\nCreates a tiny, single-tile cloud.\n","content":"CreateObject_SmallCloud:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_BgCloudSmall\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n","htmlComment":"<p>Creates a tiny, single-tile cloud.</p>\n","htmlContent":"CreateObject_SmallCloud:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_BgCloudSmall\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":2010},{"comment":"-----","content":"JarTopTiles:\n\t.db BackgroundTile_JarTopPointer\n\t.db BackgroundTile_JarTopGeneric\n\t.db BackgroundTile_JarTopNonEnterable\n\n\nCreateObject_Vase:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$06\n\tTAX\n\tLDA JarTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Vase_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Vase_Exit\n\n\tLDA #BackgroundTile_JarMiddle\n\tSTA (byte_RAM_1), Y\n\tJMP CreateObject_Vase_Loop\n\nCreateObject_Vase_Exit:\n\tTYA\n\tSEC\n\tSBC #$10\n\tTAY\n\tLDA #BackgroundTile_JarBottom\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\nCreateObject_Vine:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tCMP #$0D\n\tBEQ loc_BANK6_8CFD\n\n\tLDA #BackgroundTile_VineTop\n\tSTA (byte_RAM_1), Y\n\nloc_BANK6_8CFA:\n\tJSR IncrementAreaYOffset\n\nloc_BANK6_8CFD:\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE locret_BANK6_8D12\n\n\tLDA #BackgroundTile_Vine\n\tSTA (byte_RAM_1), Y\n\tLDA IsHorizontalLevel\n\tBEQ loc_BANK6_8D0F\n\nloc_BANK6_8D0B:\n\tCPY #$E0\n\tBCS locret_BANK6_8D12\n\nloc_BANK6_8D0F:\n\tJMP loc_BANK6_8CFA\n\n","htmlComment":"<hr>\n","htmlContent":"JarTopTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_JarTopPointer\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_JarTopGeneric\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_JarTopNonEnterable\n\n\nCreateObject_Vase:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> JarTopTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_Vase_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Vase_Exit\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_JarMiddle\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_Vase_Loop\n\nCreateObject_Vase_Exit:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_JarBottom\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nCreateObject_Vine:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$0D</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>CFD\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_VineTop\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>CFA:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>CFD:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> locret_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">12</span>\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_Vine\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BEQ</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">0</span>F\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">0</span>B:\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$E0</span>\n\t<span class=\"token opcode property\">BCS</span> locret_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">12</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">0</span>F:\n\t<span class=\"token opcode property\">JMP</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>CFA\n\n","line":2017},{"comment":"---------------------------------------------------------------------------","content":"locret_BANK6_8D12:\n\tRTS\n\n","htmlComment":"<hr>\n","htmlContent":"locret_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">12</span>:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2085},{"comment":"---------------------------------------------------------------------------","content":"CreateObject_VineBottom:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_VineBottom\n\tSTA (byte_RAM_1), Y\n\nloc_BANK6_8D19:\n\tTYA\n\tSEC\n\tSBC #$10\n\tTAY\n\tCMP #$F0\n\tBCS locret_BANK6_8D2F\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE locret_BANK6_8D2F\n\n\tLDA #BackgroundTile_Vine\n\tSTA (byte_RAM_1), Y\n\tJMP loc_BANK6_8D19\n\nlocret_BANK6_8D2F:\n\tRTS\n\nSingleObjects:\n\t.db BackgroundTile_GrassCoin ; $20\n\t.db BackgroundTile_GrassLargeVeggie ; $21\n\t.db BackgroundTile_GrassSmallVeggie ; $22\n\t.db BackgroundTile_GrassRocket ; $23\n\t.db BackgroundTile_GrassShell ; $24\n\t.db BackgroundTile_GrassBomb ; $25\n\t.db BackgroundTile_GrassPotion ; $26\n\t.db BackgroundTile_Grass1UP ; $27\n\t.db BackgroundTile_GrassPow ; $28\n\t.db BackgroundTile_Cherry ; $29\n\t.db BackgroundTile_GrassBobOmb ; $2A\n\t.db BackgroundTile_SubspaceMushroom1 ; $2B\n\t.db BackgroundTile_Phanto ; $2C\n\t.db BackgroundTile_SubspaceMushroom2 ; $2D\n\t.db BackgroundTile_WhaleEye ; $2E","htmlComment":"<hr>\n","htmlContent":"CreateObject_VineBottom:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_VineBottom\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">19</span>:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCS</span> locret_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">2</span>F\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> locret_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">2</span>F\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_Vine\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JMP</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">19</span>\n\nlocret_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">2</span>F:\n\t<span class=\"token opcode property\">RTS</span>\n\nSingleObjects:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassCoin <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassLargeVeggie <span class=\"token comment\">; $21</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassSmallVeggie <span class=\"token comment\">; $22</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassRocket <span class=\"token comment\">; $23</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassShell <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassBomb <span class=\"token comment\">; $25</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassPotion <span class=\"token comment\">; $26</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Grass<span class=\"token decimalnumber string\">1</span>UP <span class=\"token comment\">; $27</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassPow <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Cherry <span class=\"token comment\">; $29</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GrassBobOmb <span class=\"token comment\">; $2A</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_SubspaceMushroom<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $2B</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Phanto <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_SubspaceMushroom<span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; $2D</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WhaleEye <span class=\"token comment\">; $2E</span>","line":2090},{"comment":"No entry for $2F in this table, so it uses tile $A4 due to the LDY below","content":"IFDEF EXPAND_TABLES\n\t.db BackgroundTile_SolidWood ; $2F\nENDIF\n\nCreateObject_SingleObject:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_50E\n\tLDA SingleObjects, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\nWorld1thru6BrickWallTiles:\n\t.db BackgroundTile_BackgroundBrick\n\t.db BackgroundTile_SolidBrick2Wall\n\nWorld7BrickWallTiles:\n\t.db BackgroundTile_GroundBrick2\n\t.db BackgroundTile_GroundBrick2\n\n\nCreateObject_Wall:\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$08\n\tSTA byte_RAM_8\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA #$05\n\tSTA byte_RAM_7\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Wall_Exit\n\nloc_BANK6_8D69:\n\tLDX byte_RAM_8\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE loc_BANK6_8D78\n\n\tLDA World7BrickWallTiles, X\n\tJMP loc_BANK6_8D7B\n\nloc_BANK6_8D78:\n\tLDA World1thru6BrickWallTiles, X\n\nloc_BANK6_8D7B:\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL loc_BANK6_8D69\n\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_Wall_Exit\n\n\tSTA byte_RAM_E7\n\tJMP CreateObject_Wall\n\nCreateObject_Wall_Exit:\n\tRTS\n\n\nWaterfallTiles:\n\t.db BackgroundTile_WaterfallTop\n\t.db BackgroundTile_Waterfall\n\n\nCreateObject_WaterfallOrFrozenRocks:\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n\tLDA CurrentWorldTileset\n\tCMP #$03\n\tBNE CreateObject_Waterfall\n\n\tJMP CreateObject_FrozenRocks\nENDIF\n\nCreateObject_Waterfall:\n\tLDA #$00\n\tSTA byte_RAM_8\n\nCreateObject_Waterfall_OuterLoop:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDX byte_RAM_8\n\nCreateObject_Waterfall_InnerLoop:\n\tLDA WaterfallTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL CreateObject_Waterfall_InnerLoop\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_Waterfall_Exit\n\n\tSTA byte_RAM_E7\n\tJMP CreateObject_Waterfall_OuterLoop\n\nCreateObject_Waterfall_Exit:\n\tRTS\n\n\nIFDEF ENABLE_LEVEL_OBJECT_MODE\nWaterTiles:\n\t.db BackgroundTile_WaterTop\n\t.db BackgroundTile_Water\n\nCreateObject_Water:\n\tLDA #$00\n\tSTA byte_RAM_8\n\nCreateObject_Water_OuterLoop:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDX byte_RAM_8\n\nCreateObject_Water_InnerLoop:\n\tLDA WaterTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL CreateObject_Water_InnerLoop\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$F0\n\tBCS CreateObject_Water_Exit\n\n\tSTA byte_RAM_E7\n\tJMP CreateObject_Water_OuterLoop\n\nCreateObject_Water_Exit:\n\tRTS\nENDIF\n\nCreateObject_Pyramid:\n\tLDY byte_RAM_E7\n\tLDA #$00\n\tSTA byte_RAM_8\n\nloc_BANK6_8DD8:\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBEQ loc_BANK6_8DDF\n\n\tRTS\n\n","htmlComment":"<p>No entry for $2F in this table, so it uses tile $A4 due to the LDY below</p>\n","htmlContent":"IFDEF EXPAND_TABLES\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_SolidWood <span class=\"token comment\">; $2F</span>\nENDIF\n\nCreateObject_SingleObject:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">LDA</span> SingleObjects, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nWorld<span class=\"token decimalnumber string\">1</span>thru<span class=\"token decimalnumber string\">6</span>BrickWallTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_BackgroundBrick\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_SolidBrick<span class=\"token decimalnumber string\">2</span>Wall\n\nWorld<span class=\"token decimalnumber string\">7</span>BrickWallTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GroundBrick<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_GroundBrick<span class=\"token decimalnumber string\">2</span>\n\n\nCreateObject_Wall:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Wall_Exit\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">69</span>:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">78</span>\n\n\t<span class=\"token opcode property\">LDA</span> World<span class=\"token decimalnumber string\">7</span>BrickWallTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">JMP</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">7</span>B\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">78</span>:\n\t<span class=\"token opcode property\">LDA</span> World<span class=\"token decimalnumber string\">1</span>thru<span class=\"token decimalnumber string\">6</span>BrickWallTiles, <span class=\"token register variable\">X</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">7</span>B:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">69</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCS</span> CreateObject_Wall_Exit\n\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_Wall\n\nCreateObject_Wall_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n\nWaterfallTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterfallTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Waterfall\n\n\nCreateObject_WaterfallOrFrozenRocks:\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Waterfall\n\n\t<span class=\"token opcode property\">JMP</span> CreateObject_FrozenRocks\nENDIF\n\nCreateObject_Waterfall:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nCreateObject_Waterfall_OuterLoop:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nCreateObject_Waterfall_InnerLoop:\n\t<span class=\"token opcode property\">LDA</span> WaterfallTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_Waterfall_InnerLoop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCS</span> CreateObject_Waterfall_Exit\n\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_Waterfall_OuterLoop\n\nCreateObject_Waterfall_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n\nIFDEF ENABLE_LEVEL_OBJECT_MODE\nWaterTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Water\n\nCreateObject_Water:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nCreateObject_Water_OuterLoop:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nCreateObject_Water_InnerLoop:\n\t<span class=\"token opcode property\">LDA</span> WaterTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_Water_InnerLoop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCS</span> CreateObject_Water_Exit\n\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_Water_OuterLoop\n\nCreateObject_Water_Exit:\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\nCreateObject_Pyramid:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DD<span class=\"token decimalnumber string\">8</span>:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BEQ</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DDF\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2132},{"comment":"---------------------------------------------------------------------------","content":"loc_BANK6_8DDF:\n\tLDA #BackgroundTile_PyramidLeftAngle\n\tSTA (byte_RAM_1), Y\n\tLDX byte_RAM_8\n\tBEQ loc_BANK6_8DF9\n\nloc_BANK6_8DE7:\n\tINY\n\tLDA #BackgroundTile_PyramidLeft\n\tSTA (byte_RAM_1), Y\n\tDEX\n\tBNE loc_BANK6_8DE7\n\n\tLDX byte_RAM_8\n\nloc_BANK6_8DF1:\n\tINY\n\tLDA #BackgroundTile_PyramidRight\n\tSTA (byte_RAM_1), Y\n\tDEX\n\tBNE loc_BANK6_8DF1\n\nloc_BANK6_8DF9:\n\tINY\n\tLDA #BackgroundTile_PyramidRightAngle\n\tSTA (byte_RAM_1), Y\n\tINC byte_RAM_8\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tSEC\n\tSBC byte_RAM_8\n\tTAY\n\tJMP loc_BANK6_8DD8\n","htmlComment":"<hr>\n","htmlContent":"loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DDF:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_PyramidLeftAngle\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DF<span class=\"token decimalnumber string\">9</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DE<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_PyramidLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DE<span class=\"token decimalnumber string\">7</span>\n\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DF<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_PyramidRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DF<span class=\"token decimalnumber string\">1</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DF<span class=\"token decimalnumber string\">9</span>:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_PyramidRightAngle\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">JMP</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>DD<span class=\"token decimalnumber string\">8</span>\n","line":2307},{"comment":"Not referenced, maybe unused...?","content":"\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_CactusTop\n\tSTA (byte_RAM_1), Y\n\nloc_BANK6_8E14:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBEQ loc_BANK6_8E1E\n\n\tRTS\n\n","htmlComment":"<p>Not referenced, maybe unused...?</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_CactusTop\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">14</span>:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BEQ</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">1</span>E\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2345},{"comment":"---------------------------------------------------------------------------","content":"loc_BANK6_8E1E:\n\tLDA #BackgroundTile_CactusMiddle\n\tSTA (byte_RAM_1), Y\n\tBNE loc_BANK6_8E14\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">1</span>E:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_CactusMiddle\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">14</span>\n\n","line":2359},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANK6_8E24:\n\tLDA byte_RAM_9\n\tASL A\n\tASL A\n\tSEC\n\tADC byte_RAM_9\n\tSTA byte_RAM_9\n\tASL byte_RAM_A\n\tLDA #$20\n\tBIT byte_RAM_A\n\tBCS loc_BANK6_8E39\n\n\tBNE loc_BANK6_8E3B\n\n\tBEQ loc_BANK6_8E3D\n\nloc_BANK6_8E39:\n\tBNE loc_BANK6_8E3D\n\nloc_BANK6_8E3B:\n\tINC byte_RAM_A\n\nloc_BANK6_8E3D:\n\tLDA byte_RAM_A\n\tEOR byte_RAM_9\n\tRTS\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">24</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">ASL</span> byte_RAM_A\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$20</span>\n\t<span class=\"token opcode property\">BIT</span> byte_RAM_A\n\t<span class=\"token opcode property\">BCS</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">39</span>\n\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">3</span>B\n\n\t<span class=\"token opcode property\">BEQ</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">3</span>D\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">39</span>:\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">3</span>D\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">3</span>B:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_A\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">3</span>D:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_A\n\t<span class=\"token opcode property\">EOR</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2366},{"comment":"End of function sub_BANK6_8E24","content":"StarBackgroundTiles:\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_StarBg1\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_Sky\n\t.db BackgroundTile_StarBg2\n\t.db BackgroundTile_Sky\n\nCreateObject_StarBackground:\n\tLDA byte_RAM_E8\n\tSTA byte_RAM_D\n\tLDA #$80\n\tSTA byte_RAM_A\n\tLDA #$31\n\tSTA byte_RAM_9\n\nCreateObject_StarBackground_Loop:\n\tJSR sub_BANK6_8E24\n\n\tAND #$07\n\tTAX\n\tLDA StarBackgroundTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaYOffset\n\n\tCPY #$30\n\tBCC CreateObject_StarBackground_Loop\n\n\tTYA\n\tAND #$0F\n\tTAY\n\tJSR IncrementAreaXOffset\n\n\tLDA byte_RAM_D\n\tSTA byte_RAM_E8\n\tCMP #$A\n\tBNE CreateObject_StarBackground_Loop\n\n\tLDA #$00\n\tSTA byte_RAM_E8\n\tSTA byte_RAM_E6\n\tSTA byte_RAM_E5\n\tRTS\n\n","htmlComment":"<p>End of function sub_BANK6_8E24</p>\n","htmlContent":"StarBackgroundTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_StarBg<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_StarBg<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Sky\n\nCreateObject_StarBackground:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$80</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_A\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$31</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\nCreateObject_StarBackground_Loop:\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>E<span class=\"token decimalnumber string\">24</span>\n\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> StarBackgroundTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$30</span>\n\t<span class=\"token opcode property\">BCC</span> CreateObject_StarBackground_Loop\n\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">CMP</span> #$<span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_StarBackground_Loop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2395},{"comment":"\nLookup table for whale tiles.\n\nIt's unclear why there are entries for black background tiles and jumpthrough\ncloud platforms, but the mushroom houses table also has this.\n","content":"WhaleLeftTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudLeft\n\t.db BackgroundTile_WhaleTopLeft\n\t.db BackgroundTile_Whale\n\t.db BackgroundTile_WaterWhale\n\nWhaleMiddleTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudMiddle\n\t.db BackgroundTile_WhaleTop\n\t.db BackgroundTile_Whale\n\t.db BackgroundTile_WaterWhale\n\nWhaleRightTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudRight\n\t.db BackgroundTile_WhaleTopRight\n\t.db BackgroundTile_Whale\n\t.db BackgroundTile_WaterWhale\n\n","htmlComment":"<p>Lookup table for whale tiles.</p>\n<p>It's unclear why there are entries for black background tiles and jumpthrough\ncloud platforms, but the mushroom houses table also has this.</p>\n","htmlContent":"WhaleLeftTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Black\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WhaleTopLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Whale\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterWhale\n\nWhaleMiddleTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Black\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WhaleTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Whale\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterWhale\n\nWhaleRightTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Black\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WhaleTopRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Whale\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterWhale\n\n","line":2449},{"comment":"\nDraws a row of the whale\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n- `byte_RAM_50D`: width of house\n- `byte_RAM_50E`: offset in the tile lookup table plus `$0A`, for some reason\n","content":"CreateObject_WhaleRow:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tLDA WhaleLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_WhaleRow_Right\n\nCreateObject_WhaleRow_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA WhaleMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_WhaleRow_Loop\n\nCreateObject_WhaleRow_Right:\n\tJSR IncrementAreaXOffset\n\n\tLDA WhaleRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\nCreateObject_WhaleOrDrawBridgeChain:\n\tLDA CurrentWorldTileset\n\tCMP #$06\n\tBNE CreateObject_Whale\n\n\tJMP CreateObject_DrawBridgeChain\nELSE\nCreateObject_Platform_BX:\n\tLDA LevelObjectMode\n\tJSR JumpToTableAfterJump\n\n\t.dw CreateObject_Water\n\t.dw CreateObject_FrozenRocks\n\t.dw CreateObject_FrozenRocks\n\t.dw CreateObject_DrawBridgeChain\nENDIF\n","htmlComment":"<p>Draws a row of the whale</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n<li><code>byte_RAM_50D</code>: width of house</li>\n<li><code>byte_RAM_50E</code>: offset in the tile lookup table plus <code>$0A</code>, for some reason</li>\n</ul>\n","htmlContent":"CreateObject_WhaleRow:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> WhaleLeftTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_WhaleRow_Right\n\nCreateObject_WhaleRow_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> WhaleMiddleTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BNE</span> CreateObject_WhaleRow_Loop\n\nCreateObject_WhaleRow_Right:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> WhaleRightTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nIFNDEF ENABLE_LEVEL_OBJECT_MODE\nCreateObject_WhaleOrDrawBridgeChain:\n\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Whale\n\n\t<span class=\"token opcode property\">JMP</span> CreateObject_DrawBridgeChain\nELSE\nCreateObject_Platform_BX:\n\t<span class=\"token opcode property\">LDA</span> LevelObjectMode\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_Water\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_FrozenRocks\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_FrozenRocks\n\t<span class=\"token directive keyword\">.dw</span> CreateObject_DrawBridgeChain\nENDIF\n","line":2479},{"comment":"\nDraws a whale.\n\n##### Input\n- `byte_RAM_50D`: width of whale\n","content":"CreateObject_Whale:\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDA #$0C\n\tSTA byte_RAM_50E\n\tJSR CreateObject_WhaleRow\n\n\tINC byte_RAM_50E\n\nCreateObject_Whale_Loop:\n\tLDA byte_RAM_7\n\tSTA byte_RAM_50D\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tCMP #$B0","htmlComment":"<p>Draws a whale.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_50D</code>: width of whale</li>\n</ul>\n","htmlContent":"CreateObject_Whale:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0C</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">JSR</span> CreateObject_WhaleRow\n\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\nCreateObject_Whale_Loop:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$B0</span>","line":2530},{"comment":"This branch doesn't actually skip anything...","content":"\tBCC CreateObject_Whale_AboveWater\n\nCreateObject_Whale_AboveWater:\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tJSR CreateObject_WhaleRow\n","htmlComment":"<p>This branch doesn't actually skip anything...</p>\n","htmlContent":"\t<span class=\"token opcode property\">BCC</span> CreateObject_Whale_AboveWater\n\nCreateObject_Whale_AboveWater:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">JSR</span> CreateObject_WhaleRow\n","line":2548},{"comment":"Check to see if we're at the fixed row above the water.","content":"\tTYA\n\tAND #$F0\n\tCMP #$B0\n\tBNE CreateObject_Whale_NotTail\n","htmlComment":"<p>Check to see if we're at the fixed row above the water.</p>\n","htmlContent":"\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$B0</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Whale_NotTail\n","line":2557},{"comment":"Draw the whale tail two tiles away.","content":"\tJSR IncrementAreaXOffset\n\tJSR IncrementAreaXOffset\n\n\tLDA #BackgroundTile_WhaleTail\n\tSTA (byte_RAM_1), Y\n\tINC byte_RAM_50E\n\tJMP CreateObject_Whale_Loop\n\nCreateObject_Whale_NotTail:\n\tLDA byte_RAM_50E\n\tCMP #$0E\n\tBNE CreateObject_Whale_Loop\n\n\tJSR IncrementAreaXOffset\n\tJSR IncrementAreaXOffset\n\n\tLDA #BackgroundTile_WaterWhaleTail\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>Draw the whale tail two tiles away.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_WhaleTail\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">JMP</span> CreateObject_Whale_Loop\n\nCreateObject_Whale_NotTail:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$0E</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Whale_Loop\n\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_WaterWhaleTail\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2563},{"comment":"\nLookup table for frozen rocks over water tiles.\n","content":"FrozenRockTiles:\n\t.db BackgroundTile_WaterWhale\n\t.db BackgroundTile_FrozenRock\n\n\nCreateObject_FrozenRocks:\n\tLDA #$01\n\tSTA byte_RAM_8\n\nloc_BANK6_8F19:\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDX byte_RAM_8\n\nloc_BANK6_8F29:\n\tLDA FrozenRockTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL loc_BANK6_8F29\n\n\tLDA byte_RAM_8\n\tBNE loc_BANK6_8F3A\n\n\tRTS\n\n","htmlComment":"<p>Lookup table for frozen rocks over water tiles.</p>\n","htmlContent":"FrozenRockTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WaterWhale\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_FrozenRock\n\n\nCreateObject_FrozenRocks:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">19</span>:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">29</span>:\n\t<span class=\"token opcode property\">LDA</span> FrozenRockTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">29</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">3</span><span class=\"token register variable\">A</span>\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2587},{"comment":"---------------------------------------------------------------------------","content":"loc_BANK6_8F3A:\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tCMP #$C0\n\tBCC loc_BANK6_8F45\n\n\tDEC byte_RAM_8\n\nloc_BANK6_8F45:\n\tSTA byte_RAM_E7\n\tJMP loc_BANK6_8F19\n","htmlComment":"<hr>\n","htmlContent":"loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">3</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$C0</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">45</span>\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">45</span>:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">8</span>F<span class=\"token decimalnumber string\">19</span>\n","line":2620},{"comment":"\nHorizontal platform lookup tables for World 5.\n\nUnlike HorizontalPlatform(Left/Middle/Right)Tiles, these support overlap with\nthe red tree background.\n","content":"HorizontalPlatformWithOverlapLeftTiles:\n\t.db BackgroundTile_LogLeft\n\t.db BackgroundTile_CloudLeft\n\t.db BackgroundTile_LogMiddle\nHorizontalPlatformWithOverlapMiddleTiles:\n\t.db BackgroundTile_LogMiddle\n\t.db BackgroundTile_CloudMiddle\nHorizontalPlatformWithOverlapRightTiles:\n\t.db BackgroundTile_LogRight\n\t.db BackgroundTile_CloudRight\n\t.db BackgroundTile_LogRightTree\n","htmlComment":"<p>Horizontal platform lookup tables for World 5.</p>\n<p>Unlike HorizontalPlatform(Left/Middle/Right)Tiles, these support overlap with\nthe red tree background.</p>\n","htmlContent":"HorizontalPlatformWithOverlapLeftTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogMiddle\nHorizontalPlatformWithOverlapMiddleTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudMiddle\nHorizontalPlatformWithOverlapRightTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogRightTree\n","line":2640},{"comment":"\nCreates a horizontal platform with special tiles for the endcaps.\n\nThe endcaps use alternate tiles when they overlap a non-sky tile, which is how\nthe game achieves the effect of a tree with branches in World 5.\n\nAmusingly, since cloud platforms also use this subroutine, their endcaps will\nturn into logs if they overlap another object.\n","content":"CreateObject_HorizontalPlatform_World5:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tJSR CreateObject_HorizontalPlatform_World5CheckOverlap\n\n\tLDA HorizontalPlatformWithOverlapLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tLDX byte_RAM_7\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_HorizontalPlatform_World5_Exit\n\nCreateObject_HorizontalPlatform_World5_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA HorizontalPlatformWithOverlapMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_HorizontalPlatform_World5_Loop\n\nCreateObject_HorizontalPlatform_World5_Exit:\n\tJSR IncrementAreaXOffset\n\n\tJSR CreateObject_HorizontalPlatform_World5CheckOverlap\n\n\tLDA HorizontalPlatformWithOverlapRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>Creates a horizontal platform with special tiles for the endcaps.</p>\n<p>The endcaps use alternate tiles when they overlap a non-sky tile, which is how\nthe game achieves the effect of a tree with branches in World 5.</p>\n<p>Amusingly, since cloud platforms also use this subroutine, their endcaps will\nturn into logs if they overlap another object.</p>\n","htmlContent":"CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">JSR</span> CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>CheckOverlap\n\n\t<span class=\"token opcode property\">LDA</span> HorizontalPlatformWithOverlapLeftTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>_Exit\n\nCreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> HorizontalPlatformWithOverlapMiddleTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BNE</span> CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>_Loop\n\nCreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>_Exit:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">JSR</span> CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>CheckOverlap\n\n\t<span class=\"token opcode property\">LDA</span> HorizontalPlatformWithOverlapRightTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2661},{"comment":"\nCheck if the next platform tile overlaps the background\n\n##### Output\n- `X`: table offset for (2 if there is an overlap)\n","content":"CreateObject_HorizontalPlatform_World5CheckOverlap:\n\tSTX byte_RAM_7\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBEQ CreateObject_HorizontalPlatform_World5CheckOverlap_Exit\n","htmlComment":"<p>Check if the next platform tile overlaps the background</p>\n<h5>Output</h5>\n<ul>\n<li><code>X</code>: table offset for (2 if there is an overlap)</li>\n</ul>\n","htmlContent":"CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>CheckOverlap:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>CheckOverlap_Exit\n","line":2699},{"comment":"otherwise, the platform is overlapping the background, so we need a special tile","content":"\tLDX #$02\n\nCreateObject_HorizontalPlatform_World5CheckOverlap_Exit:\n\tRTS\n\n","htmlComment":"<p>otherwise, the platform is overlapping the background, so we need a special tile</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$02</span>\n\nCreateObject_HorizontalPlatform_World<span class=\"token decimalnumber string\">5</span>CheckOverlap_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2706},{"comment":"\nLookup table for tree background tiles\n","content":"TreeBackgroundTiles:\n\t.db BackgroundTile_TreeBackgroundRight\n\t.db BackgroundTile_TreeBackgroundMiddleLeft\n\t.db BackgroundTile_TreeBackgroundLeft\n\n","htmlComment":"<p>Lookup table for tree background tiles</p>\n","htmlContent":"TreeBackgroundTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_TreeBackgroundRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_TreeBackgroundMiddleLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_TreeBackgroundLeft\n\n","line":2715},{"comment":"\nCreates a tree background\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n- `byte_RAM_E8`: area page\n","content":"CreateObject_TreeBackground:","htmlComment":"<p>Creates a tree background</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n<li><code>byte_RAM_E8</code>: area page</li>\n</ul>\n","htmlContent":"CreateObject_TreeBackground:","line":2728},{"comment":"width of the middle of the tree (0 = two tiles, 4 = ten tiles)","content":"\tLDA #$04\n\tSTA byte_RAM_7\n\tLDY byte_RAM_E7\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDX #$02\n","htmlComment":"<p>width of the middle of the tree (0 = two tiles, 4 = ten tiles)</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$02</span>\n","line":2730},{"comment":"Stop when it touches the ground","content":"\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_TreeBackground_Exit\n\nCreateObject_TreeBackground_Loop:","htmlComment":"<p>Stop when it touches the ground</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_TreeBackground_Exit\n\nCreateObject_TreeBackground_Loop:","line":2739},{"comment":"Draw the left side of the tree","content":"\tLDA TreeBackgroundTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n","htmlComment":"<p>Draw the left side of the tree</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> TreeBackgroundTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n","line":2745},{"comment":"Draw the middle of the tree","content":"\tDEX\n\tCPX #$01\n\tBNE CreateObject_TreeBackground_Right\n\n\tJSR CreateObject_TreeBackground_MiddleLoop\n\nCreateObject_TreeBackground_Right:","htmlComment":"<p>Draw the middle of the tree</p>\n","htmlContent":"\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_TreeBackground_Right\n\n\t<span class=\"token opcode property\">JSR</span> CreateObject_TreeBackground_MiddleLoop\n\nCreateObject_TreeBackground_Right:","line":2750},{"comment":"Draw the right side of the tree","content":"\tDEX\n\tBPL CreateObject_TreeBackground_Loop\n","htmlComment":"<p>Draw the right side of the tree</p>\n","htmlContent":"\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_TreeBackground_Loop\n","line":2758},{"comment":"Try to draw the next row","content":"\tLDY byte_RAM_E7\n\tJSR IncrementAreaYOffset\n\n\tSTY byte_RAM_E7\n\tJMP CreateObject_TreeBackground\n\nCreateObject_TreeBackground_Exit:\n\tRTS\n\n","htmlComment":"<p>Try to draw the next row</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">STY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JMP</span> CreateObject_TreeBackground\n\nCreateObject_TreeBackground_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2762},{"comment":"\nLoops through and creates n+1 pairs of tiles for the middle of the tree.\n","content":"CreateObject_TreeBackground_MiddleLoop:\n\tLDA #BackgroundTile_TreeBackgroundMiddleLeft\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tLDA #BackgroundTile_TreeBackgroundMiddleRight\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaXOffset\n\n\tDEC byte_RAM_7\n\tBPL CreateObject_TreeBackground_MiddleLoop\n\n\tRTS\n\n","htmlComment":"<p>Loops through and creates n+1 pairs of tiles for the middle of the tree.</p>\n","htmlContent":"CreateObject_TreeBackground_MiddleLoop:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_TreeBackgroundMiddleLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_TreeBackgroundMiddleRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_TreeBackground_MiddleLoop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2775},{"comment":"Unreferenced?","content":"SomeUnusedTilesTop:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_CactusTop\n\t.db BackgroundTile_PalmTreeTop\nSomeUnusedTilesBottom:\n\t.db BackgroundTile_LightDoor\n\t.db BackgroundTile_CactusMiddle\n\t.db BackgroundTile_PalmTreeTrunk\n\n","htmlComment":"<p>Unreferenced?</p>\n","htmlContent":"SomeUnusedTilesTop:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LightDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CactusTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTop\nSomeUnusedTilesBottom:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LightDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CactusMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_PalmTreeTrunk\n\n","line":2791},{"comment":"\nThis 3x9 tile entrance is used in 6-3\n","content":"RockWallEntranceTiles:\n\t.db BackgroundTile_RockWallAngle\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWallEyeLeft\n\t.db BackgroundTile_RockWallEyeRight\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_RockWallMouth\n\t.db BackgroundTile_RockWallMouth\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_RockWall\n\n","htmlComment":"<p>This 3x9 tile entrance is used in 6-3</p>\n","htmlContent":"RockWallEntranceTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWallAngle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWallEyeLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWallEyeRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWallMouth\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWallMouth\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_RockWall\n\n","line":2804},{"comment":"\nCreates the rock wall face entrance for 6-3.\n\nIf you ask me, this is a lot of trouble for a one-off, especially since they\ndidn't correctly align the \"eyes\" and \"teeth\" tiles with the wall pattern!\n","content":"CreateObject_RockWallEntrance:\n\tLDX #$00\n\nCreateObject_RockWallEntrance_Loop:\n\tLDY byte_RAM_E7\n\tLDA #$02\n\tSTA byte_RAM_9\n\nCreateObject_RockWallEntrance_InnerLoop:\n\tLDA RockWallEntranceTiles, X\n\tSTA (byte_RAM_1), Y\n\tINX\n\tINY\n\tDEC byte_RAM_9\n\tBPL CreateObject_RockWallEntrance_InnerLoop\n\n\tLDY byte_RAM_E7\n\tTYA\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tCPX #$1B\n\tBNE CreateObject_RockWallEntrance_Loop\n\n\tRTS\n\n","htmlComment":"<p>Creates the rock wall face entrance for 6-3.</p>\n<p>If you ask me, this is a lot of trouble for a one-off, especially since they\ndidn't correctly align the \"eyes\" and \"teeth\" tiles with the wall pattern!</p>\n","htmlContent":"CreateObject_RockWallEntrance:\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\nCreateObject_RockWallEntrance_Loop:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\nCreateObject_RockWallEntrance_InnerLoop:\n\t<span class=\"token opcode property\">LDA</span> RockWallEntranceTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">BPL</span> CreateObject_RockWallEntrance_InnerLoop\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$1B</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_RockWallEntrance_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2848},{"comment":"\nDoor tile lookup tables\n","content":"DoorTopTiles:\n\t.db BackgroundTile_DoorTop\n\t.db BackgroundTile_DoorTop\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DoorwayTop\n\t.db BackgroundTile_WindowTop\n\nDoorBottomTiles:\n\t.db BackgroundTile_DoorBottomLock\n\t.db BackgroundTile_DoorBottom\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\t.db BackgroundTile_DarkDoor\n\n","htmlComment":"<p>Door tile lookup tables</p>\n","htmlContent":"DoorTopTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DoorTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DoorTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DoorwayTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_WindowTop\n\nDoorBottomTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DoorBottomLock\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DoorBottom\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_DarkDoor\n\n","line":2878},{"comment":"\nCreates a door object.\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n- `byte_RAM_50E`: type of object to create\n","content":"CreateObject_Door:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tCMP #$09\n\tBNE CreateObject_Door_Unlocked\n","htmlComment":"<p>Creates a door object.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n<li><code>byte_RAM_50E</code>: type of object to create</li>\n</ul>\n","htmlContent":"CreateObject_Door:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$09</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Door_Unlocked\n","line":2900},{"comment":"If we've already used the key, create an unlocked door","content":"\tLDA KeyUsed\n\tBEQ CreateObject_Door_Unlocked\n","htmlComment":"<p>If we've already used the key, create an unlocked door</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> KeyUsed\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_Door_Unlocked\n","line":2907},{"comment":"Use the door two slots after the locked door for the unlocked version","content":"\tINC byte_RAM_50E\n\tINC byte_RAM_50E\n\nCreateObject_Door_Unlocked:\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$09\n\tTAX\n\tLDA DoorTopTiles, X\n\tSTA (byte_RAM_1), Y\n\tJSR IncrementAreaYOffset\n\n\tLDA DoorBottomTiles, X\n\tSTA (byte_RAM_1), Y\n\nIFNDEF DISABLE_DOOR_POINTERS","htmlComment":"<p>Use the door two slots after the locked door for the unlocked version</p>\n","htmlContent":"\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\nCreateObject_Door_Unlocked:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$09</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> DoorTopTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">LDA</span> DoorBottomTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nIFNDEF DISABLE_DOOR_POINTERS","line":2911},{"comment":"\nFor Worlds 1-5, the object after a door is used as an area pointer.\n\nThis seems to be primarily a way to save space, as this method costs 1 byte\nless than using a normal area pointer object.\n\n**But wait! Why not also use this space-saving trick for Worlds 6 and 7?**\n\nRegular level objects use the first nybble of the first byte for the Y\noffset relative to the previous object. As it turns out, door pointer are\nstill \"regular objects,\" at least insofar as their Y offset factors in when\nrendering the level.\n\nFor an area pointer, the first byte is the level offset. The first nybble of\nthat byte is $0 for levels 1-1 through 6-1, so there is no Y offset.\nDoor pointers starting in 6-2 would introduce a Y offset because that is\nlevel offset is $10. Having everything after a door shift down by 1 row was\nprobably a nuisance when programming the levels.\n","content":"\tLDA CurrentWorld\n\tCMP #$05\n\tBEQ CreateObject_Door_Exit\n\n\tLDA CurrentWorld\n\tCMP #$06\n\tBEQ CreateObject_Door_Exit\n\n\tJSR LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_Door_Exit:\n\tRTS\n\n","htmlComment":"<p>For Worlds 1-5, the object after a door is used as an area pointer.</p>\n<p>This seems to be primarily a way to save space, as this method costs 1 byte\nless than using a normal area pointer object.</p>\n<p><strong>But wait! Why not also use this space-saving trick for Worlds 6 and 7?</strong></p>\n<p>Regular level objects use the first nybble of the first byte for the Y\noffset relative to the previous object. As it turns out, door pointer are\nstill \"regular objects,\" at least insofar as their Y offset factors in when\nrendering the level.</p>\n<p>For an area pointer, the first byte is the level offset. The first nybble of\nthat byte is $0 for levels 1-1 through 6-1, so there is no Y offset.\nDoor pointers starting in 6-2 would introduce a Y offset because that is\nlevel offset is $10. Having everything after a door shift down by 1 row was\nprobably a nuisance when programming the levels.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_Door_Exit\n\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_Door_Exit\n\n\t<span class=\"token opcode property\">JSR</span> LevelParser_EatDoorPointer\nENDIF\n\nCreateObject_Door_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2946},{"comment":"\nLookup table for World 7 mushroom house tiles.\n\nInterestingly, there are entries for black background tiles and jumpthrough\ncloud platforms in this table as well, although they are never used. Perhaps\nthese houses would have included their own base at some point.\n","content":"MushroomHouseLeftTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudLeft\n\t.db BackgroundTile_MushroomTopLeft\n\t.db BackgroundTile_HouseLeft\n\nMushroomHouseMiddleTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudMiddle\n\t.db BackgroundTile_MushroomTopMiddle\n\t.db BackgroundTile_HouseMiddle\n\nMushroomHouseRightTiles:\n\t.db BackgroundTile_Black\n\t.db BackgroundTile_CloudRight\n\t.db BackgroundTile_MushroomTopRight\n\t.db BackgroundTile_HouseRight\n\n","htmlComment":"<p>Lookup table for World 7 mushroom house tiles.</p>\n<p>Interestingly, there are entries for black background tiles and jumpthrough\ncloud platforms in this table as well, although they are never used. Perhaps\nthese houses would have included their own base at some point.</p>\n","htmlContent":"MushroomHouseLeftTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Black\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_MushroomTopLeft\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_HouseLeft\n\nMushroomHouseMiddleTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Black\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_MushroomTopMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_HouseMiddle\n\nMushroomHouseRightTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_Black\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CloudRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_MushroomTopRight\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_HouseRight\n\n","line":2968},{"comment":"\nDraws a row of the mushroom house\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n- `byte_RAM_50D`: width of house\n- `byte_RAM_50E`: offset in the tile lookup table plus $0A, for some reason\n","content":"CreateObject_MushroomHouseRow:\n\tLDY byte_RAM_E7\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$0A\n\tTAX\n\tLDA MushroomHouseLeftTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBEQ CreateObject_MushroomHouseRow_Right\n\nCreateObject_MushroomHouseRow_Loop:\n\tJSR IncrementAreaXOffset\n\n\tLDA MushroomHouseMiddleTiles, X\n\tSTA (byte_RAM_1), Y\n\tDEC byte_RAM_50D\n\tBNE CreateObject_MushroomHouseRow_Loop\n\nCreateObject_MushroomHouseRow_Right:\n\tJSR IncrementAreaXOffset\n\n\tLDA MushroomHouseRightTiles, X\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>Draws a row of the mushroom house</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n<li><code>byte_RAM_50D</code>: width of house</li>\n<li><code>byte_RAM_50E</code>: offset in the tile lookup table plus $0A, for some reason</li>\n</ul>\n","htmlContent":"CreateObject_MushroomHouseRow:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> MushroomHouseLeftTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BEQ</span> CreateObject_MushroomHouseRow_Right\n\nCreateObject_MushroomHouseRow_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> MushroomHouseMiddleTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BNE</span> CreateObject_MushroomHouseRow_Loop\n\nCreateObject_MushroomHouseRow_Right:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">LDA</span> MushroomHouseRightTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2995},{"comment":"\nDraws the jump-through mushroom house platforms used in World 7\n","content":"CreateObject_MushroomJumpthroughPlatform:\n\tLDA byte_RAM_50D\n\tSTA byte_RAM_7\n\tLDA #$0C\n\tSTA byte_RAM_50E","htmlComment":"<p>Draws the jump-through mushroom house platforms used in World 7</p>\n","htmlContent":"CreateObject_MushroomJumpthroughPlatform:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0C</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E","line":3025},{"comment":"Draw roof of mushroom house","content":"\tJSR CreateObject_MushroomHouseRow\n\nCreateObject_MushroomJumpthroughPlatform_Loop:\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_E7\n\tLDA #$0D\n\tSTA byte_RAM_50E\n\tLDA_abs byte_RAM_7\n\n\tSTA byte_RAM_50D\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_MushroomJumpthroughPlatform_Exit\n","htmlComment":"<p>Draw roof of mushroom house</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> CreateObject_MushroomHouseRow\n\nCreateObject_MushroomJumpthroughPlatform_Loop:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0D</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\tLDA_abs byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_MushroomJumpthroughPlatform_Exit\n","line":3031},{"comment":"Draw body of mushroom house","content":"\tJSR CreateObject_MushroomHouseRow\n\n\tLDA byte_RAM_E7\n\tCMP #$E0\n\tBCC CreateObject_MushroomJumpthroughPlatform_Loop\n\nCreateObject_MushroomJumpthroughPlatform_Exit:\n\tRTS\n\n","htmlComment":"<p>Draw body of mushroom house</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> CreateObject_MushroomHouseRow\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$E0</span>\n\t<span class=\"token opcode property\">BCC</span> CreateObject_MushroomJumpthroughPlatform_Loop\n\nCreateObject_MushroomJumpthroughPlatform_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3052},{"comment":"\nLookup table for pillar tiles, arranged by world\n","content":"PillarTopTiles:\n\t.db BackgroundTile_LogPillarTop1\n\t.db BackgroundTile_CactusTop\n\t.db BackgroundTile_LogPillarTop1\n\t.db BackgroundTile_LogPillarTop0\n\t.db BackgroundTile_LogPillarTop1\n\t.db BackgroundTile_CactusTop\n\t.db BackgroundTile_ColumnPillarTop2\n\nPillarBottomTiles:\n\t.db BackgroundTile_LogPillarMiddle1\n\t.db BackgroundTile_CactusMiddle\n\t.db BackgroundTile_LogPillarMiddle1\n\t.db BackgroundTile_LogPillarMiddle0\n\t.db BackgroundTile_LogPillarMiddle1\n\t.db BackgroundTile_CactusMiddle\n\t.db BackgroundTile_ColumnPillarMiddle2\n\n","htmlComment":"<p>Lookup table for pillar tiles, arranged by world</p>\n","htmlContent":"PillarTopTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarTop<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CactusTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarTop<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarTop<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarTop<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CactusTop\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_ColumnPillarTop<span class=\"token decimalnumber string\">2</span>\n\nPillarBottomTiles:\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarMiddle<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CactusMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarMiddle<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarMiddle<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_LogPillarMiddle<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_CactusMiddle\n\t<span class=\"token directive keyword\">.db</span> BackgroundTile_ColumnPillarMiddle<span class=\"token decimalnumber string\">2</span>\n\n","line":3065},{"comment":"\nDraws a pillar that extends to the ground\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_Pillar:\n\tLDX CurrentWorldTileset\n\tLDY byte_RAM_E7\n\tLDA PillarTopTiles, X\n\tSTA (byte_RAM_1), Y\n\nCreateObject_Pillar_Loop:\n\tJSR IncrementAreaYOffset\n\n\tLDA (byte_RAM_1), Y\n\tCMP #BackgroundTile_Sky\n\tBNE CreateObject_Pillar_Exit\n\n\tLDX CurrentWorldTileset\n\tLDA PillarBottomTiles, X\n\tSTA (byte_RAM_1), Y\n","htmlComment":"<p>Draws a pillar that extends to the ground</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_Pillar:\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> PillarTopTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nCreateObject_Pillar_Loop:\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Pillar_Exit\n\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> PillarBottomTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n","line":3090},{"comment":"\nNormally the pillars extend until they hit another tile, wrapping around to\nthe top of the next page, if necessary.\n\nThis World 5 check prevents logs from coming down from the sky in the last\narea before ClawGrip's boss room.\n","content":"\tLDA CurrentWorldTileset\n\tCMP #$04\n\tBNE CreateObject_Pillar_Loop\n","htmlComment":"<p>Normally the pillars extend until they hit another tile, wrapping around to\nthe top of the next page, if necessary.</p>\n<p>This World 5 check prevents logs from coming down from the sky in the last\narea before ClawGrip's boss room.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BNE</span> CreateObject_Pillar_Loop\n","line":3114},{"comment":"Prevent the pillar from looping around to the next page","content":"\tCPY #$E0\n\tBCC CreateObject_Pillar_Loop\n\nCreateObject_Pillar_Exit:\n\tRTS\n\n","htmlComment":"<p>Prevent the pillar from looping around to the next page</p>\n","htmlContent":"\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$E0</span>\n\t<span class=\"token opcode property\">BCC</span> CreateObject_Pillar_Loop\n\nCreateObject_Pillar_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3119},{"comment":"\nDraws one horn of Wart's vegetable thrower\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_Horn:\n\tLDY byte_RAM_E7\n\tLDA #BackgroundTile_HornTopLeft\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_HornTopRight\n\tSTA (byte_RAM_1), Y\n\tLDA byte_RAM_E7\n\tCLC\n\tADC #$10\n\tTAY\n\tLDA #BackgroundTile_HornBottomLeft\n\tSTA (byte_RAM_1), Y\n\tINY\n\tLDA #BackgroundTile_HornBottomRight\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n","htmlComment":"<p>Draws one horn of Wart's vegetable thrower</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_Horn:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_HornTopLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_HornTopRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_HornBottomLeft\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_HornBottomRight\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3132},{"comment":"\nDraws the drawbridge chain\n\n##### Input\n- `byte_RAM_E7`: target tile placement offset\n","content":"CreateObject_DrawBridgeChain:\n\tLDY byte_RAM_E7\n\nCreateObject_DrawBridgeChain_Loop:\n\tLDA #BackgroundTile_DrawBridgeChain\n\tSTA (byte_RAM_1), Y\n\tTYA\n\tCLC\n\tADC #$F\n\tTAY\n\tDEC byte_RAM_50D\n\tBNE CreateObject_DrawBridgeChain_Loop\n\n\tRTS\n\n\nIFNDEF EXPAND_TABLES","htmlComment":"<p>Draws the drawbridge chain</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"CreateObject_DrawBridgeChain:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\nCreateObject_DrawBridgeChain_Loop:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_DrawBridgeChain\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> #$F\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">BNE</span> CreateObject_DrawBridgeChain_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n\nIFNDEF EXPAND_TABLES","line":3157},{"comment":"Unused space in the original ($9126 - $91FF)","content":"unusedSpace $9200, $FF\nENDIF\n","htmlComment":"<p>Unused space in the original ($9126 - $91FF)</p>\n","htmlContent":"unusedSpace <span class=\"token hexnumber string\">$9200</span>, <span class=\"token hexnumber string\">$FF</span>\nENDIF\n","line":3175},{"comment":"\n## Ground setting data\n\nThe ground setting defines a single column (or row, for vertical areas) where each row (or column)\ncan be one of four tiles. These tiles are repeated until an object changes  the ground setting or\nthe renderer reaches the the end of the area.\n\nAn area has its initial ground setting set in the header, but it can be changed mid-area using the\n`$F0` and `$F1` special objects.\n","content":"","htmlComment":"<h2>Ground setting data</h2>\n<p>The ground setting defines a single column (or row, for vertical areas) where each row (or column)\ncan be one of four tiles. These tiles are repeated until an object changes  the ground setting or\nthe renderer reaches the the end of the area.</p>\n<p>An area has its initial ground setting set in the header, but it can be changed mid-area using the\n<code>$F0</code> and <code>$F1</code> special objects.</p>\n","htmlContent":"","line":3188},{"comment":"\n#### Horizontal ground set data\n\nTwo bits per tile are used to select from one of the four ground appearance tiles. The tiles are\ndefined from top-to-bottom, except for the last tile, which is actually the top row!\n\nGround appearance tiles are defined xpecifically in the `WorldXGroundTilesHorizontal` lookup\ntables, but here's an example of how they apply:\n\n- `%00`: default background (ie. sky)\n- `%01`: secondary platform (eg. sand)\n- `%10`: primary platform (eg. grass)\n- `%11`: secondary background (eg. black background in 3-2)\n","content":"HorizontalGroundSetData:\n\t.db $00,$00,$00,$24 ; $00\n\t.db $00,$00,$02,$54 ; $01\n\t.db $00,$02,$55,$54 ; $02\n\t.db $00,$02,$7F,$54 ; $03\n\t.db $00,$02,$7F,$D4 ; $04\n\t.db $00,$03,$FF,$54 ; $05\n\t.db $00,$02,$5F,$FC ; $06\n\t.db $00,$03,$FF,$FC ; $07\n\t.db $00,$00,$00,$00 ; $08\n\t.db $55,$55,$55,$7C ; $09\n\t.db $E7,$9E,$79,$E4 ; $0A\n\t.db $00,$0E,$79,$E4 ; $0B\n\t.db $00,$00,$09,$E4 ; $0C\n\t.db $00,$00,$00,$24 ; $0D\n\t.db $E0,$0E,$79,$E4 ; $0E\n\t.db $E4,$00,$09,$E4 ; $0F\n\t.db $E4,$00,$00,$24 ; $10\n\t.db $E7,$90,$09,$E4 ; $11\n\t.db $E7,$9E,$70,$24 ; $12\n\t.db $E7,$9E,$40,$24 ; $13\n\t.db $E7,$9C,$00,$24 ; $14\n\t.db $E0,$0E,$40,$24 ; $15\n\t.db $00,$00,$00,$E4 ; $16\n\t.db $E4,$00,$00,$00 ; $17\n\t.db $E7,$9E,$79,$E4 ; $18\n\t.db $E7,$90,$01,$E4 ; $19\n\t.db $E0,$00,$01,$E4 ; $1A\n\t.db $E7,$90,$00,$24 ; $1B\n\t.db $E0,$00,$00,$24 ; $1C\n\t.db $00,$00,$00,$24 ; $1D\n\t.db $00,$00,$00,$24 ; $1E","htmlComment":"<h4>Horizontal ground set data</h4>\n<p>Two bits per tile are used to select from one of the four ground appearance tiles. The tiles are\ndefined from top-to-bottom, except for the last tile, which is actually the top row!</p>\n<p>Ground appearance tiles are defined xpecifically in the <code>WorldXGroundTilesHorizontal</code> lookup\ntables, but here's an example of how they apply:</p>\n<ul>\n<li><code>%00</code>: default background (ie. sky)</li>\n<li><code>%01</code>: secondary platform (eg. sand)</li>\n<li><code>%10</code>: primary platform (eg. grass)</li>\n<li><code>%11</code>: secondary background (eg. black background in 3-2)</li>\n</ul>\n","htmlContent":"HorizontalGroundSetData:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$54</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$54</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$7F</span>,<span class=\"token hexnumber string\">$54</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$7F</span>,<span class=\"token hexnumber string\">$D4</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$54</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$5F</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$7C</span> <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E4</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E4</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$90</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $15</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $16</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E4</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $17</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$90</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $19</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$E4</span> <span class=\"token comment\">; $1A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E7</span>,<span class=\"token hexnumber string\">$90</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $1B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $1D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $1E</span>","line":3203},{"comment":"Based on the level header parsing code, $1F seems like it may have been reserved for some\nspecial behavior at some point, but it doesn't appear to be implemented.","content":"IFDEF EXPAND_TABLES\n\t.db $00,$00,$00,$24 ; $1F\nENDIF\n","htmlComment":"<p>Based on the level header parsing code, $1F seems like it may have been reserved for some\nspecial behavior at some point, but it doesn't appear to be implemented.</p>\n","htmlContent":"IFDEF EXPAND_TABLES\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $1F</span>\nENDIF\n","line":3237},{"comment":"\n#### Vertical ground set data\n\nTwo bits per tile are used to select from one of the four ground appearance tiles. The tiles are\ndefined from left-to-right.\n\nGround appearance tiles are defined xpecifically in the `WorldXGroundTilesVertical` lookup\ntables, but here's an example of how they apply:\n\n- `%00`: default background (ie. sky)\n- `%01`: secondary platform (eg. bombable wall, sand)\n- `%10`: primary platform\n- `%11`: secondary background\n","content":"VerticalGroundSetData:\n\t.db $AA,$AA,$AA,$AA ; $00\n\t.db $80,$00,$00,$02 ; $01\n\t.db $AA,$00,$00,$AA ; $02\n\t.db $FA,$00,$00,$AF ; $03\n\t.db $FE,$00,$00,$BF ; $04\n\t.db $FA,$80,$02,$AF ; $05\n\t.db $E8,$00,$00,$2B ; $06\n\t.db $E0,$00,$00,$0B ; $07\n\t.db $FA,$95,$56,$AF ; $08\n\t.db $95,$00,$00,$56 ; $09\n\t.db $A5,$55,$55,$5A ; $0A\n\t.db $A5,$5A,$A5,$5A ; $0B\n\t.db $55,$55,$55,$55 ; $0C\n\t.db $95,$55,$55,$56 ; $0D\n\t.db $95,$5A,$A5,$56 ; $0E\n\t.db $A9,$55,$55,$6A ; $0F\n\t.db $81,$55,$55,$42 ; $10\n\t.db $AA,$A5,$55,$5A ; $11\n\t.db $A5,$55,$5A,$AA ; $12\n\t.db $00,$00,$00,$00 ; $13\n\t.db $80,$00,$00,$02 ; $14\n\t.db $A0,$00,$00,$0A ; $15\n\t.db $AA,$00,$00,$AA ; $16\n\t.db $AA,$A0,$0A,$AA ; $17\n\t.db $80,$00,$0A,$AA ; $18\n\t.db $80,$0A,$AA,$AA ; $19\n\t.db $AA,$AA,$A0,$02 ; $1A\n\t.db $AA,$A0,$00,$02 ; $1B\n\t.db $A0,$0A,$A0,$0A ; $1C\n\t.db $A0,$00,$00,$00 ; $1D\n\t.db $00,$00,$00,$0A ; $1E","htmlComment":"<h4>Vertical ground set data</h4>\n<p>Two bits per tile are used to select from one of the four ground appearance tiles. The tiles are\ndefined from left-to-right.</p>\n<p>Ground appearance tiles are defined xpecifically in the <code>WorldXGroundTilesVertical</code> lookup\ntables, but here's an example of how they apply:</p>\n<ul>\n<li><code>%00</code>: default background (ie. sky)</li>\n<li><code>%01</code>: secondary platform (eg. bombable wall, sand)</li>\n<li><code>%10</code>: primary platform</li>\n<li><code>%11</code>: secondary background</li>\n</ul>\n","htmlContent":"VerticalGroundSetData:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$BF</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$2B</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$56</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$56</span> <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$56</span> <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$56</span> <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$6A</span> <span class=\"token comment\">; $0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$81</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$42</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $15</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $16</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $17</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$AA</span> <span class=\"token comment\">; $19</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $1A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $1B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1E</span>","line":3255},{"comment":"Based on the level header parsing code, $1F seems like it may have been reserved for some\nspecial behavior at some point, but it doesn't appear to be implemented.","content":"IFDEF EXPAND_TABLES\n\t.db $00,$00,$00,$0A ; $1F\nENDIF\n\n","htmlComment":"<p>Based on the level header parsing code, $1F seems like it may have been reserved for some\nspecial behavior at some point, but it doesn't appear to be implemented.</p>\n","htmlContent":"IFDEF EXPAND_TABLES\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $1F</span>\nENDIF\n\n","line":3289},{"comment":"\nLookup tables for decoded level data by page\n","content":"DecodedLevelPageStartLo_Bank6:\n\t.db <DecodedLevelData\n\t.db <(DecodedLevelData+$00F0)\n\t.db <(DecodedLevelData+$01E0)\n\t.db <(DecodedLevelData+$02D0)\n\t.db <(DecodedLevelData+$03C0)\n\t.db <(DecodedLevelData+$04B0)\n\t.db <(DecodedLevelData+$05A0)\n\t.db <(DecodedLevelData+$0690)\n\t.db <(DecodedLevelData+$0780)\n\t.db <(DecodedLevelData+$0870)\n\t.db <(SubAreaTileLayout)\n\nDecodedLevelPageStartHi_Bank6:\n\t.db >DecodedLevelData\n\t.db >(DecodedLevelData+$00F0)\n\t.db >(DecodedLevelData+$01E0)\n\t.db >(DecodedLevelData+$02D0)\n\t.db >(DecodedLevelData+$03C0)\n\t.db >(DecodedLevelData+$04B0)\n\t.db >(DecodedLevelData+$05A0)\n\t.db >(DecodedLevelData+$0690)\n\t.db >(DecodedLevelData+$0780)\n\t.db >(DecodedLevelData+$0870)\n\t.db >(SubAreaTileLayout)\n\n","htmlComment":"<p>Lookup tables for decoded level data by page</p>\n","htmlContent":"DecodedLevelPageStartLo_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;DecodedLevelData\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$00F0</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$01E0</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$02D0</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$03C0</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$04B0</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$05A0</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$0690</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$0780</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(DecodedLevelData+<span class=\"token hexnumber string\">$0870</span>)\n\t<span class=\"token directive keyword\">.db</span> &#x3C;(SubAreaTileLayout)\n\nDecodedLevelPageStartHi_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token directive keyword\">.db</span> >DecodedLevelData\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$00F0</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$01E0</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$02D0</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$03C0</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$04B0</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$05A0</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$0690</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$0780</span>)\n\t<span class=\"token directive keyword\">.db</span> >(DecodedLevelData+<span class=\"token hexnumber string\">$0870</span>)\n\t<span class=\"token directive keyword\">.db</span> >(SubAreaTileLayout)\n\n","line":3297},{"comment":"\nSubspace tile remapping\n=======================\n\nThe horizontal order of tiles is reversed in subspace. Tiles with an obvious\nleft/right direction (eg. the corners of green platforms) appear backwards\nuntil they're swapped with the corresponding right/left version.\n\nThis is handled in two tables corresponding tables. If a tile is found in the\nfirst table, it will be replaced with the tile at the corresponding offset in\nthe second table.\n","content":"SubspaceTilesSearch:\n\t.db $75 ; $00\n\t.db $77 ; $01\n\t.db $CA ; $02\n\t.db $CE ; $03\n\t.db $C7 ; $04\nIFNDEF FIX_SUBSPACE_TILES\n\t.db $C8 ; $05 ; BUG: This should be $C9\nENDIF\nIFDEF FIX_SUBSPACE_TILES\n\t.db $C9 ; $05\nENDIF\n\t.db $D0 ; $06\n\t.db $D1 ; $07\n\t.db $01 ; $08\n\t.db $02 ; $09\n\t.db $84 ; $0A\n\t.db $87 ; $0B\n\t.db $60 ; $0C\n\t.db $62 ; $0D\n\t.db $13 ; $0E\n\t.db $15 ; $0F\n\t.db $53 ; $10\n\t.db $55 ; $11\n\t.db $CB ; $12\n\t.db $CF ; $13\n\t.db $09 ; $14\n\t.db $0D ; $15\n\nSubspaceTilesReplace:\n\t.db $77 ; $00\n\t.db $75 ; $01\n\t.db $CE ; $02\n\t.db $CA ; $03\nIFNDEF FIX_SUBSPACE_TILES\n\t.db $C8 ; $04 ; BUG: This should be $C9\nENDIF\nIFDEF FIX_SUBSPACE_TILES\n\t.db $C9 ; $04\nENDIF\n\t.db $C7 ; $05\n\t.db $D1 ; $06\n\t.db $D0 ; $07\n\t.db $02 ; $08\n\t.db $01 ; $09\n\t.db $87 ; $0A\n\t.db $84 ; $0B\n\t.db $62 ; $0C\n\t.db $60 ; $0D\n\t.db $15 ; $0E\n\t.db $13 ; $0F\n\t.db $55 ; $10\n\t.db $53 ; $11\n\t.db $CF ; $12\n\t.db $CB ; $13\n\t.db $0D ; $14\n\t.db $09 ; $15\n\n","htmlComment":"<h1>Subspace tile remapping</h1>\n<p>The horizontal order of tiles is reversed in subspace. Tiles with an obvious\nleft/right direction (eg. the corners of green platforms) appear backwards\nuntil they're swapped with the corresponding right/left version.</p>\n<p>This is handled in two tables corresponding tables. If a tile is found in the\nfirst table, it will be replaced with the tile at the corresponding offset in\nthe second table.</p>\n","htmlContent":"SubspaceTilesSearch:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$75</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$77</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CE</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C7</span> <span class=\"token comment\">; $04</span>\nIFNDEF FIX_SUBSPACE_TILES\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C8</span> <span class=\"token comment\">; $05 ; BUG: This should be $C9</span>\nENDIF\nIFDEF FIX_SUBSPACE_TILES\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C9</span> <span class=\"token comment\">; $05</span>\nENDIF\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D0</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D1</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$84</span> <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$62</span> <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$13</span> <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$15</span> <span class=\"token comment\">; $0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$53</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$55</span> <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CB</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CF</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; $15</span>\n\nSubspaceTilesReplace:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$77</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$75</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CE</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span> <span class=\"token comment\">; $03</span>\nIFNDEF FIX_SUBSPACE_TILES\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C8</span> <span class=\"token comment\">; $04 ; BUG: This should be $C9</span>\nENDIF\nIFDEF FIX_SUBSPACE_TILES\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C9</span> <span class=\"token comment\">; $04</span>\nENDIF\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C7</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D1</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D0</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$84</span> <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$62</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span> <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$15</span> <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$13</span> <span class=\"token comment\">; $0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$55</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$53</span> <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CF</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CB</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $15</span>\n\n","line":3336},{"comment":"\nResets level data and PPU scrolling.\n\nThis starts at the end of the last page and works backwards to create a blank slate upon which to\nrender the current area's level data.\n","content":"ResetLevelData:\n\tLDA #<DecodedLevelData\n\tSTA byte_RAM_A\n\tLDY #>(DecodedLevelData+$0900)\n\tSTY byte_RAM_B\n\tLDY #>(DecodedLevelData-$0100)\n","htmlComment":"<p>Resets level data and PPU scrolling.</p>\n<p>This starts at the end of the last page and works backwards to create a blank slate upon which to\nrender the current area's level data.</p>\n","htmlContent":"ResetLevelData:\n\t<span class=\"token opcode property\">LDA</span> #&#x3C;DecodedLevelData\n\t<span class=\"token opcode property\">STA</span> byte_RAM_A\n\t<span class=\"token opcode property\">LDY</span> #>(DecodedLevelData+<span class=\"token hexnumber string\">$0900</span>)\n\t<span class=\"token opcode property\">STY</span> byte_RAM_B\n\t<span class=\"token opcode property\">LDY</span> #>(DecodedLevelData-<span class=\"token hexnumber string\">$0100</span>)\n","line":3401},{"comment":"Set all tiles to sky","content":"\tLDA #BackgroundTile_Sky\n\nResetLevelData_Loop:\n\tSTA (byte_RAM_A), Y\n\tDEY\n\tCPY #$FF\n\tBNE ResetLevelData_Loop\n\n\tDEC byte_RAM_B\n\tLDX byte_RAM_B\n\tCPX #>DecodedLevelData\n\tBCS ResetLevelData_Loop\n\n\tLDA #$00\n\tSTA PPUScrollXMirror\n\tSTA PPUScrollYMirror\n\tSTA CurrentLevelPageX\n\tSTA byte_RAM_D5\n\tSTA byte_RAM_E6\n\tSTA ScreenYHi\n\tSTA ScreenYLo\n\tSTA ScreenBoundaryLeftHi\n\tSTA ScreenBoundaryLeftLo\n\tSTA_abs NeedVerticalScroll\n\tRTS\n\n","htmlComment":"<p>Set all tiles to sky</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_Sky\n\nResetLevelData_Loop:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_A), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">BNE</span> ResetLevelData_Loop\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_B\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_B\n\t<span class=\"token opcode property\">CPX</span> #>DecodedLevelData\n\t<span class=\"token opcode property\">BCS</span> ResetLevelData_Loop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollXMirror\n\t<span class=\"token opcode property\">STA</span> PPUScrollYMirror\n\t<span class=\"token opcode property\">STA</span> CurrentLevelPageX\n\t<span class=\"token opcode property\">STA</span> byte_RAM_D<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">STA</span> ScreenYHi\n\t<span class=\"token opcode property\">STA</span> ScreenYLo\n\t<span class=\"token opcode property\">STA</span> ScreenBoundaryLeftHi\n\t<span class=\"token opcode property\">STA</span> ScreenBoundaryLeftLo\n\tSTA_abs NeedVerticalScroll\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3409},{"comment":"\nReads a color from the world's background palette\n\n##### Input\n- `X`: color index\n\n##### Output\n- `A`: background palette color\n","content":"ReadWorldBackgroundColor:","htmlComment":"<p>Reads a color from the world's background palette</p>\n<h5>Input</h5>\n<ul>\n<li><code>X</code>: color index</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: background palette color</li>\n</ul>\n","htmlContent":"ReadWorldBackgroundColor:","line":3445},{"comment":"stash X and Y registers","content":"\tSTY byte_RAM_E\n\tSTX byte_RAM_D","htmlComment":"<p>stash X and Y registers</p>\n","htmlContent":"\t<span class=\"token opcode property\">STY</span> byte_RAM_E\n\t<span class=\"token opcode property\">STX</span> byte_RAM_D","line":3447},{"comment":"look up the address of the current world's palette","content":"\tLDY CurrentWorldTileset\n\tLDA WorldBackgroundPalettePointersLo, Y\n\tSTA byte_RAM_7\n\tLDA WorldBackgroundPalettePointersHi, Y\n\tSTA byte_RAM_8","htmlComment":"<p>look up the address of the current world's palette</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> WorldBackgroundPalettePointersLo, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> WorldBackgroundPalettePointersHi, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>","line":3450},{"comment":"load the color","content":"\tLDY byte_RAM_D\n\tLDA (byte_RAM_7), Y","htmlComment":"<p>load the color</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">7</span>), <span class=\"token register variable\">Y</span>","line":3456},{"comment":"restore prior X and Y registers","content":"\tLDY byte_RAM_E\n\tLDX byte_RAM_D\n\tRTS\n","htmlComment":"<p>restore prior X and Y registers</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_E\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_D\n\t<span class=\"token opcode property\">RTS</span>\n","line":3459},{"comment":"\nReads a color from the world's sprite palette\n\n##### Input\n- `X`: color index\n\n##### Output\n- `A`: background palette color\n","content":"ReadWorldSpriteColor:","htmlComment":"<p>Reads a color from the world's sprite palette</p>\n<h5>Input</h5>\n<ul>\n<li><code>X</code>: color index</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: background palette color</li>\n</ul>\n","htmlContent":"ReadWorldSpriteColor:","line":3472},{"comment":"stash X and Y registers","content":"\tSTY byte_RAM_E\n\tSTX byte_RAM_D","htmlComment":"<p>stash X and Y registers</p>\n","htmlContent":"\t<span class=\"token opcode property\">STY</span> byte_RAM_E\n\t<span class=\"token opcode property\">STX</span> byte_RAM_D","line":3474},{"comment":"look up the address of the current world's palette","content":"\tLDY CurrentWorldTileset\n\tLDA WorldSpritePalettePointersLo, Y\n\tSTA byte_RAM_7\n\tLDA WorldSpritePalettePointersHi, Y\n\tSTA byte_RAM_8","htmlComment":"<p>look up the address of the current world's palette</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> WorldSpritePalettePointersLo, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> WorldSpritePalettePointersHi, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>","line":3477},{"comment":"load the color","content":"\tLDY byte_RAM_D\n\tLDA (byte_RAM_7), Y","htmlComment":"<p>load the color</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">7</span>), <span class=\"token register variable\">Y</span>","line":3483},{"comment":"restore prior X and Y registers","content":"\tLDY byte_RAM_E\n\tLDX byte_RAM_D\n\tRTS\n","htmlComment":"<p>restore prior X and Y registers</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_E\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_D\n\t<span class=\"token opcode property\">RTS</span>\n","line":3486},{"comment":"\nLoads the current area or jar palette\n","content":"LoadCurrentPalette:\n\tLDA InSubspaceOrJar\n\tCMP #$01\n\tBNE LoadCurrentPalette_NotJar\n","htmlComment":"<p>Loads the current area or jar palette</p>\n","htmlContent":"LoadCurrentPalette:\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">BNE</span> LoadCurrentPalette_NotJar\n","line":3493},{"comment":"This function call will overwrite the\nnormal level loading area with $7A00","content":"\tJSR HijackLevelDataCopyAddressWithJar\n\n\tJMP LoadCurrentPalette_AreaOffset\n\n","htmlComment":"<p>This function call will overwrite the\nnormal level loading area with $7A00</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> HijackLevelDataCopyAddressWithJar\n\n\t<span class=\"token opcode property\">JMP</span> LoadCurrentPalette_AreaOffset\n\n","line":3500},{"comment":"---------------------------------------------------------------------------","content":"LoadCurrentPalette_NotJar:\n\tJSR RestoreLevelDataCopyAddress\n","htmlComment":"<hr>\n","htmlContent":"LoadCurrentPalette_NotJar:\n\t<span class=\"token opcode property\">JSR</span> RestoreLevelDataCopyAddress\n","line":3505},{"comment":"Read the palette offset from the area header","content":"LoadCurrentPalette_AreaOffset:\n\tLDY #$00\n\tLDA (byte_RAM_5), Y\n","htmlComment":"<p>Read the palette offset from the area header</p>\n","htmlContent":"LoadCurrentPalette_AreaOffset:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n","line":3510},{"comment":"End of function LoadCurrentPalette","content":"","htmlComment":"<p>End of function LoadCurrentPalette</p>\n","htmlContent":"","line":3515},{"comment":"\nLoads a world palette to RAM\n\n##### Input\n- `A`: background palette header byte\n","content":"ApplyPalette:","htmlComment":"<p>Loads a world palette to RAM</p>\n<h5>Input</h5>\n<ul>\n<li><code>A</code>: background palette header byte</li>\n</ul>\n","htmlContent":"ApplyPalette:","line":3522},{"comment":"Read background palette index from area header byte","content":"\tSTA byte_RAM_F\n\tAND #%00111000\n\tASL A\n\tTAX\n\tJSR ReadWorldBackgroundColor\n","htmlComment":"<p>Read background palette index from area header byte</p>\n","htmlContent":"\t<span class=\"token opcode property\">STA</span> byte_RAM_F\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00111000</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">JSR</span> ReadWorldBackgroundColor\n","line":3524},{"comment":"Something PPU-related. If it's not right, the colors are very wrong.","content":"\tSTA SkyColor\n\tLDA #$3F\n\tSTA PPUBuffer_301\n\tLDA #$00\n\tSTA PPUBuffer_301 + 1\n\tLDA #$20\n\tSTA PPUBuffer_301 + 2\n\n\tLDY #$00\nApplyPalette_BackgroundLoop:\n\tJSR ReadWorldBackgroundColor\n\tSTA PPUBuffer_301 + 3, Y\n\tINX\n\tINY\n\tCPY #$10\n\tBCC ApplyPalette_BackgroundLoop\n","htmlComment":"<p>Something PPU-related. If it's not right, the colors are very wrong.</p>\n","htmlContent":"\t<span class=\"token opcode property\">STA</span> SkyColor\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$3F</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$20</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\nApplyPalette_BackgroundLoop:\n\t<span class=\"token opcode property\">JSR</span> ReadWorldBackgroundColor\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">BCC</span> ApplyPalette_BackgroundLoop\n","line":3531},{"comment":"Read sprite palette index from area header byte","content":"\tLDA byte_RAM_F\n\tAND #$03\n\tASL A\n\tSTA byte_RAM_F\n\tASL A\n\tADC byte_RAM_F\n\tASL A\n\tTAX\n\n\tLDY #$00\nApplyPalette_SpriteLoop:\n\tJSR ReadWorldSpriteColor\n\tSTA unk_RAM_318, Y\n\tINX\n\tINY\n\tCPY #$0C\n\tBCC ApplyPalette_SpriteLoop\n\n\tLDA #$00\n\tSTA unk_RAM_318, Y\n\tLDY #$03\n\nApplyPalette_PlayerLoop:\n\tLDA RestorePlayerPalette0, Y\n\tSTA unk_RAM_314, Y\n\tDEY\n\tBPL ApplyPalette_PlayerLoop\n\n\tLDX #$03\n\tLDY #$10\nApplyPalette_SkyLoop:\n\tLDA SkyColor\n\tSTA PPUBuffer_301 + 3, Y\n\tINY\n\tINY\n\tINY\n\tINY\n\tDEX\n\tBPL ApplyPalette_SkyLoop\n\n\tRTS\n\n\nGenerateSubspaceArea:\n\tLDA CurrentLevelArea\n\tSTA CurrentLevelAreaCopy\n\tLDA #$30 ; subspace palette (works like area header byte)\n\tSTA byte_RAM_F ; why...?\n\tJSR ApplyPalette\n\n\tLDA ScreenBoundaryLeftHi\n\tSTA byte_RAM_E8\n\n\tLDA ScreenBoundaryLeftLo\n\tCLC\n\tADC #$08\n\tBCC loc_BANK6_9439\n\n\tINC byte_RAM_E8\n\nloc_BANK6_9439:\n\tAND #$F0\n\tPHA\n\tSEC\n\n\tSBC ScreenBoundaryLeftLo\n\tSTA byte_RAM_BA\n\tPLA\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA byte_RAM_E5\n\tLDA #$00\n\tSTA byte_RAM_E6\n\tLDA byte_RAM_E8\n\tSTA byte_RAM_D\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDY byte_RAM_E7\n\tLDX #$0F\n\nGenerateSubspaceArea_TileRemapLoop:\n\tLDA (byte_RAM_1), Y\n\tJSR DoSubspaceTileRemap\n\n\tSTA SubAreaTileLayout, X\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tTXA\n\tCLC\n\tADC #$10\n\tTAX\n\tAND #$F0\n\tBNE GenerateSubspaceArea_TileRemapLoop\n\n\tTYA\n\tAND #$0F\n\tTAY\n\tJSR IncrementAreaXOffset\n\n\tDEX\n\tBPL GenerateSubspaceArea_TileRemapLoop\n\n\tRTS\n\n","htmlComment":"<p>Read sprite palette index from area header byte</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> byte_RAM_F\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_F\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_F\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\nApplyPalette_SpriteLoop:\n\t<span class=\"token opcode property\">JSR</span> ReadWorldSpriteColor\n\t<span class=\"token opcode property\">STA</span> unk_RAM_<span class=\"token decimalnumber string\">318</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$0C</span>\n\t<span class=\"token opcode property\">BCC</span> ApplyPalette_SpriteLoop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> unk_RAM_<span class=\"token decimalnumber string\">318</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\n\nApplyPalette_PlayerLoop:\n\t<span class=\"token opcode property\">LDA</span> RestorePlayerPalette<span class=\"token decimalnumber string\">0</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> unk_RAM_<span class=\"token decimalnumber string\">314</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> ApplyPalette_PlayerLoop\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$10</span>\nApplyPalette_SkyLoop:\n\t<span class=\"token opcode property\">LDA</span> SkyColor\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> ApplyPalette_SkyLoop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n\nGenerateSubspaceArea:\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">STA</span> CurrentLevelAreaCopy\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$30</span> <span class=\"token comment\">; subspace palette (works like area header byte)</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_F <span class=\"token comment\">; why...?</span>\n\t<span class=\"token opcode property\">JSR</span> ApplyPalette\n\n\t<span class=\"token opcode property\">LDA</span> ScreenBoundaryLeftHi\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\n\t<span class=\"token opcode property\">LDA</span> ScreenBoundaryLeftLo\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">9439</span>\n\n\t<span class=\"token opcode property\">INC</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\nloc_BANK<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">9439</span>:\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">SEC</span>\n\n\t<span class=\"token opcode property\">SBC</span> ScreenBoundaryLeftLo\n\t<span class=\"token opcode property\">STA</span> byte_RAM_BA\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_D\n\t<span class=\"token opcode property\">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$0F</span>\n\nGenerateSubspaceArea_TileRemapLoop:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">JSR</span> DoSubspaceTileRemap\n\n\t<span class=\"token opcode property\">STA</span> SubAreaTileLayout, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BNE</span> GenerateSubspaceArea_TileRemapLoop\n\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> GenerateSubspaceArea_TileRemapLoop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3549},{"comment":"\nRemaps a single subspace tile.\n\nThis also handles creating the mushroom sprites.\n\n##### Input\n- `A`: input tile\n\n##### Output\n- `A`: output tile\n","content":"DoSubspaceTileRemap:\n\tSTY byte_RAM_8\n\tSTX byte_RAM_7\n\tLDX #(SubspaceTilesReplace - SubspaceTilesSearch - 1)\n\nDoSubspaceTileRemap_Loop:\n\tCMP SubspaceTilesSearch, X\n\tBEQ DoSubspaceTileRemap_ReplaceTile\n\n\tDEX\n\tBPL DoSubspaceTileRemap_Loop\n\n\tCMP #BackgroundTile_SubspaceMushroom1\n\tBEQ DoSubspaceTileRemap_CheckCreateMushroom\n\n\tCMP #BackgroundTile_SubspaceMushroom2\n\tBEQ DoSubspaceTileRemap_CheckCreateMushroom\n\n\tJMP DoSubspaceTileRemap_Exit\n\nDoSubspaceTileRemap_CheckCreateMushroom:\n\tSEC\n\tSBC #BackgroundTile_SubspaceMushroom1\n\tTAY\n\tLDA Mushroom1Pulled, Y\n\tBNE DoSubspaceTileRemap_AfterCreateMushroom\n\n\tLDX byte_RAM_7\n\tJSR CreateSubspaceMushroomObject\n\nDoSubspaceTileRemap_AfterCreateMushroom:\n\tLDA #BackgroundTile_SubspaceMushroom1\n\tJMP DoSubspaceTileRemap_Exit\n\nDoSubspaceTileRemap_ReplaceTile:\n\tLDA SubspaceTilesReplace, X\n\nDoSubspaceTileRemap_Exit:\n\tLDX byte_RAM_7\n\tLDY byte_RAM_8\n\tRTS\n\n","htmlComment":"<p>Remaps a single subspace tile.</p>\n<p>This also handles creating the mushroom sprites.</p>\n<h5>Input</h5>\n<ul>\n<li><code>A</code>: input tile</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: output tile</li>\n</ul>\n","htmlContent":"DoSubspaceTileRemap:\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDX</span> #(SubspaceTilesReplace - SubspaceTilesSearch - <span class=\"token decimalnumber string\">1</span>)\n\nDoSubspaceTileRemap_Loop:\n\t<span class=\"token opcode property\">CMP</span> SubspaceTilesSearch, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> DoSubspaceTileRemap_ReplaceTile\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> DoSubspaceTileRemap_Loop\n\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_SubspaceMushroom<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">BEQ</span> DoSubspaceTileRemap_CheckCreateMushroom\n\n\t<span class=\"token opcode property\">CMP</span> #BackgroundTile_SubspaceMushroom<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">BEQ</span> DoSubspaceTileRemap_CheckCreateMushroom\n\n\t<span class=\"token opcode property\">JMP</span> DoSubspaceTileRemap_Exit\n\nDoSubspaceTileRemap_CheckCreateMushroom:\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> #BackgroundTile_SubspaceMushroom<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> Mushroom<span class=\"token decimalnumber string\">1</span>Pulled, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BNE</span> DoSubspaceTileRemap_AfterCreateMushroom\n\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> CreateSubspaceMushroomObject\n\nDoSubspaceTileRemap_AfterCreateMushroom:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_SubspaceMushroom<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JMP</span> DoSubspaceTileRemap_Exit\n\nDoSubspaceTileRemap_ReplaceTile:\n\t<span class=\"token opcode property\">LDA</span> SubspaceTilesReplace, <span class=\"token register variable\">X</span>\n\nDoSubspaceTileRemap_Exit:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3669},{"comment":"\nClears the sub-area tile layout when the player goes into a jar\n","content":"ClearSubAreaTileLayout:\n\tLDX #$00\n\tSTX IsHorizontalLevel\n\nClearSubAreaTileLayout_Loop:\n\tLDA #BackgroundTile_Sky\n\tSTA SubAreaTileLayout, X\n\tINX\n\tBNE ClearSubAreaTileLayout_Loop\n\n\tLDA CurrentLevelArea\n\tSTA CurrentLevelAreaCopy\n\tLDA #$04 ; jar is always area 4\n\tSTA CurrentLevelArea\n\tLDA #$0A\n\tJSR HijackLevelDataCopyAddressWithJar\n\n\tLDY #$00\n\tLDA #$0A\n\tSTA byte_RAM_E8\n\tSTA byte_RAM_540\n\tSTY byte_RAM_E6\n\tSTY byte_RAM_E5\n\tSTY GroundType\n\tLDY #$03\n\tSTY GroundSetting\n\tLDY #$04\n\tJSR ReadLevelBackgroundData_Page\n","htmlComment":"<p>Clears the sub-area tile layout when the player goes into a jar</p>\n","htmlContent":"ClearSubAreaTileLayout:\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STX</span> IsHorizontalLevel\n\nClearSubAreaTileLayout_Loop:\n\t<span class=\"token opcode property\">LDA</span> #BackgroundTile_Sky\n\t<span class=\"token opcode property\">STA</span> SubAreaTileLayout, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">BNE</span> ClearSubAreaTileLayout_Loop\n\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">STA</span> CurrentLevelAreaCopy\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$04</span> <span class=\"token comment\">; jar is always area 4</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">JSR</span> HijackLevelDataCopyAddressWithJar\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">STY</span> GroundType\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STY</span> GroundSetting\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">JSR</span> ReadLevelBackgroundData_Page\n","line":3715},{"comment":"object type","content":"\tLDY #$02\n\tLDA (byte_RAM_5), Y\n\tAND #%00000011\n\tSTA ObjectType3Xthru9X\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tAND #%00000011\n\tSTA ObjectTypeAXthruFX\n\tJSR HijackLevelDataCopyAddressWithJar\n\n\tLDA #$0A\n\tSTA byte_RAM_E8\n\tLDA #$00\n\tSTA byte_RAM_E6\n\tSTA byte_RAM_E5\n\tLDA #$03\n\tSTA byte_RAM_4\n\tJSR ReadLevelForegroundData_NextByteObject\n\n\tLDA #$01\n\tSTA IsHorizontalLevel\n\tRTS\n","htmlComment":"<p>object type</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000011</span>\n\t<span class=\"token opcode property\">STA</span> ObjectType<span class=\"token decimalnumber string\">3</span>Xthru<span class=\"token decimalnumber string\">9</span><span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000011</span>\n\t<span class=\"token opcode property\">STA</span> ObjectTypeAXthruFX\n\t<span class=\"token opcode property\">JSR</span> HijackLevelDataCopyAddressWithJar\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">JSR</span> ReadLevelForegroundData_NextByteObject\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">RTS</span>\n","line":3745},{"comment":"\nSet the current background music to the current area's music as defined in the header.\n\nThis stops the current music unless the player is currently invincible.\n","content":"LoadAreaMusic:\n\tLDY #$03\n\tLDA (byte_RAM_5), Y\n\tAND #%00000011\n\tSTA CompareMusicIndex\n\tCMP CurrentMusicIndex\n\tBEQ LoadAreaMusic_Exit\n\n\tLDA StarInvincibilityTimer\n\tCMP #$08\n\tBCS LoadAreaMusic_Exit\n\n\tLDA #Music2_StopMusic\n\tSTA MusicQueue2\n\nLoadAreaMusic_Exit:\n\tRTS\n\n","htmlComment":"<p>Set the current background music to the current area's music as defined in the header.</p>\n<p>This stops the current music unless the player is currently invincible.</p>\n","htmlContent":"LoadAreaMusic:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000011</span>\n\t<span class=\"token opcode property\">STA</span> CompareMusicIndex\n\t<span class=\"token opcode property\">CMP</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">BEQ</span> LoadAreaMusic_Exit\n\n\t<span class=\"token opcode property\">LDA</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">BCS</span> LoadAreaMusic_Exit\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_StopMusic\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\nLoadAreaMusic_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3774},{"comment":"\nUnreferenced? A similar routine exists in Bank F, so it seems like this may\nbe leftover code from a previous version.\n","content":"Unused_LevelMusicIndexes:\n\t.db Music1_Overworld\n\t.db Music1_Inside\n\t.db Music1_Boss\n\t.db Music1_Wart\n\t.db Music1_Subspace\n\nUnused_ChangeAreaMusic:\n\tLDA CompareMusicIndex\n\tCMP CurrentMusicIndex\n\tBEQ Unused_ChangeAreaMusic_Exit\n\n\tTAX\n\tSTX CurrentMusicIndex\n\tLDA StarInvincibilityTimer\n\tCMP #$08\n\tBCS LoadAreaMusic_Exit\n\n\tLDA Unused_LevelMusicIndexes, X\n\tSTA MusicQueue1\n\nUnused_ChangeAreaMusic_Exit:\n\tRTS\n","htmlComment":"<p>Unreferenced? A similar routine exists in Bank F, so it seems like this may\nbe leftover code from a previous version.</p>\n","htmlContent":"Unused_LevelMusicIndexes:\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Overworld\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Inside\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Boss\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Wart\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Subspace\n\nUnused_ChangeAreaMusic:\n\t<span class=\"token opcode property\">LDA</span> CompareMusicIndex\n\t<span class=\"token opcode property\">CMP</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">BEQ</span> Unused_ChangeAreaMusic_Exit\n\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">STX</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">LDA</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">BCS</span> LoadAreaMusic_Exit\n\n\t<span class=\"token opcode property\">LDA</span> Unused_LevelMusicIndexes, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\nUnused_ChangeAreaMusic_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n","line":3797},{"comment":"Unreferenced?","content":"\tLDA CurrentLevelPage\n\tASL A\n\tTAY\n\tLDA AreaPointersByPage, Y\n\tSTA CurrentLevel\n\tINY\n\tLDA AreaPointersByPage, Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA CurrentLevelArea\n\tLDA AreaPointersByPage, Y\n\tAND #$0F\n\tSTA CurrentLevelEntryPage\n\tRTS\n\n","htmlComment":"<p>Unreferenced?</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> CurrentLevelPage\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevel\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">LDA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelEntryPage\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3822},{"comment":"\n## Area loading and rendering\n\nThis is the main subroutine for parsing and rendering an entire area of a level.\n","content":"LoadCurrentArea:","htmlComment":"<h2>Area loading and rendering</h2>\n<p>This is the main subroutine for parsing and rendering an entire area of a level.</p>\n","htmlContent":"LoadCurrentArea:","line":3845},{"comment":"First, reset the level data and PPU scrolling.","content":"\tJSR ResetLevelData\n\n\tJSR ResetPPUScrollHi_Bank6\n","htmlComment":"<p>First, reset the level data and PPU scrolling.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> ResetLevelData\n\n\t<span class=\"token opcode property\">JSR</span> ResetPPUScrollHi_Bank<span class=\"token decimalnumber string\">6</span>\n","line":3847},{"comment":"Determine the address of the raw level data.","content":"\tJSR RestoreLevelDataCopyAddress\n","htmlComment":"<p>Determine the address of the raw level data.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> RestoreLevelDataCopyAddress\n","line":3852},{"comment":"\n### Read area header\n\nThe level header is read backwards starting at the last byte.\n","content":"","htmlComment":"<h3>Read area header</h3>\n<p>The level header is read backwards starting at the last byte.</p>\n","htmlContent":"","line":3859},{"comment":"Queue any changes to the background music.","content":"\tJSR LoadAreaMusic\n","htmlComment":"<p>Queue any changes to the background music.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> LoadAreaMusic\n","line":3861},{"comment":"\nLoad initial ground appearance, which determines the tiles used for the background.\n","content":"\tLDY #$03\n\tLDA (byte_RAM_5), Y\nIFNDEF LEVEL_ENGINE_UPGRADES\n\tLSR A\n\tAND #%00011100\nELSE","htmlComment":"<p>Load initial ground appearance, which determines the tiles used for the background.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\nIFNDEF LEVEL_ENGINE_UPGRADES\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00011100</span>\nELSE","line":3866},{"comment":"double available ground types","content":"\tAND #%11110000\n\tLSR A\n\tLSR A\nENDIF\n\n\tSTA GroundType\n","htmlComment":"<p>double available ground types</p>\n","htmlContent":"\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%11110000</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\nENDIF\n\n\t<span class=\"token opcode property\">STA</span> GroundType\n","line":3873},{"comment":"This doesn't hurt, but shouldn't be necessary.","content":"\tJSR RestoreLevelDataCopyAddress\n\nIFDEF ENABLE_LEVEL_OBJECT_MODE","htmlComment":"<p>This doesn't hurt, but shouldn't be necessary.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> RestoreLevelDataCopyAddress\n\nIFDEF ENABLE_LEVEL_OBJECT_MODE","line":3881},{"comment":"Read level object mode.","content":"\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tAND #%00000011\n\tSTA LevelObjectMode\nENDIF\n","htmlComment":"<p>Read level object mode.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000011</span>\n\t<span class=\"token opcode property\">STA</span> LevelObjectMode\nENDIF\n","line":3885},{"comment":"Determine whether this area is Horizontal or vertical.","content":"\tLDY #$00\n\tLDA (byte_RAM_5), Y\n\tASL A\n\tLDA #$00\n\tROL A\n\tSTA IsHorizontalLevel\n","htmlComment":"<p>Determine whether this area is Horizontal or vertical.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">ROL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> IsHorizontalLevel\n","line":3893},{"comment":"Reset the area page so that we can start drawing from the beginning.","content":"\tLDA #$00\n\tSTA byte_RAM_E8\n","htmlComment":"<p>Reset the area page so that we can start drawing from the beginning.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n","line":3901},{"comment":"Determine the level length (in pages).","content":"\tLDY #$02\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA CurrentLevelPages\n","htmlComment":"<p>Determine the level length (in pages).</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelPages\n","line":3905},{"comment":"Determine the object types, which are used to determine which horizontal and vertical blocks are\nused, as well as how some climbable objects appear.","content":"\tLDA (byte_RAM_5), Y\n\tAND #%00000011\n\tSTA ObjectType3Xthru9X\n\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tAND #%00000011\n\tSTA ObjectTypeAXthruFX\n\tDEY\n\nIFDEF AREA_HEADER_TILESET","htmlComment":"<p>Determine the object types, which are used to determine which horizontal and vertical blocks are\nused, as well as how some climbable objects appear.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000011</span>\n\t<span class=\"token opcode property\">STA</span> ObjectType<span class=\"token decimalnumber string\">3</span>Xthru<span class=\"token decimalnumber string\">9</span><span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000011</span>\n\t<span class=\"token opcode property\">STA</span> ObjectTypeAXthruFX\n\t<span class=\"token opcode property\">DEY</span>\n\nIFDEF AREA_HEADER_TILESET","line":3915},{"comment":"World tileset to use for the area.","content":"\tLDA (byte_RAM_5), Y\n\tROL A\n\tROL A\n\tROL A\n\tROL A\n\tAND #%00000111\n\tCMP #$07 ; only $00-06 are valid, force $07 to CurrentWorld\n\tBCC LoadCurrentArea_IsValid\n\tLDA CurrentWorld\nLoadCurrentArea_IsValid:\n\tSTA CurrentWorldTileset\nENDIF\n","htmlComment":"<p>World tileset to use for the area.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">ROL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00000111</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$07</span> <span class=\"token comment\">; only $00-06 are valid, force $07 to CurrentWorld</span>\n\t<span class=\"token opcode property\">BCC</span> LoadCurrentArea_IsValid\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\nLoadCurrentArea_IsValid:\n\t<span class=\"token opcode property\">STA</span> CurrentWorldTileset\nENDIF\n","line":3927},{"comment":"Load initial ground setting, which determines the shape of the ground layout.\n\nUsing `$1F` skips rendering ground settings entirely, but no areas seem to use it.","content":"\tLDA (byte_RAM_5), Y\n\tAND #%00011111\n\tCMP #%00011111\n\tBEQ LoadCurrentArea_ForegroundData\n\n\tSTA GroundSetting\n","htmlComment":"<p>Load initial ground setting, which determines the shape of the ground layout.</p>\n<p>Using <code>$1F</code> skips rendering ground settings entirely, but no areas seem to use it.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00011111</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token binarynumber string\">#%00011111</span>\n\t<span class=\"token opcode property\">BEQ</span> LoadCurrentArea_ForegroundData\n\n\t<span class=\"token opcode property\">STA</span> GroundSetting\n","line":3943},{"comment":"\n### Process level data\n\nThe area is rendered in two passes (with the exception described above).\n","content":"","htmlComment":"<h3>Process level data</h3>\n<p>The area is rendered in two passes (with the exception described above).</p>\n","htmlContent":"","line":3955},{"comment":"\n#### First pass: background terrain\n\nThe first pass applies the ground settings and appearance to the entire area. This makes sure\nthat the ground is already in place when rendering objects that extend to the ground, such as\ntrees, vines, and platforms.\n","content":"","htmlComment":"<h4>First pass: background terrain</h4>\n<p>The first pass applies the ground settings and appearance to the entire area. This makes sure\nthat the ground is already in place when rendering objects that extend to the ground, such as\ntrees, vines, and platforms.</p>\n","htmlContent":"","line":3963},{"comment":"Advance to the first object in the level data.","content":"\tINY\n\tINY\n\tINY\n","htmlComment":"<p>Advance to the first object in the level data.</p>\n","htmlContent":"\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n","line":3965},{"comment":"Reset the tile placement offset for the first pass.","content":"\tLDA #$00\n\tSTA byte_RAM_E5\n\tSTA byte_RAM_E6\n","htmlComment":"<p>Reset the tile placement offset for the first pass.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n","line":3970},{"comment":"Run the first pass of level rendering to apply ground settings and appearance.","content":"\tJSR ReadLevelBackgroundData\n","htmlComment":"<p>Run the first pass of level rendering to apply ground settings and appearance.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> ReadLevelBackgroundData\n","line":3975},{"comment":"\n#### Second pass: foreground objects\n\nThe second pass renders normal level objects and sets up area pointers.\n","content":"LoadCurrentArea_ForegroundData:","htmlComment":"<h4>Second pass: foreground objects</h4>\n<p>The second pass renders normal level objects and sets up area pointers.</p>\n","htmlContent":"LoadCurrentArea_ForegroundData:","line":3982},{"comment":"Reset the tile placement offset for the second pass.","content":"\tLDA #$00\n\tSTA byte_RAM_E6\n","htmlComment":"<p>Reset the tile placement offset for the second pass.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n","line":3984},{"comment":"Advance to the first object in the level data.","content":"\tLDA #$03\n\tSTA byte_RAM_4\n","htmlComment":"<p>Advance to the first object in the level data.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n","line":3988},{"comment":"Run the second pass of level rendering to place regular objects in the level.","content":"\tJSR ReadLevelForegroundData\n","htmlComment":"<p>Run the second pass of level rendering to place regular objects in the level.</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> ReadLevelForegroundData\n","line":3992},{"comment":"Bootstrap the pseudo-random number generator.","content":"\tLDA #$22\n\tORA byte_RAM_10\n\tSTA PseudoRNGValues\n\tRTS\n\n","htmlComment":"<p>Bootstrap the pseudo-random number generator.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$22</span>\n\t<span class=\"token opcode property\">ORA</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">STA</span> PseudoRNGValues\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3995},{"comment":"\nSets the raw level data pointer to the level data.\n","content":"RestoreLevelDataCopyAddress:\n\tLDA #>RawLevelData\n\tSTA byte_RAM_6\n\tLDA #<RawLevelData\n\tSTA byte_RAM_5\n\tRTS\n\n","htmlComment":"<p>Sets the raw level data pointer to the level data.</p>\n","htmlContent":"RestoreLevelDataCopyAddress:\n\t<span class=\"token opcode property\">LDA</span> #>RawLevelData\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDA</span> #&#x3C;RawLevelData\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4004},{"comment":"\nSets the raw level data pointer to the jar data.\n\nThis is what allows jars to load so quickly.\n","content":"HijackLevelDataCopyAddressWithJar:\n\tLDA #>RawJarData\n\tSTA byte_RAM_6\n\tLDA #<RawJarData\n\tSTA byte_RAM_5\n\tRTS\n\n","htmlComment":"<p>Sets the raw level data pointer to the jar data.</p>\n<p>This is what allows jars to load so quickly.</p>\n","htmlContent":"HijackLevelDataCopyAddressWithJar:\n\t<span class=\"token opcode property\">LDA</span> #>RawJarData\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDA</span> #&#x3C;RawJarData\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4017},{"comment":"\n### Render foreground level data\n\nReads level data from the beginning and processes individual objects.\n\n##### Input\n- `byte_RAM_4`: raw data offset\n","content":"ReadLevelForegroundData:","htmlComment":"<h3>Render foreground level data</h3>\n<p>Reads level data from the beginning and processes individual objects.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_4</code>: raw data offset</li>\n</ul>\n","htmlContent":"ReadLevelForegroundData:","line":4033},{"comment":"start at area page 0","content":"\tLDA #$00\n\tSTA byte_RAM_E8\n","htmlComment":"<p>start at area page 0</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n","line":4035},{"comment":"weird? the next lines do nothing","content":"\tLDY #$00\n\tJMP ReadLevelForegroundData_NextByteObject\n\nReadLevelForegroundData_NextByteObject:\n\tLDY byte_RAM_4\n\nReadLevelForegroundData_NextByte:\n\tINY\n\tLDA (byte_RAM_5), Y\n\tCMP #$FF\n\tBNE ReadLevelForegroundData_ProcessObject","htmlComment":"<p>weird? the next lines do nothing</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_NextByteObject\n\nReadLevelForegroundData_NextByteObject:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\nReadLevelForegroundData_NextByte:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelForegroundData_ProcessObject","line":4039},{"comment":"Encountering `$FF` indicates the end of the level data.","content":"\tRTS\n\nReadLevelForegroundData_ProcessObject:","htmlComment":"<p>Encountering <code>$FF</code> indicates the end of the level data.</p>\n","htmlContent":"\t<span class=\"token opcode property\">RTS</span>\n\nReadLevelForegroundData_ProcessObject:","line":4051},{"comment":"Stash the lower nybble of the first byte.\nFor a special object, this will be the special object type.\nFor a regular object, this will be the X position.","content":"\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_E5","htmlComment":"<p>Stash the lower nybble of the first byte.\nFor a special object, this will be the special object type.\nFor a regular object, this will be the X position.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>","line":4057},{"comment":"If the upper nybble of the first byte is $F, this is a special object.","content":"\tLDA (byte_RAM_5), Y\n\tAND #$F0\n\tCMP #$F0\n\tBNE ReadLevelForegroundData_RegularObject\n\nReadLevelForegroundData_SpecialObject:\n\tLDA byte_RAM_E5\n\tSTY byte_RAM_F\n\tJSR ProcessSpecialObjectForeground\n\n\tLDY byte_RAM_F\n\tJMP ReadLevelForegroundData_NextByte\n\nReadLevelForegroundData_RegularObject:\n\tJSR UpdateAreaYOffset\n","htmlComment":"<p>If the upper nybble of the first byte is $F, this is a special object.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelForegroundData_RegularObject\n\nReadLevelForegroundData_SpecialObject:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_F\n\t<span class=\"token opcode property\">JSR</span> ProcessSpecialObjectForeground\n\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_F\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_NextByte\n\nReadLevelForegroundData_RegularObject:\n\t<span class=\"token opcode property\">JSR</span> UpdateAreaYOffset\n","line":4061},{"comment":"check object type","content":"\tINY","htmlComment":"<p>check object type</p>\n","htmlContent":"\t<span class=\"token opcode property\">INY</span>","line":4078},{"comment":"upper nybble","content":"\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA byte_RAM_50E\n\tCMP #$03\n\tBCS ReadLevelForegroundData_RegularObjectWithSize\n\nReadLevelForegroundData_RegularObjectNoSize:\n\tPHA\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_50E\n\tPLA\n\tBEQ ReadLevelForegroundData_RegularObjectNoSize_00\n\n\tPHA\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTY byte_RAM_4\n\tPLA\n\tCMP #$01\n\tBNE ReadLevelForegroundData_RegularObjectNoSize_Not10\n\nReadLevelForegroundData_RegularObjectNoSize_10:\n\tJSR CreateObjects_10\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectNoSize_Not10:\n\tCMP #$02\n\tBNE ReadLevelForegroundData_RegularObjectNoSize_Not20\n\nReadLevelForegroundData_RegularObjectNoSize_20:\n\tJSR CreateObjects_20\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectNoSize_Not20:\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectWithSize:\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_50D\n\tSTY byte_RAM_4\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDA byte_RAM_50E\n\tSEC\n\tSBC #$03\n\tSTA byte_RAM_50E\n\tJSR CreateObjects_30thruF0\n\nReadLevelForegroundData_RegularObject_Exit:\n\tJMP ReadLevelForegroundData_NextByteObject\n\nReadLevelForegroundData_RegularObjectNoSize_00:\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTY byte_RAM_4\n\tJSR CreateObjects_00\n\n\tJMP ReadLevelForegroundData_RegularObject_Exit\n\n","htmlComment":"<p>upper nybble</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">BCS</span> ReadLevelForegroundData_RegularObjectWithSize\n\nReadLevelForegroundData_RegularObjectNoSize:\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">BEQ</span> ReadLevelForegroundData_RegularObjectNoSize_<span class=\"token decimalnumber string\">00</span>\n\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelForegroundData_RegularObjectNoSize_Not<span class=\"token decimalnumber string\">10</span>\n\nReadLevelForegroundData_RegularObjectNoSize_<span class=\"token decimalnumber string\">10</span>:\n\t<span class=\"token opcode property\">JSR</span> CreateObjects_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectNoSize_Not<span class=\"token decimalnumber string\">10</span>:\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelForegroundData_RegularObjectNoSize_Not<span class=\"token decimalnumber string\">20</span>\n\nReadLevelForegroundData_RegularObjectNoSize_<span class=\"token decimalnumber string\">20</span>:\n\t<span class=\"token opcode property\">JSR</span> CreateObjects_<span class=\"token decimalnumber string\">20</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectNoSize_Not<span class=\"token decimalnumber string\">20</span>:\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_RegularObject_Exit\n\nReadLevelForegroundData_RegularObjectWithSize:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">JSR</span> CreateObjects_<span class=\"token decimalnumber string\">30</span>thruF<span class=\"token decimalnumber string\">0</span>\n\nReadLevelForegroundData_RegularObject_Exit:\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_NextByteObject\n\nReadLevelForegroundData_RegularObjectNoSize_<span class=\"token decimalnumber string\">00</span>:\n\t<span class=\"token opcode property\">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">JSR</span> CreateObjects_<span class=\"token decimalnumber string\">00</span>\n\n\t<span class=\"token opcode property\">JMP</span> ReadLevelForegroundData_RegularObject_Exit\n\n","line":4080},{"comment":"\nUpdates the area Y offset for object placement\n\n##### Input\n- `A`: vertical offset\n","content":"UpdateAreaYOffset:\n\tCLC\n\tADC byte_RAM_E6\n\tBCC UpdateAreaYOffset_SamePage\n\n\tADC #$0F\n\tJMP UpdateAreaYOffset_NextPage\n\nUpdateAreaYOffset_SamePage:\n\tCMP #$F0\n\tBNE UpdateAreaYOffset_Exit\n\n\tLDA #$00\n\nUpdateAreaYOffset_NextPage:\n\tINC byte_RAM_E8\n\nUpdateAreaYOffset_Exit:\n\tSTA byte_RAM_E6\n\tRTS\n\n","htmlComment":"<p>Updates the area Y offset for object placement</p>\n<h5>Input</h5>\n<ul>\n<li><code>A</code>: vertical offset</li>\n</ul>\n","htmlContent":"UpdateAreaYOffset:\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">BCC</span> UpdateAreaYOffset_SamePage\n\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">JMP</span> UpdateAreaYOffset_NextPage\n\nUpdateAreaYOffset_SamePage:\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BNE</span> UpdateAreaYOffset_Exit\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\nUpdateAreaYOffset_NextPage:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\nUpdateAreaYOffset_Exit:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4155},{"comment":"\nProcesses special objects for the second pass, which draws object tiles.\n\nOn this pass, ground setting tiles are ignored, and we're just eating the bytes, but page skip\nobjects still require updating the tile placement cursor.\n\nArea pointers are also processed in this pass. Although they _could_ be processed earlier, this\nreduces the likelihood of being overridden by a door pointer.\n","content":"ProcessSpecialObjectForeground:\n\tJSR JumpToTableAfterJump\n\n\t.dw EatLevelObject1Byte ; Ground setting 0-8\n\t.dw EatLevelObject1Byte ; Ground setting 9-15\n\t.dw SkipForwardPage1Foreground ; Skip forward 1 page\n\t.dw SkipForwardPage2Foreground ; Skip forward 2 pages\n\t.dw ResetPageAndOffsetForeground ; New object layer\n\t.dw SetAreaPointer ; Area pointer\n\t.dw EatLevelObject1Byte ; Ground appearance\nIFDEF LEVEL_ENGINE_UPGRADES\n\t.dw CreateRawTiles\nENDIF\n\n","htmlComment":"<p>Processes special objects for the second pass, which draws object tiles.</p>\n<p>On this pass, ground setting tiles are ignored, and we're just eating the bytes, but page skip\nobjects still require updating the tile placement cursor.</p>\n<p>Area pointers are also processed in this pass. Although they <em>could</em> be processed earlier, this\nreduces the likelihood of being overridden by a door pointer.</p>\n","htmlContent":"ProcessSpecialObjectForeground:\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> EatLevelObject<span class=\"token decimalnumber string\">1</span>Byte <span class=\"token comment\">; Ground setting 0-8</span>\n\t<span class=\"token directive keyword\">.dw</span> EatLevelObject<span class=\"token decimalnumber string\">1</span>Byte <span class=\"token comment\">; Ground setting 9-15</span>\n\t<span class=\"token directive keyword\">.dw</span> SkipForwardPage<span class=\"token decimalnumber string\">1</span>Foreground <span class=\"token comment\">; Skip forward 1 page</span>\n\t<span class=\"token directive keyword\">.dw</span> SkipForwardPage<span class=\"token decimalnumber string\">2</span>Foreground <span class=\"token comment\">; Skip forward 2 pages</span>\n\t<span class=\"token directive keyword\">.dw</span> ResetPageAndOffsetForeground <span class=\"token comment\">; New object layer</span>\n\t<span class=\"token directive keyword\">.dw</span> SetAreaPointer <span class=\"token comment\">; Area pointer</span>\n\t<span class=\"token directive keyword\">.dw</span> EatLevelObject<span class=\"token decimalnumber string\">1</span>Byte <span class=\"token comment\">; Ground appearance</span>\nIFDEF LEVEL_ENGINE_UPGRADES\n\t<span class=\"token directive keyword\">.dw</span> CreateRawTiles\nENDIF\n\n","line":4186},{"comment":"\nProcesses special objects for the first pass, which draws ground layout tiles.\n","content":"ProcessSpecialObjectBackground:\n\tJSR JumpToTableAfterJump\n\n\t.dw SetGroundSettingA ; Ground setting 0-7\n\t.dw SetGroundSettingB ; Ground setting 8-15\n\t.dw SkipForwardPage1Background ; Skip forward 1 page\n\t.dw SkipForwardPage2Background ; Skip forward 2 pages\n\t.dw ResetPageAndOffsetBackground ; New object layer\n\t.dw SetAreaPointerNoOp ; Area pointer\n\t.dw SetGroundType ; Ground appearance\nIFDEF LEVEL_ENGINE_UPGRADES\n\t.dw CreateRawTilesNoOp\nENDIF\n\n\n","htmlComment":"<p>Processes special objects for the first pass, which draws ground layout tiles.</p>\n","htmlContent":"ProcessSpecialObjectBackground:\n\t<span class=\"token opcode property\">JSR</span> JumpToTableAfterJump\n\n\t<span class=\"token directive keyword\">.dw</span> SetGroundSettingA <span class=\"token comment\">; Ground setting 0-7</span>\n\t<span class=\"token directive keyword\">.dw</span> SetGroundSettingB <span class=\"token comment\">; Ground setting 8-15</span>\n\t<span class=\"token directive keyword\">.dw</span> SkipForwardPage<span class=\"token decimalnumber string\">1</span>Background <span class=\"token comment\">; Skip forward 1 page</span>\n\t<span class=\"token directive keyword\">.dw</span> SkipForwardPage<span class=\"token decimalnumber string\">2</span>Background <span class=\"token comment\">; Skip forward 2 pages</span>\n\t<span class=\"token directive keyword\">.dw</span> ResetPageAndOffsetBackground <span class=\"token comment\">; New object layer</span>\n\t<span class=\"token directive keyword\">.dw</span> SetAreaPointerNoOp <span class=\"token comment\">; Area pointer</span>\n\t<span class=\"token directive keyword\">.dw</span> SetGroundType <span class=\"token comment\">; Ground appearance</span>\nIFDEF LEVEL_ENGINE_UPGRADES\n\t<span class=\"token directive keyword\">.dw</span> CreateRawTilesNoOp\nENDIF\n\n\n","line":4204},{"comment":"\n#### Special Object `$F2` / `$F3`: Skip Page (Foreground)\n\nMoves the tile placement cursor forward one or two pages in the foregorund pass.\n\n##### Output\n\n- `byte_RAM_E8`: area page\n- `byte_RAM_E6`: tile placement offset\n\n","content":"SkipForwardPage2Foreground:\n\tINC byte_RAM_E8\n\nSkipForwardPage1Foreground:\n\tINC byte_RAM_E8\n\tLDA #$00\n\tSTA byte_RAM_E6\n\tRTS\n\n\n","htmlComment":"<h4>Special Object <code>$F2</code> / <code>$F3</code>: Skip Page (Foreground)</h4>\n<p>Moves the tile placement cursor forward one or two pages in the foregorund pass.</p>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_E8</code>: area page</li>\n<li><code>byte_RAM_E6</code>: tile placement offset</li>\n</ul>\n","htmlContent":"SkipForwardPage<span class=\"token decimalnumber string\">2</span>Foreground:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\nSkipForwardPage<span class=\"token decimalnumber string\">1</span>Foreground:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":4230},{"comment":"\n#### Special Object `$F2` / `$F3`: Skip Page (Background)\n\nMoves the tile placement cursor forward one or two pages in the background pass.\n\n##### Output\n\n- `byte_RAM_540`: area page\n- `byte_RAM_E`: tile placement offset\n- `byte_RAM_9`: tile placement offset (overflow counter)\n","content":"SkipForwardPage2Background:\n\tINC byte_RAM_540\n\nSkipForwardPage1Background:\n\tINC byte_RAM_540\n\tLDA #$00\n\tSTA byte_RAM_E\n\tSTA byte_RAM_9\n\tRTS\n","htmlComment":"<h4>Special Object <code>$F2</code> / <code>$F3</code>: Skip Page (Background)</h4>\n<p>Moves the tile placement cursor forward one or two pages in the background pass.</p>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_540</code>: area page</li>\n<li><code>byte_RAM_E</code>: tile placement offset</li>\n<li><code>byte_RAM_9</code>: tile placement offset (overflow counter)</li>\n</ul>\n","htmlContent":"SkipForwardPage<span class=\"token decimalnumber string\">2</span>Background:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\nSkipForwardPage<span class=\"token decimalnumber string\">1</span>Background:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":4252},{"comment":"\nAdvances two bytes in the level data.\n\nUnreferenced?\n","content":"EatLevelObject2Bytes:\n\tINC byte_RAM_F\n","htmlComment":"<p>Advances two bytes in the level data.</p>\n<p>Unreferenced?</p>\n","htmlContent":"EatLevelObject<span class=\"token decimalnumber string\">2</span>Bytes:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_F\n","line":4268},{"comment":"\nAdvances one byte in the level data.\n","content":"EatLevelObject1Byte:\n\tINC byte_RAM_F\n\tRTS\n\n","htmlComment":"<p>Advances one byte in the level data.</p>\n","htmlContent":"EatLevelObject<span class=\"token decimalnumber string\">1</span>Byte:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_F\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4274},{"comment":"\n#### Area Pointer Object `$F5`\n\nSets the area pointer for this page.\n\n##### Input\n- `byte_RAM_F`: level data byte offset\n- `byte_RAM_E8`: area page\n\n##### Output\n- `byte_RAM_F`: level data byte offset\n","content":"SetAreaPointer:\n\tLDY byte_RAM_F\n\tINY\n\tLDA byte_RAM_E8\n\tASL A\n\tTAX\n\tLDA (byte_RAM_5), Y\n\tSTA AreaPointersByPage, X\n\tINY\n\tINX\n\tLDA (byte_RAM_5), Y\n\tSTA AreaPointersByPage, X\n\tSTY byte_RAM_F\n\tRTS\n\n\nIFDEF LEVEL_ENGINE_UPGRADES","htmlComment":"<h4>Area Pointer Object <code>$F5</code></h4>\n<p>Sets the area pointer for this page.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_F</code>: level data byte offset</li>\n<li><code>byte_RAM_E8</code>: area page</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_F</code>: level data byte offset</li>\n</ul>\n","htmlContent":"SetAreaPointer:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_F\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> AreaPointersByPage, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> AreaPointersByPage, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_F\n\t<span class=\"token opcode property\">RTS</span>\n\n\nIFDEF LEVEL_ENGINE_UPGRADES","line":4291},{"comment":"\n#### Special Object `$F7`\n\nCreates a run of 1-16 arbitrary tiles.\n\n#### Usage: `$F7 $YX $WL ...`\n- `Y`: relative Y offset on page\n- `X`: X position on page\n- `W`: wrap width (eg. 0 for no wrap, 2 for 2-tiles wide, etc.)\n- `L`: run length, L+1 subsequent bytes are the raw tiles\n","content":"CreateRawTiles:\n\tLDY byte_RAM_F\n","htmlComment":"<h4>Special Object <code>$F7</code></h4>\n<p>Creates a run of 1-16 arbitrary tiles.</p>\n<h4>Usage: <code>$F7 $YX $WL ...</code></h4>\n<ul>\n<li><code>Y</code>: relative Y offset on page</li>\n<li><code>X</code>: X position on page</li>\n<li><code>W</code>: wrap width (eg. 0 for no wrap, 2 for 2-tiles wide, etc.)</li>\n<li><code>L</code>: run length, L+1 subsequent bytes are the raw tiles</li>\n</ul>\n","htmlContent":"CreateRawTiles:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_F\n","line":4319},{"comment":"setting the page address allows this to be the first object of an area","content":"\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tINY","htmlComment":"<p>setting the page address allows this to be the first object of an area</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">INY</span>","line":4323},{"comment":"read tile placement offset","content":"\tLDA (byte_RAM_5), Y\n\tCLC\n\tADC byte_RAM_E6 ; add current offset\n\tSTA byte_RAM_E7 ; target tile placement offset\n","htmlComment":"<p>read tile placement offset</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span> <span class=\"token comment\">; add current offset</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span> <span class=\"token comment\">; target tile placement offset</span>\n","line":4328},{"comment":"apply page Y offset","content":"\tLDA (byte_RAM_5), Y\n\tAND #$F0\n\tJSR UpdateAreaYOffset\n\n\tINY","htmlComment":"<p>apply page Y offset</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">JSR</span> UpdateAreaYOffset\n\n\t<span class=\"token opcode property\">INY</span>","line":4334},{"comment":"read run length","content":"\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTA byte_RAM_50D\n","htmlComment":"<p>read run length</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n","line":4340},{"comment":"read wrap length","content":"\tLDA (byte_RAM_5), Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA byte_RAM_50E\n","htmlComment":"<p>read wrap length</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n","line":4345},{"comment":"start counting from 0","content":"\tLDX #$00\n","htmlComment":"<p>start counting from 0</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n","line":4353},{"comment":"everything afterwards is raw data","content":"CreateRawTiles_Loop:","htmlComment":"<p>everything afterwards is raw data</p>\n","htmlContent":"CreateRawTiles_Loop:","line":4356},{"comment":"increment and stash Y","content":"\tINY\n\tTYA\n\tPHA\n","htmlComment":"<p>increment and stash Y</p>\n","htmlContent":"\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">PHA</span>\n","line":4358},{"comment":"write the next tile","content":"\tLDA (byte_RAM_5), Y\n\tLDY byte_RAM_E7\n\tSTA (byte_RAM_1), Y\n","htmlComment":"<p>write the next tile</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n","line":4363},{"comment":"increment x-position (crossing page as necessary)","content":"\tJSR IncrementAreaXOffset\n\tSTY byte_RAM_E7\n","htmlComment":"<p>increment x-position (crossing page as necessary)</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> IncrementAreaXOffset\n\t<span class=\"token opcode property\">STY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n","line":4368},{"comment":"are we wrapping this run of tiles?","content":"\tLDA byte_RAM_50E\n\tBEQ CreateRawTiles_NoWrap\n","htmlComment":"<p>are we wrapping this run of tiles?</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">BEQ</span> CreateRawTiles_NoWrap\n","line":4372},{"comment":"increment y-position if we hit the wrap point","content":"\tTXA\n\tCLC\n\tADC #$01\nCreateRawTiles_CheckWrap:\n\tSEC\n\tSBC byte_RAM_50E\n\tBMI CreateRawTiles_NoWrap\n\tBNE CreateRawTiles_CheckWrap\n\nCreateRawTiles_Wrap:\n\tTXA\n\tPHA\n\tJSR IncrementAreaYOffset\n\tSEC\n\tSBC byte_RAM_50E\n\tTAY\n\tSTY byte_RAM_E7\n\tPLA\n\tTAX\n\nCreateRawTiles_NoWrap:","htmlComment":"<p>increment y-position if we hit the wrap point</p>\n","htmlContent":"\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$01</span>\nCreateRawTiles_CheckWrap:\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">BMI</span> CreateRawTiles_NoWrap\n\t<span class=\"token opcode property\">BNE</span> CreateRawTiles_CheckWrap\n\nCreateRawTiles_Wrap:\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">JSR</span> IncrementAreaYOffset\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>E\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">TAX</span>\n\nCreateRawTiles_NoWrap:","line":4376},{"comment":"restore Y and iterate","content":"\tPLA\n\tTAY\n\n\tCPX byte_RAM_50D\n\tINX\n\tBCC CreateRawTiles_Loop\n","htmlComment":"<p>restore Y and iterate</p>\n","htmlContent":"\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">TAY</span>\n\n\t<span class=\"token opcode property\">CPX</span> byte_RAM_<span class=\"token decimalnumber string\">50</span>D\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">BCC</span> CreateRawTiles_Loop\n","line":4398},{"comment":"update level data offset","content":"\tSTY byte_RAM_F\n\nCreateRawTilesNoOp:\n\tRTS\nENDIF\n\n","htmlComment":"<p>update level data offset</p>\n","htmlContent":"\t<span class=\"token opcode property\">STY</span> byte_RAM_F\n\nCreateRawTilesNoOp:\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\n","line":4406},{"comment":"\nUse top 3 bits for the X offset of a ground setting object\n\n##### Output\n- `A`: 0-7\n","content":"ReadGroundSettingOffset:\n\tLDY byte_RAM_F\n\tINY\n\tLDA (byte_RAM_5), Y\n\tAND #%11100000\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tRTS\n","htmlComment":"<p>Use top 3 bits for the X offset of a ground setting object</p>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: 0-7</li>\n</ul>\n","htmlContent":"ReadGroundSettingOffset:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_F\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%11100000</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":4419},{"comment":"\n#### Special Object `$F0` / `$F1`: Ground Setting\n\nSets ground setting at some relative offset on the current page.\n\nObject `$F0` can change the ground setting for offsets 0 through 7.\nObject `$F1` can change the ground setting for offsets 8 through 15.\n\n#### Input\n- `A`: Relative offset (0-7)\n- `byte_RAM_F`: level data byte offset\n\n#### Output\n- `byte_RAM_E`: tile placement offset\n","content":"SetGroundSettingA:\n\tJSR ReadGroundSettingOffset\n\tJMP SetGroundSetting\n\nSetGroundSettingB:\n\tJSR ReadGroundSettingOffset\n\tCLC\n\tADC #$08\n\nSetGroundSetting:\n\tSTA byte_RAM_E\n\tLDA IsHorizontalLevel\n\tBNE SetGroundSetting_Exit\n\n\tLDA byte_RAM_E\n\tASL A\n\tASL A\n\tASL A\n\tASL A\n\tSTA byte_RAM_E\n\nSetGroundSetting_Exit:\n\tRTS\n\n","htmlComment":"<h4>Special Object <code>$F0</code> / <code>$F1</code>: Ground Setting</h4>\n<p>Sets ground setting at some relative offset on the current page.</p>\n<p>Object <code>$F0</code> can change the ground setting for offsets 0 through 7.\nObject <code>$F1</code> can change the ground setting for offsets 8 through 15.</p>\n<h4>Input</h4>\n<ul>\n<li><code>A</code>: Relative offset (0-7)</li>\n<li><code>byte_RAM_F</code>: level data byte offset</li>\n</ul>\n<h4>Output</h4>\n<ul>\n<li><code>byte_RAM_E</code>: tile placement offset</li>\n</ul>\n","htmlContent":"SetGroundSettingA:\n\t<span class=\"token opcode property\">JSR</span> ReadGroundSettingOffset\n\t<span class=\"token opcode property\">JMP</span> SetGroundSetting\n\nSetGroundSettingB:\n\t<span class=\"token opcode property\">JSR</span> ReadGroundSettingOffset\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$08</span>\n\nSetGroundSetting:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> SetGroundSetting_Exit\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E\n\nSetGroundSetting_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4446},{"comment":"\n#### Special Object `$F4`: New Layer (Foreground)\n\nMoves the tile placement cursor to the beginning of the first page in the foreground pass.\n\n##### Output\n\n- `byte_RAM_E8`: area page\n- `byte_RAM_E6`: tile placement offset\n","content":"ResetPageAndOffsetForeground:\n\tLDA #$00\n\tSTA byte_RAM_E8 ; area page\n\tSTA byte_RAM_E6 ; tile placement offset\n\tRTS\n\n","htmlComment":"<h4>Special Object <code>$F4</code>: New Layer (Foreground)</h4>\n<p>Moves the tile placement cursor to the beginning of the first page in the foreground pass.</p>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_E8</code>: area page</li>\n<li><code>byte_RAM_E6</code>: tile placement offset</li>\n</ul>\n","htmlContent":"ResetPageAndOffsetForeground:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span> <span class=\"token comment\">; area page</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span> <span class=\"token comment\">; tile placement offset</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4481},{"comment":"\n#### Special Object `$F4`: New Layer (Background)\n\nMoves the tile placement cursor to the beginning of the first page in the background pass.\n\n##### Output\n\n- `byte_RAM_540`: area page\n- `byte_RAM_E`: tile placement offset\n","content":"ResetPageAndOffsetBackground:\n\tLDA #$00\n\tSTA byte_RAM_540\n\tSTA byte_RAM_E\n\tRTS\n\n","htmlComment":"<h4>Special Object <code>$F4</code>: New Layer (Background)</h4>\n<p>Moves the tile placement cursor to the beginning of the first page in the background pass.</p>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_540</code>: area page</li>\n<li><code>byte_RAM_E</code>: tile placement offset</li>\n</ul>\n","htmlContent":"ResetPageAndOffsetBackground:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4498},{"comment":"\nArea pointers are not processed on the background pass.\n","content":"SetAreaPointerNoOp:\n\tRTS\n\n","htmlComment":"<p>Area pointers are not processed on the background pass.</p>\n","htmlContent":"SetAreaPointerNoOp:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4508},{"comment":"\n#### Ground Appearance Object `$F6`\n\nSets the ground appearance, which determines the tiles used when drawing the ground setting.\n\n##### Output\n\n`GroundType`: the ground type used for drawing the background\n","content":"SetGroundType:\n\tLDY byte_RAM_F\n\tINY\n\tLDA (byte_RAM_5), Y\n\tAND #%00001111\n\tASL A\n\tASL A\n\tSTA GroundType\n\tRTS\n\n","htmlComment":"<h4>Ground Appearance Object <code>$F6</code></h4>\n<p>Sets the ground appearance, which determines the tiles used when drawing the ground setting.</p>\n<h5>Output</h5>\n<p><code>GroundType</code>: the ground type used for drawing the background</p>\n","htmlContent":"SetGroundType:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_F\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%00001111</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> GroundType\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4521},{"comment":"\n### Render background level data\n\nReads level data from the beginning and processes the ground layout.\n\nThis first pass is used for setting up the ground types and settings before normal objects are\nrendered in the level.\n\n##### Input\n- `Y`: raw data offset\n","content":"ReadLevelBackgroundData:\n\tLDA #$00\n\tSTA byte_RAM_540\n\nReadLevelBackgroundData_Page:\n\tLDA #$00\n\tSTA byte_RAM_9\n\nReadLevelBackgroundData_Object:\n\tLDA (byte_RAM_5), Y\n\tCMP #$FF\n\tBNE ReadLevelBackgroundData_ProcessObject\n","htmlComment":"<h3>Render background level data</h3>\n<p>Reads level data from the beginning and processes the ground layout.</p>\n<p>This first pass is used for setting up the ground types and settings before normal objects are\nrendered in the level.</p>\n<h5>Input</h5>\n<ul>\n<li><code>Y</code>: raw data offset</li>\n</ul>\n","htmlContent":"ReadLevelBackgroundData:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\nReadLevelBackgroundData_Page:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\nReadLevelBackgroundData_Object:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_ProcessObject\n","line":4543},{"comment":"Encountering `$FF` indicates the end of the level data.\nWe need to render the remaining ground setting through the end of the last page in the area.","content":"\tLDA #$0A\n\tSTA byte_RAM_540\n\tINC byte_RAM_540\n\tLDA #$00\n\tSTA byte_RAM_E\n\tJMP ReadLevelBackgroundData_RenderGround\n\nReadLevelBackgroundData_ProcessObject:\n\tLDA (byte_RAM_5), Y\n\tAND #$F0\n\tBEQ ReadLevelBackgroundData_ProcessObject_Advance2Bytes\n\n\tCMP #$F0\n\tBNE ReadLevelBackgroundData_ProcessRegularObject\n","htmlComment":"<p>Encountering <code>$FF</code> indicates the end of the level data.\nWe need to render the remaining ground setting through the end of the last page in the area.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_RenderGround\n\nReadLevelBackgroundData_ProcessObject:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BEQ</span> ReadLevelBackgroundData_ProcessObject_Advance<span class=\"token decimalnumber string\">2</span>Bytes\n\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_ProcessRegularObject\n","line":4558},{"comment":"\nFirst byte of `$FX` indicates a special object.\n","content":"ReadLevelBackgroundData_ProcessSpecialObject:\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n\tSTY byte_RAM_F\n\tJSR ProcessSpecialObjectBackground\n","htmlComment":"<p>First byte of <code>$FX</code> indicates a special object.</p>\n","htmlContent":"ReadLevelBackgroundData_ProcessSpecialObject:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_F\n\t<span class=\"token opcode property\">JSR</span> ProcessSpecialObjectBackground\n","line":4576},{"comment":"Determine how many more bytes to advance after processing the special object.","content":"\tLDY byte_RAM_F\n\tLDA (byte_RAM_5), Y\n\tAND #$0F\n","htmlComment":"<p>Determine how many more bytes to advance after processing the special object.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> byte_RAM_F\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n","line":4583},{"comment":"Ground setting `$F0` / `$F1` should render the previous ground setting","content":"\tCMP #$02\n\tBCC ReadLevelBackgroundData_RenderGround\n","htmlComment":"<p>Ground setting <code>$F0</code> / <code>$F1</code> should render the previous ground setting</p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BCC</span> ReadLevelBackgroundData_RenderGround\n","line":4588},{"comment":"Special objects except `$F0` / `$F1`","content":"\tCMP #$05\n\tBNE ReadLevelBackgroundData_ProcessObject_NotF5\n\nReadLevelBackgroundData_ProcessObject_Advance3Bytes:\n\tINY\n\tJMP ReadLevelBackgroundData_ProcessObject_Advance2Bytes\n\nReadLevelBackgroundData_ProcessObject_NotF5:","htmlComment":"<p>Special objects except <code>$F0</code> / <code>$F1</code></p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_ProcessObject_NotF<span class=\"token decimalnumber string\">5</span>\n\nReadLevelBackgroundData_ProcessObject_Advance<span class=\"token decimalnumber string\">3</span>Bytes:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_ProcessObject_Advance<span class=\"token decimalnumber string\">2</span>Bytes\n\nReadLevelBackgroundData_ProcessObject_NotF<span class=\"token decimalnumber string\">5</span>:","line":4592},{"comment":"Special objects except `$F0` / `$F1` / `$F5`","content":"\tCMP #$06\n\tBNE ReadLevelBackgroundData_ProcessObject_AdvanceByte\n","htmlComment":"<p>Special objects except <code>$F0</code> / <code>$F1</code> / <code>$F5</code></p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_ProcessObject_AdvanceByte\n","line":4601},{"comment":"Ground appearance `$F6` is two bytes.","content":"ReadLevelBackgroundData_ProcessObject_Advance2Bytes:\n\tINY\n\nReadLevelBackgroundData_ProcessObject_AdvanceByte:\n\tINY\n\tJMP ReadLevelBackgroundData_Object\n","htmlComment":"<p>Ground appearance <code>$F6</code> is two bytes.</p>\n","htmlContent":"ReadLevelBackgroundData_ProcessObject_Advance<span class=\"token decimalnumber string\">2</span>Bytes:\n\t<span class=\"token opcode property\">INY</span>\n\nReadLevelBackgroundData_ProcessObject_AdvanceByte:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_Object\n","line":4605},{"comment":"\nProcesses a regular object, as indicated by a value of `$0X-$EX` in the first byte.\n\n##### Input\n- `byte_RAM_9`: tile placement offset (overflow counter)\n\n##### Output\n- `byte_RAM_540`: area page\n- `byte_RAM_9`: tile placement offset (overflow counter)\n\nSince we're only processing background objects, all this needs to do is look at the object offset\nand advance the tile placement cursor and current page as needed.\n\n#### The Door Pointer Y Offset \"Bug\"\n\nAn interesting quirk about the level engine is that door pointers are used in worlds 1-5, but not\nworlds 6 and 7, due to the fact that the pointers have an effective Y offset of 1.\n\nThe developers chose to disable door pointers to deal with this problem, but another solution\nwould have been to modify the code here to determine whether an object was being used as a door\npointer and avoid processing its position offset.\n","content":"ReadLevelBackgroundData_ProcessRegularObject:\n\tCLC\n\tADC byte_RAM_9\n\tBCC ReadLevelBackgroundData_ProcessRegularObject_SamePage\n","htmlComment":"<p>Processes a regular object, as indicated by a value of <code>$0X-$EX</code> in the first byte.</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_9</code>: tile placement offset (overflow counter)</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_540</code>: area page</li>\n<li><code>byte_RAM_9</code>: tile placement offset (overflow counter)</li>\n</ul>\n<p>Since we're only processing background objects, all this needs to do is look at the object offset\nand advance the tile placement cursor and current page as needed.</p>\n<h4>The Door Pointer Y Offset \"Bug\"</h4>\n<p>An interesting quirk about the level engine is that door pointers are used in worlds 1-5, but not\nworlds 6 and 7, due to the fact that the pointers have an effective Y offset of 1.</p>\n<p>The developers chose to disable door pointers to deal with this problem, but another solution\nwould have been to modify the code here to determine whether an object was being used as a door\npointer and avoid processing its position offset.</p>\n","htmlContent":"ReadLevelBackgroundData_ProcessRegularObject:\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">BCC</span> ReadLevelBackgroundData_ProcessRegularObject_SamePage\n","line":4634},{"comment":"The object position overflowed to the next page.","content":"\tADC #$0F\n\tJMP ReadLevelBackgroundData_ProcessRegularObject_NextPage\n\nReadLevelBackgroundData_ProcessRegularObject_SamePage:\n\tCMP #$F0\n\tBNE ReadLevelBackgroundData_ProcessRegularObject_Exit\n\n\tLDA #$00\n\nReadLevelBackgroundData_ProcessRegularObject_NextPage:\n\tINC byte_RAM_540\n\nReadLevelBackgroundData_ProcessRegularObject_Exit:\n\tSTA byte_RAM_9\n\tJMP ReadLevelBackgroundData_ProcessObject_Advance2Bytes\n\n","htmlComment":"<p>The object position overflowed to the next page.</p>\n","htmlContent":"\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_ProcessRegularObject_NextPage\n\nReadLevelBackgroundData_ProcessRegularObject_SamePage:\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_ProcessRegularObject_Exit\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\nReadLevelBackgroundData_ProcessRegularObject_NextPage:\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\nReadLevelBackgroundData_ProcessRegularObject_Exit:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_ProcessObject_Advance<span class=\"token decimalnumber string\">2</span>Bytes\n\n","line":4640},{"comment":"\nRenders the ground setting up to this point.\n\nThis code is invoked when we encounter a ground setting object and need to render the previous\nground setting up tothis point or when we have reached the end of the level data and need to\nrender the current ground setting through the end of the area.\n\n#### Input\n- `byte_RAM_E8`: area page\n- `byte_RAM_E5`: tile placement offset shift\n- `byte_RAM_E6`: previous tile placement offset\n- `byte_RAM_540`: area page (end)\n- `byte_RAM_E`: tile placement offset (end)\n\n#### Output\n","content":"ReadLevelBackgroundData_RenderGround:\n\tJSR SetTileOffsetAndAreaPageAddr_Bank6\n\n\tJSR LoadGroundSetData\n\n\tLDA IsHorizontalLevel\n\tBEQ ReadLevelBackgroundData_RenderGround_Vertical\n\nReadLevelBackgroundData_RenderGround_Horizontal:","htmlComment":"<p>Renders the ground setting up to this point.</p>\n<p>This code is invoked when we encounter a ground setting object and need to render the previous\nground setting up tothis point or when we have reached the end of the level data and need to\nrender the current ground setting through the end of the area.</p>\n<h4>Input</h4>\n<ul>\n<li><code>byte_RAM_E8</code>: area page</li>\n<li><code>byte_RAM_E5</code>: tile placement offset shift</li>\n<li><code>byte_RAM_E6</code>: previous tile placement offset</li>\n<li><code>byte_RAM_540</code>: area page (end)</li>\n<li><code>byte_RAM_E</code>: tile placement offset (end)</li>\n</ul>\n<h4>Output</h4>\n","htmlContent":"ReadLevelBackgroundData_RenderGround:\n\t<span class=\"token opcode property\">JSR</span> SetTileOffsetAndAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">JSR</span> LoadGroundSetData\n\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BEQ</span> ReadLevelBackgroundData_RenderGround_Vertical\n\nReadLevelBackgroundData_RenderGround_Horizontal:","line":4673},{"comment":"Increment the column.","content":"\tINC byte_RAM_E5\n\tLDA byte_RAM_E5\n\tCMP #$10\n\tBNE ReadLevelBackgroundData_RenderGround_CheckComplete\n","htmlComment":"<p>Increment the column.</p>\n","htmlContent":"\t<span class=\"token opcode property\">INC</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_RenderGround_CheckComplete\n","line":4683},{"comment":"Increment the page and reset to the first column.","content":"\tINC byte_RAM_E8\n\tLDA #$00\n\tSTA byte_RAM_E5\n\tJMP ReadLevelBackgroundData_RenderGround_CheckComplete\n\n\nReadLevelBackgroundData_RenderGround_Vertical:","htmlComment":"<p>Increment the page and reset to the first column.</p>\n","htmlContent":"\t<span class=\"token opcode property\">INC</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_RenderGround_CheckComplete\n\n\nReadLevelBackgroundData_RenderGround_Vertical:","line":4689},{"comment":"Increment the row.","content":"\tLDA #$10\n\tJSR UpdateAreaYOffset\n\nReadLevelBackgroundData_RenderGround_CheckComplete:","htmlComment":"<p>Increment the row.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">JSR</span> UpdateAreaYOffset\n\nReadLevelBackgroundData_RenderGround_CheckComplete:","line":4697},{"comment":"If there are more pages to render with this ground setting, keep going.","content":"\tLDA byte_RAM_E8\n\tCMP byte_RAM_540\n\tBNE ReadLevelBackgroundData_RenderGround\n\n\tLDA IsHorizontalLevel\n\tBEQ ReadLevelBackgroundData_RenderGround_CheckComplete_Vertical\n\nReadLevelBackgroundData_RenderGround_CheckComplete_Horizontal:","htmlComment":"<p>If there are more pages to render with this ground setting, keep going.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">CMP</span> byte_RAM_<span class=\"token decimalnumber string\">540</span>\n\t<span class=\"token opcode property\">BNE</span> ReadLevelBackgroundData_RenderGround\n\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BEQ</span> ReadLevelBackgroundData_RenderGround_CheckComplete_Vertical\n\nReadLevelBackgroundData_RenderGround_CheckComplete_Horizontal:","line":4702},{"comment":"If there is more to render with this ground setting, keep going.","content":"\tLDA byte_RAM_E5\n\tCMP byte_RAM_E\n\tBCC ReadLevelBackgroundData_RenderGround\n","htmlComment":"<p>If there is more to render with this ground setting, keep going.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">CMP</span> byte_RAM_E\n\t<span class=\"token opcode property\">BCC</span> ReadLevelBackgroundData_RenderGround\n","line":4711},{"comment":"Otherwise, move on and process the next object.","content":"\tBCS ReadLevelBackgroundData_RenderGround_Exit\n\nReadLevelBackgroundData_RenderGround_CheckComplete_Vertical:\n\tLDA byte_RAM_E6\n\tCMP byte_RAM_E\n\tBCC ReadLevelBackgroundData_RenderGround\n\nReadLevelBackgroundData_RenderGround_Exit:\n\tLDA (byte_RAM_5), Y","htmlComment":"<p>Otherwise, move on and process the next object.</p>\n","htmlContent":"\t<span class=\"token opcode property\">BCS</span> ReadLevelBackgroundData_RenderGround_Exit\n\nReadLevelBackgroundData_RenderGround_CheckComplete_Vertical:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">CMP</span> byte_RAM_E\n\t<span class=\"token opcode property\">BCC</span> ReadLevelBackgroundData_RenderGround\n\nReadLevelBackgroundData_RenderGround_Exit:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>","line":4716},{"comment":"Encountering `$FF` indicates the end of the level data.","content":"\tCMP #$FF\n\tBEQ ReadGroundSetByte_Exit\n","htmlComment":"<p>Encountering <code>$FF</code> indicates the end of the level data.</p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">BEQ</span> ReadGroundSetByte_Exit\n","line":4726},{"comment":"Otherwise this was triggered because we encountered a ground setting object, so `GroundSetting`\nfor the next time we need to render the ground.","content":"\tINY\n\tLDA (byte_RAM_5), Y\n\tAND #$1F\n\tSTA GroundSetting\n\tJMP ReadLevelBackgroundData_ProcessObject_AdvanceByte\n\n","htmlComment":"<p>Otherwise this was triggered because we encountered a ground setting object, so <code>GroundSetting</code>\nfor the next time we need to render the ground.</p>\n","htmlContent":"\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$1F</span>\n\t<span class=\"token opcode property\">STA</span> GroundSetting\n\t<span class=\"token opcode property\">JMP</span> ReadLevelBackgroundData_ProcessObject_AdvanceByte\n\n","line":4731},{"comment":"-----","content":"","htmlComment":"<hr>\n","htmlContent":"","line":4738},{"comment":"\nReads the current ground setting byte.\n\n##### Input\n- `X`: Ground setting offset\n\n##### Output\n- `A`: Byte containing the 4 ground appearance bit pairs for the offset\n","content":"ReadGroundSetByte:\n\tLDA IsHorizontalLevel\n\tBNE ReadGroundSetByte_Vertical\n\n\tLDA VerticalGroundSetData, X\n\tRTS\n\nReadGroundSetByte_Vertical:\n\tLDA HorizontalGroundSetData, X\n\nReadGroundSetByte_Exit:\n\tRTS\n\n","htmlComment":"<p>Reads the current ground setting byte.</p>\n<h5>Input</h5>\n<ul>\n<li><code>X</code>: Ground setting offset</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>A</code>: Byte containing the 4 ground appearance bit pairs for the offset</li>\n</ul>\n","htmlContent":"ReadGroundSetByte:\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> ReadGroundSetByte_Vertical\n\n\t<span class=\"token opcode property\">LDA</span> VerticalGroundSetData, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">RTS</span>\n\nReadGroundSetByte_Vertical:\n\t<span class=\"token opcode property\">LDA</span> HorizontalGroundSetData, <span class=\"token register variable\">X</span>\n\nReadGroundSetByte_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4749},{"comment":"\nDraws the current ground setting and type to the raw tile buffer.\n\n##### Input\n- `GroundSetting`: current ground setting\n- `GroundType`: current ground appearance\n- `byte_RAM_E7`: tile placement offset\n","content":"LoadGroundSetData:\n\tSTY byte_RAM_4\n\tLDA GroundSetting\n\tASL A\n\tASL A\n\tTAX\n\tLDY byte_RAM_E7\n\nLoadGroundSetData_Loop:\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles1\n\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles2\n\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles3\n\n\tJSR ReadGroundSetByte\n\n\tJSR WriteGroundSetTiles4\n\n\tLDA IsHorizontalLevel\n\tBEQ LoadGroundSetData_Horizontal\n\n\tINX\n\tBCS LoadGroundSetData_Exit\n\n\tBCC LoadGroundSetData_Loop\n\nLoadGroundSetData_Horizontal:\n\tINX\n\tTYA\n\tAND #$0F\n\tBNE LoadGroundSetData_Loop\n\nLoadGroundSetData_Exit:\n\tLDY byte_RAM_4\n\tRTS\n","htmlComment":"<p>Draws the current ground setting and type to the raw tile buffer.</p>\n<h5>Input</h5>\n<ul>\n<li><code>GroundSetting</code>: current ground setting</li>\n<li><code>GroundType</code>: current ground appearance</li>\n<li><code>byte_RAM_E7</code>: tile placement offset</li>\n</ul>\n","htmlContent":"LoadGroundSetData:\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">LDA</span> GroundSetting\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\nLoadGroundSetData_Loop:\n\t<span class=\"token opcode property\">JSR</span> ReadGroundSetByte\n\n\t<span class=\"token opcode property\">JSR</span> WriteGroundSetTiles<span class=\"token decimalnumber string\">1</span>\n\n\t<span class=\"token opcode property\">JSR</span> ReadGroundSetByte\n\n\t<span class=\"token opcode property\">JSR</span> WriteGroundSetTiles<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">JSR</span> ReadGroundSetByte\n\n\t<span class=\"token opcode property\">JSR</span> WriteGroundSetTiles<span class=\"token decimalnumber string\">3</span>\n\n\t<span class=\"token opcode property\">JSR</span> ReadGroundSetByte\n\n\t<span class=\"token opcode property\">JSR</span> WriteGroundSetTiles<span class=\"token decimalnumber string\">4</span>\n\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BEQ</span> LoadGroundSetData_Horizontal\n\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">BCS</span> LoadGroundSetData_Exit\n\n\t<span class=\"token opcode property\">BCC</span> LoadGroundSetData_Loop\n\nLoadGroundSetData_Horizontal:\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">BNE</span> LoadGroundSetData_Loop\n\nLoadGroundSetData_Exit:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":4771},{"comment":"\nDraws current ground set tiles.\n","content":"WriteGroundSetTiles:\nWriteGroundSetTiles1:\n\tLSR A\n\tLSR A\n\nWriteGroundSetTiles2:\n\tLSR A\n\tLSR A\n\nWriteGroundSetTiles3:\n\tLSR A\n\tLSR A\n\nWriteGroundSetTiles4:\n\tAND #$03\n\tSTX byte_RAM_3","htmlComment":"<p>Draws current ground set tiles.</p>\n","htmlContent":"WriteGroundSetTiles:\nWriteGroundSetTiles<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\nWriteGroundSetTiles<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\nWriteGroundSetTiles<span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\nWriteGroundSetTiles<span class=\"token decimalnumber string\">4</span>:\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>","line":4817},{"comment":"This `BEQ` is what effectively ignores the first index of the groundset tiles lookup tables.","content":"\tBEQ WriteGroundSetTiles_AfterWriteTile\n\n\tCLC\n\tADC GroundType\n\tTAX\n\tLDA IsHorizontalLevel\n\tBNE WriteGroundSetTiles_Horizontal\n\n\tJSR ReadGroundTileVertical\n\n\tJMP WriteGroundSetTiles_WriteTile\n\nWriteGroundSetTiles_Horizontal:\n\tJSR ReadGroundTileHorizontal\n\nWriteGroundSetTiles_WriteTile:\n\tSTA (byte_RAM_1), Y\n\nWriteGroundSetTiles_AfterWriteTile:\n\tLDX byte_RAM_3\n\tLDA IsHorizontalLevel\n\tBNE WriteGroundSetTiles_IncrementYOffset\n\n\tINY\n\tRTS\n\nWriteGroundSetTiles_IncrementYOffset:\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tRTS\n\n\nReadGroundTileHorizontal:\n\tSTX byte_RAM_C\n\tSTY byte_RAM_D\n\tLDX CurrentWorldTileset\n\tLDA GroundTilesHorizontalLo, X\n\tSTA byte_RAM_7\n\tLDA GroundTilesHorizontalHi, X\n\tSTA byte_RAM_8\n\tLDY byte_RAM_C\n\tLDA (byte_RAM_7), Y\n\tLDX byte_RAM_C\n\tLDY byte_RAM_D\n\tRTS\n\n\nReadGroundTileVertical:\n\tSTX byte_RAM_C\n\tSTY byte_RAM_D\n\tLDX CurrentWorldTileset\n\tLDA GroundTilesVerticalLo, X\n\tSTA byte_RAM_7\n\tLDA GroundTilesVerticalHi, X\n\tSTA byte_RAM_8\n\tLDY byte_RAM_C\n\tLDA (byte_RAM_7), Y\n\tLDX byte_RAM_C\n\tLDY byte_RAM_D\n\tRTS\n\n","htmlComment":"<p>This <code>BEQ</code> is what effectively ignores the first index of the groundset tiles lookup tables.</p>\n","htmlContent":"\t<span class=\"token opcode property\">BEQ</span> WriteGroundSetTiles_AfterWriteTile\n\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> GroundType\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> WriteGroundSetTiles_Horizontal\n\n\t<span class=\"token opcode property\">JSR</span> ReadGroundTileVertical\n\n\t<span class=\"token opcode property\">JMP</span> WriteGroundSetTiles_WriteTile\n\nWriteGroundSetTiles_Horizontal:\n\t<span class=\"token opcode property\">JSR</span> ReadGroundTileHorizontal\n\nWriteGroundSetTiles_WriteTile:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\nWriteGroundSetTiles_AfterWriteTile:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> WriteGroundSetTiles_IncrementYOffset\n\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">RTS</span>\n\nWriteGroundSetTiles_IncrementYOffset:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nReadGroundTileHorizontal:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_C\n\t<span class=\"token opcode property\">STY</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> GroundTilesHorizontalLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> GroundTilesHorizontalHi, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_C\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">7</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_C\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_D\n\t<span class=\"token opcode property\">RTS</span>\n\n\nReadGroundTileVertical:\n\t<span class=\"token opcode property\">STX</span> byte_RAM_C\n\t<span class=\"token opcode property\">STY</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> GroundTilesVerticalLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> GroundTilesVerticalHi, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_C\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">7</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_C\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_D\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4834},{"comment":"\nUpdates the area page and tile placement offset\n\n##### Input\n- `byte_RAM_E8`: area page\n- `byte_RAM_E5`: tile placement offset shift\n- `byte_RAM_E6`: previous tile placement offset\n\n##### Output\n- `byte_RAM_1`: low byte of decoded level data RAM\n- `byte_RAM_2`: high byte of decoded level data RAM\n- `byte_RAM_E7`: target tile placement offset\n","content":"SetTileOffsetAndAreaPageAddr_Bank6:\n\tLDX byte_RAM_E8\n\tJSR SetAreaPageAddr_Bank6\n\n\tLDA byte_RAM_E6\n\tCLC\n\tADC byte_RAM_E5\n\tSTA byte_RAM_E7\n\tRTS\n","htmlComment":"<p>Updates the area page and tile placement offset</p>\n<h5>Input</h5>\n<ul>\n<li><code>byte_RAM_E8</code>: area page</li>\n<li><code>byte_RAM_E5</code>: tile placement offset shift</li>\n<li><code>byte_RAM_E6</code>: previous tile placement offset</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_1</code>: low byte of decoded level data RAM</li>\n<li><code>byte_RAM_2</code>: high byte of decoded level data RAM</li>\n<li><code>byte_RAM_E7</code>: target tile placement offset</li>\n</ul>\n","htmlContent":"SetTileOffsetAndAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_E<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_E<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":4911},{"comment":"\nUpdates the area page that we're drawing tiles to\n\n##### Input\n- `X`: area page\n\n##### Output\n- `byte_RAM_1`: low byte of decoded level data RAM\n- `byte_RAM_2`: high byte of decoded level data RAM\n","content":"SetAreaPageAddr_Bank6:\n\tLDA DecodedLevelPageStartLo_Bank6, X\n\tSTA byte_RAM_1\n\tLDA DecodedLevelPageStartHi_Bank6, X\n\tSTA byte_RAM_2\n\tRTS\n\n\nIncrementAreaXOffset:\n\tINY\n\tTYA\n\tAND #$0F\n\tBNE IncrementAreaXOffset_Exit\n\n\tTYA\n\tSEC\n\tSBC #$10\n\tTAY\n\tSTX byte_RAM_B\n\tLDX byte_RAM_E8\n\tINX\n\tSTX byte_RAM_D\n\tJSR SetAreaPageAddr_Bank6\n\tLDX byte_RAM_B\n\nIncrementAreaXOffset_Exit:\n\tRTS\n\n","htmlComment":"<p>Updates the area page that we're drawing tiles to</p>\n<h5>Input</h5>\n<ul>\n<li><code>X</code>: area page</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>byte_RAM_1</code>: low byte of decoded level data RAM</li>\n<li><code>byte_RAM_2</code>: high byte of decoded level data RAM</li>\n</ul>\n","htmlContent":"SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDA</span> DecodedLevelPageStartLo_Bank<span class=\"token decimalnumber string\">6</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> DecodedLevelPageStartHi_Bank<span class=\"token decimalnumber string\">6</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nIncrementAreaXOffset:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">BNE</span> IncrementAreaXOffset_Exit\n\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_B\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_D\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_B\n\nIncrementAreaXOffset_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4931},{"comment":"Moves one row down and increments the page, if necessary","content":"IncrementAreaYOffset:\n\tTYA\n\tCLC\n\tADC #$10\n\tTAY\n\tCMP #$F0\n\tBCC IncrementAreaYOffset_Exit\n","htmlComment":"<p>Moves one row down and increments the page, if necessary</p>\n","htmlContent":"IncrementAreaYOffset:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCC</span> IncrementAreaYOffset_Exit\n","line":4961},{"comment":"increment the area page","content":"\tLDX byte_RAM_E8\n\tINX\n\tJSR SetAreaPageAddr_Bank6\n\n\tTYA\n\tAND #$0F\n\tTAY\n\nIncrementAreaYOffset_Exit:\n\tRTS\n\n\nIFNDEF DISABLE_DOOR_POINTERS","htmlComment":"<p>increment the area page</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">JSR</span> SetAreaPageAddr_Bank<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">TAY</span>\n\nIncrementAreaYOffset_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n\nIFNDEF DISABLE_DOOR_POINTERS","line":4970},{"comment":"\nConsume the object as an area pointer. This overwrites any existing area\npointer for this page.\n","content":"LevelParser_EatDoorPointer:\n\tLDY byte_RAM_4\n\tINY\n\tLDA (byte_RAM_5), Y\n\tSTA byte_RAM_7\n\tINY\n\tLDA (byte_RAM_5), Y\n\tSTA byte_RAM_8\n\tSTY byte_RAM_4\n\tLDA byte_RAM_E8\n\tASL A\n\tTAY\n\tLDA byte_RAM_7\n\tSTA AreaPointersByPage, Y\n\tINY\n\tLDA byte_RAM_8\n\tSTA AreaPointersByPage, Y\n\tRTS\nENDIF\n","htmlComment":"<p>Consume the object as an area pointer. This overwrites any existing area\npointer for this page.</p>\n","htmlContent":"LevelParser_EatDoorPointer:\n\t<span class=\"token opcode property\">LDY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_E<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n","line":4987},{"comment":"\nHigh byte of the PPU scroll offset for nametable B.\n\nWhen mirroring vertically, nametable A is `$2000` and nametable B is `$2800`.\nWhen mirroring horizontally, nametable A is `$2000` and nametable B is `$2400`.\n","content":"PPUScrollHiOffsets_Bank6:\n\t.db $28 ; vertical\n\t.db $24 ; horizontal\n","htmlComment":"<p>High byte of the PPU scroll offset for nametable B.</p>\n<p>When mirroring vertically, nametable A is <code>$2000</code> and nametable B is <code>$2800</code>.\nWhen mirroring horizontally, nametable A is <code>$2000</code> and nametable B is <code>$2400</code>.</p>\n","htmlContent":"PPUScrollHiOffsets_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$28</span> <span class=\"token comment\">; vertical</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; horizontal</span>\n","line":5013},{"comment":"\nResets the PPU high scrolling values and sets the high byte of the PPU scroll offset.\n\nThe version of the subroutine in this bank is always called with `A = $00`.\n\n##### Input\n- `A`: 0 = use nametable A, 1 = use nametable B\n- `Y`: 0 = vertical, 1 = horizontal\n\n##### Output\n- `PPUScrollYHiMirror`\n- `PPUScrollXHiMirror`\n- `byte_RAM_506`: PPU scroll offset high byte\n","content":"ResetPPUScrollHi_Bank6:\n\tLSR A\n\tBCS ResetPPUScrollHi_NametableB_Bank6\n\nResetPPUScrollHi_NametableA_Bank6:\n\tLDA #$01\n\tSTA PPUScrollXHiMirror\n\tASL A\n\tSTA PPUScrollYHiMirror\n\tLDA #$20\n\tBNE ResetPPUScrollHi_Exit_Bank6\n\nResetPPUScrollHi_NametableB_Bank6:\n\tLDA #$00\n\tSTA PPUScrollXHiMirror\n\tSTA PPUScrollYHiMirror\n\tLDA PPUScrollHiOffsets_Bank6, Y\n\nResetPPUScrollHi_Exit_Bank6:\n\tSTA byte_RAM_506\n\tRTS\n\n","htmlComment":"<p>Resets the PPU high scrolling values and sets the high byte of the PPU scroll offset.</p>\n<p>The version of the subroutine in this bank is always called with <code>A = $00</code>.</p>\n<h5>Input</h5>\n<ul>\n<li><code>A</code>: 0 = use nametable A, 1 = use nametable B</li>\n<li><code>Y</code>: 0 = vertical, 1 = horizontal</li>\n</ul>\n<h5>Output</h5>\n<ul>\n<li><code>PPUScrollYHiMirror</code></li>\n<li><code>PPUScrollXHiMirror</code></li>\n<li><code>byte_RAM_506</code>: PPU scroll offset high byte</li>\n</ul>\n","htmlContent":"ResetPPUScrollHi_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">BCS</span> ResetPPUScrollHi_NametableB_Bank<span class=\"token decimalnumber string\">6</span>\n\nResetPPUScrollHi_NametableA_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollXHiMirror\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollYHiMirror\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$20</span>\n\t<span class=\"token opcode property\">BNE</span> ResetPPUScrollHi_Exit_Bank<span class=\"token decimalnumber string\">6</span>\n\nResetPPUScrollHi_NametableB_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollXHiMirror\n\t<span class=\"token opcode property\">STA</span> PPUScrollYHiMirror\n\t<span class=\"token opcode property\">LDA</span> PPUScrollHiOffsets_Bank<span class=\"token decimalnumber string\">6</span>, <span class=\"token register variable\">Y</span>\n\nResetPPUScrollHi_Exit_Bank<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">506</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":5031},{"comment":"\nCreates a mushroom object in subspace.\n\n##### Input\n- `X`: Object position\n- `Y`: Which mushroom (0 or 1)\n","content":"CreateSubspaceMushroomObject:\n\tTXA\n\tPHA\n\tAND #$F0\n\tSTA ObjectYLo\n\tTXA\n\tASL A\n\tASL A\n\tASL A\n\tASL A\n\tSTA ObjectXLo\n","htmlComment":"<p>Creates a mushroom object in subspace.</p>\n<h5>Input</h5>\n<ul>\n<li><code>X</code>: Object position</li>\n<li><code>Y</code>: Which mushroom (0 or 1)</li>\n</ul>\n","htmlContent":"CreateSubspaceMushroomObject:\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">STA</span> ObjectYLo\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo\n","line":5061},{"comment":"Subspace is page `$0A`.","content":"\tLDA #$0A\n\tSTA ObjectXHi\n\tLDX #$00\n\tSTX byte_RAM_12\n\tSTX ObjectYHi\n","htmlComment":"<p>Subspace is page <code>$0A</code>.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXHi\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">12</span>\n\t<span class=\"token opcode property\">STX</span> ObjectYHi\n","line":5074},{"comment":"Create a living fungus.\nEven most of this routine uses an enemy slot offset, the next few lines assume slot 0.\nWe just set `X` to 0, so this is a safe enough assumption.","content":"\tLDA #Enemy_Mushroom\n\tSTA ObjectType\n\tLDA #EnemyState_Alive\n\tSTA EnemyState","htmlComment":"<p>Create a living fungus.\nEven most of this routine uses an enemy slot offset, the next few lines assume slot 0.\nWe just set <code>X</code> to 0, so this is a safe enough assumption.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #Enemy_Mushroom\n\t<span class=\"token opcode property\">STA</span> ObjectType\n\t<span class=\"token opcode property\">LDA</span> #EnemyState_Alive\n\t<span class=\"token opcode property\">STA</span> EnemyState","line":5083},{"comment":"Keep track of which mushroom so that you can't collect it twice.","content":"\tSTY EnemyVariable\n","htmlComment":"<p>Keep track of which mushroom so that you can't collect it twice.</p>\n","htmlContent":"\t<span class=\"token opcode property\">STY</span> EnemyVariable\n","line":5088},{"comment":"Reset various object timers and attributes","content":"\tLDA #$00\n\tSTA EnemyTimer, X\n\tSTA EnemyArray_B1, X\n\tSTA ObjectBeingCarriedTimer, X\n\tSTA ObjectAnimationTimer, X\n\tSTA ObjectShakeTimer, X\n\tSTA EnemyCollision, X\n\tSTA EnemyArray_438, X\n\tSTA EnemyArray_453, X\n\tSTA EnemyArray_45C, X\n\tSTA ObjectYVelocity, X\n\tSTA ObjectXVelocity, X\n","htmlComment":"<p>Reset various object timers and attributes</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> EnemyTimer, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_B<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> ObjectBeingCarriedTimer, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> ObjectAnimationTimer, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> ObjectShakeTimer, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> EnemyCollision, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">438</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">453</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">45</span>C, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> ObjectYVelocity, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXVelocity, <span class=\"token register variable\">X</span>\n","line":5091},{"comment":"Load various object attributes for a mushroom","content":"\tLDY ObjectType, X\n\tLDA ObjectAttributeTable, Y\n\tAND #$7F\n\tSTA ObjectAttributes, X\n\tLDA EnemyArray_46E_Data, Y\n\tSTA EnemyArray_46E, X\n\tLDA EnemyArray_489_Data, Y\n\tSTA EnemyArray_489, X\n\tLDA EnemyArray_492_Data, Y\n\tSTA EnemyArray_492, X\n\tLDA #$FF\n\tSTA EnemyRawDataOffset, X\n","htmlComment":"<p>Load various object attributes for a mushroom</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> ObjectType, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> ObjectAttributeTable, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$7F</span>\n\t<span class=\"token opcode property\">STA</span> ObjectAttributes, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> EnemyArray_<span class=\"token decimalnumber string\">46</span>E_Data, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">46</span>E, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> EnemyArray_<span class=\"token decimalnumber string\">489</span>_Data, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">489</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> EnemyArray_<span class=\"token decimalnumber string\">492</span>_Data, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">492</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">STA</span> EnemyRawDataOffset, <span class=\"token register variable\">X</span>\n","line":5105},{"comment":"Restore X to its previous value","content":"\tPLA\n\tTAX\n\n\tRTS\n","htmlComment":"<p>Restore X to its previous value</p>\n","htmlContent":"\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">TAX</span>\n\n\t<span class=\"token opcode property\">RTS</span>\n","line":5119}]}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}