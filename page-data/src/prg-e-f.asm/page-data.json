{"componentChunkName":"component---src-templates-asm-source-jsx","path":"/src/prg-e-f.asm","webpackCompilationHash":"0a0d43c2c0dda6221466","result":{"data":{"asmSource":{"path":"/src/prg-e-f.asm","name":"prg-e-f","raw":";\n; Bank E & Bank F\n; ===============\n;\n; What's inside: Lots of game logic.\n;\n;   - DPCM data\n;   - Joypad input reading\n;   - PPU update routines\n;   - Game initialization routines\n;   - Title card display routines\n;   - Area initialization routines\n;   - Music cue routines\n;   - Character select (sprite data, palettes, logic)\n;   - Bonus chance (sprite data, palettes, logic)\n;   - Game Over / Continue screen\n;   - Pause screen\n;   - Health logic\n;   - Bottomless pit death logic\n;   - Bounding box data for collisions\n;   - and more!\n;\n\n; Include DPCM samples\n.include \"src/music/dpcm-samples.asm\"\n\n; PPU update buffers used to update the screen\nScreenUpdateBufferPointers:\n\t.dw PPUBuffer_301\n\t.dw PPUBuffer_583\n\t.dw PPUBuffer_55F\n\t.dw PPUBuffer_CharacterSelect\n\t.dw PPUBuffer_BANKE_DE7A\n\t.dw PPUBuffer_Text_Game_Over\n\t.dw PPUBuffer_67B\n\t.dw PPUBuffer_Text_Retry\n\t.dw PPUBuffer_7168\n\t.dw PPUBuffer_67B\n\t.dw PPUBuffer_693\n\t.dw PPUBuffer_6AB\n\t.dw PPUBuffer_6BD\n\t.dw PPUBuffer_6CC\n\t.dw PPUBuffer_6E9\n\t.dw PPUBuffer_6DA\n\t.dw PPUBuffer_6DF\n\t.dw PPUBuffer_6E4\n\t.dw PPUBuffer_7194\n\t.dw PPUBuffer_71A8\n\t.dw PPUBuffer_721B\n\t.dw PPUBuffer_TitleCard\n\t.dw PPUBuffer_PauseExtraLife\n\t.dw BonusChanceLayoutRAM\n\nPPUBuffer_CharacterSelect:\n\t.db $21,$49,$06,$E9,$E5,$DE,$DA,$EC,$DE ; PLEASE\n\t.db $21,$50,$06,$EC,$DE,$E5,$DE,$DC,$ED ; SELECT\n\t.db $21,$8C,$06,$E9,$E5,$DA,$F2,$DE,$EB ; PLAYER\n\t.db $20,$00,$20,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8 ; Probably the checkerboard diamonds or w/e\n\t.db $B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7 ; $F\n\t.db $B8,$B7,$B8,$B7,$B8 ; $1E\n\t.db $20,$20,$20,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA\n\t.db $B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9 ; $F\n\t.db $BA,$B9,$BA,$B9,$BA ; $1E\n\t.db $23,$80,$20,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8\n\t.db $B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7 ; $F\n\t.db $B8,$B7,$B8,$B7,$B8 ; $1E\n\t.db $23,$A0,$20,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA\n\t.db $B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9 ; $F\n\t.db $BA,$B9,$BA,$B9,$BA ; $1E\n\t.db $20,$00,$9E,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9\n\t.db $B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7 ; $F\n\t.db $B9,$B7,$B9 ; $1E\n\t.db $20,$01,$9E,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA\n\t.db $B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8 ; $F\n\t.db $BA,$B8,$BA ; $1E\n\t.db $20,$1E,$9E,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9\n\t.db $B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7 ; $F\n\t.db $B9,$B7,$B9 ; $1E\n\t.db $20,$1F,$9E,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA\n\t.db $B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8 ; $F\n\t.db $BA,$B8,$BA ; $1E\n\t.db $20,$42,$5C,$FD\n\t.db $20,$62,$5C,$FD\n\t.db $20,$47,$05,$00,$01,$02,$03,4\n\t.db $20,$54,$05,$05,$06,$07,$08,9\n\t.db $20,$63,$0A,$A,$0B,$C,$0D,$E,$0F,$10,$11,$12,$13\n\t.db $20,$73,$0A,$14,$15,$16,$17,$18,$19,$1A,$1B,$1C,$1D\n\t.db $20,$82,$1C,$1E,$1F,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29\n\t.db $FD,$FD,$FD,$FD,$2A,$2B,$2C,$2D,$2E,$2F,$30,$31,$32,$33,$34 ; $F\n\t.db $35 ; $1E\n\t.db $20,$A2,$06,$36,$37,$38,$39,$3A,$3B\n\t.db $20,$AB,$0A,$3C,$3D,$3E,$3F,$40,$43,$44,$45,$46,$47\n\t.db $20,$B8,$06,$48,$49,$4A,$4B,$4C,$4D\n\t.db $20,$C2,$05,$4E,$4F,$50,$51,$52\n\t.db $20,$D9,$05,$53,$54,$55,$56,$57\n\t.db $20,$E2,$04,$58,$59,$5A,$5B\n\t.db $20,$E6,$CD,$5C\n\t.db $20,$F9,$CD,$5C\n\t.db $20,$FA,$04,$5D,$5E,$5F,$60\n\t.db $21,$02,$83,$61,$64,$67\n\t.db $21,$03,$8B,$62,$65,$68,$6A,$6C,$6F,$72,$75,$78,$7B,$7E\n\t.db $21,$04,$94,$63,$66,$69,$6B,$6D,$70,$73,$76,$79,$7C,$7F,$81\n\t.db $82,$83,$84,$85,$86,$87,$88,$89 ; $F\n\t.db $21,$85,$89,$6E,$71,$74,$77,$7A,$7D,$80,$6E,$6E\n\t.db $21,$9A,$89,$97,$9A,$9D,$BB,$A0,$A3,$A6,$A9,$AB\n\t.db $21,$1B,$94,$8C,$8F,$92,$95,$98,$9B,$9E,$BC,$A1,$A4,$A7,$AA\n\t.db $AC,$AD,$AE,$B0,$B1,$B2,$B3,$B4 ; $F\n\t.db $21,$1C,$8B,$8D,$90,$93,$96,$99,$9C,$9F,$BD,$A2,$A5,$A8\n\t.db $21,$1D,$83,$8E,$91,$94\n\t.db $21,$62,$D1,$FD\n\t.db $21,$7D,$D1,$FD\n\t.db $22,$63,$C9,$FD,$22,$7C,$C9,$FD,$22,$86,$82,$8A,$8B,$22,$99\n\t.db $82,$8A,$8B ; $F\n\t.db $00\nPPUBuffer_BANKE_DE7A:\n\t.db $23,$C0,$09,$3E,$0E,$E,$0E,$E,$0E,$E,$8E,$32\n\t.db $23,$CF,$01,$8C\n\t.db $23,$D0,$10,$32,$00,$A0,$A0,$A0,$20,$00,$8C,$32,$00,$00,$0A,$02,$00,$00,$8C\n\t.db $23,$E0,$09,$32,$00,$00,$0E,$00,$00,$00,$8C,$32\n\t.db $23,$EF,$01,$8C\n\t.db $23,$F0,$06,$32,$00,$A0,$A0,$A0,$A0\n\t.db $23,$F7,$09,$8C,$0E,$E,$0E,$E,$0E,$E,$0E,$E\n\t.db $24,$00,$60,$FF\n\t.db $24,$20,$60,$FF\n\t.db $24,$40,$60,$FF\n\t.db $24,$60,$60,$FF\n\t.db $27,$40,$60,$FF\n\t.db $27,$60,$60,$FF\n\t.db $27,$80,$60,$FF\n\t.db $27,$A0,$60,$FF\n\t.db $24,$80,$D6,$FF\n\t.db $24,$81,$D6,$FF\n\t.db $24,$82,$D6,$FF\n\t.db $24,$9D,$D6,$FF\n\t.db $24,$9E,$D6,$FF\n\t.db $24,$9F,$D6,$FF\n\t.db $24,$83,$01,$D0\n\t.db $24,$9C,$01,$D8\n\t.db $24,$84,$58,$FB\n\t.db $24,$A3,$D4,$D1\n\t.db $24,$BC,$D4,$D7\n\t.db $24,$A4,$58,$FB\n\t.db $24,$C4,$58,$FB\n\t.db $24,$E4,$58,$FB\n\t.db $25,$04,$58,$FB\n\t.db $25,$24,$58,$FB\n\t.db $25,$44,$58,$FB\n\t.db $25,$64,$58,$FB\n\t.db $25,$84,$58,$FB\n\t.db $25,$A4,$58,$FB\n\t.db $25,$C4,$58,$FB\n\t.db $25,$E4,$58,$FB\n\t.db $26,$04,$58,$FB\n\t.db $26,$24,$58,$FB\n\t.db $26,$44,$58,$FB\n\t.db $26,$64,$58,$FB\n\t.db $26,$84,$58,$FB\n\t.db $26,$A4,$58,$FB\n\t.db $26,$C4,$58,$FB\n\t.db $26,$E4,$58,$FB\n\t.db $27,$23,$01,$D2\n\t.db $27,$3C,$01,$D6\n\t.db $27,$24,$58,$D3\n\t.db $27,$C8,$08,$44,$FF,$BF,$AF,$AF,$AF,$FF,$11\n\t.db $27,$D0,$10,$44,$BF,$AF,$AF,$AF,$AF,$EF,$11,$44,$FF,$FF,$FF\n\t.db $FF,$FF,$FF,$11 ; $F\n\t.db $27,$E0,$10,$44,$FF,$FF,$FF,$FF,$FF,$FF,$11,$44,$FF,$FF,$FF\n\t.db $FF,$FF,$AF,$11 ; $F\n\t.db $27,$F0,$08,$44,$05,$05,$05,$05,$05,$05,$01\n\t.db $27,$04,$58,$FB\n\t.db $00\n\n; nametable attribute data\nPPUBuffer_PauseExtraLife:\n\t.db $27, $EA, $05\n\t.db $AA, $AA, $AA, $AA, $AA\n\n; nametable attribute data\nPPUBuffer_TitleCard:\n\t.db $20, $1E, $9E\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $20, $1F, $9E\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $23, $C7, $01, $00\n\t.db $23, $CF, $01, $00\n\t.db $23, $D7, $01, $00\n\t.db $23, $DF, $01, $00\n\t.db $23, $E7, $01, $00\n\t.db $23, $EF, $01, $00\n\t.db $23, $F7, $01, $00\n\t.db $23, $FF, $01, $00\n\t.db $00\n\nWorldStartingLevel:\n\t.db $00\n\t.db $03 ; $00\n\t.db $06 ; $01\n\t.db $09 ; $02\n\t.db $0C ; $03\n\t.db $0F ; $04\n\t.db $12 ; $05\n\t.db $14 ; $06\n\nPlayerSelectMarioSprites1:\n\t.db $8F, $00, $00, $48\n\t.db $8F, $00, $40, $50\n\t.db $9F, $02, $00, $48\n\t.db $9F, $02, $40, $50\n\nPlayerSelectLuigiSprites1:\n\t.db $8F, $04, $01, $68\n\t.db $8F, $04, $41, $70\n\t.db $9F, $06, $01, $68\n\t.db $9F, $06, $41, $70\n\nPlayerSelectToadSprites1:\n\t.db $8F, $08, $02, $88\n\t.db $8F, $08, $42, $90\n\t.db $9F, $0A, $02, $88\n\t.db $9F, $0A, $42, $90\n\nPlayerSelectPrincessSprites1:\n\t.db $8F, $0C, $03, $A8\n\t.db $8F, $0C, $43, $B0\n\t.db $9F, $0E, $03, $A8\n\t.db $9F, $0E, $43, $B0\n\nPlayerSelectMarioSprites2:\n\t.db $8F, $10, $00, $48\n\t.db $8F, $12, $00, $50\n\t.db $9F, $14, $00, $48\n\t.db $9F, $16, $00, $50\n\nPlayerSelectLuigiSprites2:\n\t.db $8F, $18, $01, $68\n\t.db $8F, $1A, $01, $70\n\t.db $9F, $1C, $01, $68\n\t.db $9F, $1E, $01, $70\n\nPlayerSelectToadSprites2:\n\t.db $8F, $20, $02, $88\n\t.db $8F, $22, $02, $90\n\t.db $9F, $24, $02, $88\n\t.db $9F, $26, $02, $90\n\nPlayerSelectPrincessSprites2:\n\t.db $8F, $28, $03, $A8\n\t.db $8F, $2A, $03, $B0\n\t.db $9F, $2C, $03, $A8\n\t.db $9F, $2E, $03, $B0\n\nPlayerSelectSpriteIndexes:\n\t.db $00, $30, $20, $10\n\nBonusChanceCherrySprite:\n\t.db $5F, $05, $01, $58\n\t.db $5F, $07, $01, $60\n\nBonusChanceStarSprite:\n\t.db $5F, $09, $01, $58\n\t.db $5F, $09, $41, $60\n\nBonusChanceVeggieSprite:\n\t.db $5F, $0B, $01, $58\n\t.db $5F, $0B, $41, $60\n\nBonusChanceSnifitSprite:\n\t.db $5F, $01, $01, $58\n\t.db $5F, $03, $01, $60\n\nPlayerSelectSpritePalettesDark:\n\t.db $3F, $10, $10 ; PPU Data\n\t.db $0F, $22, $12, $01\n\t.db $0F, $22, $12, $01\n\t.db $0F, $22, $12, $01\n\t.db $0F, $22, $12, $01\n\nPlayerSelectPaletteOffsets:\n\t.db (PlayerSelectSpritePalettes_Mario - PlayerSelectSpritePalettes)\n\t.db (PlayerSelectSpritePalettes_Princess - PlayerSelectSpritePalettes)\n\t.db (PlayerSelectSpritePalettes_Toad - PlayerSelectSpritePalettes)\n\t.db (PlayerSelectSpritePalettes_Luigi - PlayerSelectSpritePalettes)\n\nPlayerSelectSpritePalettes:\nPlayerSelectSpritePalettes_Mario:\n\t.db $3F, $10, $04\n\t.db $0F, $27, $16, $01\nPlayerSelectSpritePalettes_Luigi:\n\t.db $3F, $14, $04\n\t.db $0F, $36, $2A, $01\nPlayerSelectSpritePalettes_Toad:\n\t.db $3F, $18, $04\n\t.db $0F, $27, $30, $01\nPlayerSelectSpritePalettes_Princess:\n\t.db $3F, $1C, $04\n\t.db $0F, $36, $25, $07\n\nTitleCardPalettes:\n\t.db $3F, $00, $20 ; PPU data\n\t.db $38, $30, $1A, $0F\n\t.db $38, $38, $0F, $0F\n\t.db $38, $17, $17, $38\n\t.db $38, $28, $18, $08\n\t.db $38, $30, $27, $01\n\t.db $38, $37, $27, $06\n\t.db $38, $25, $36, $06\n\t.db $38, $12, $36, $01\n\t.db $00\n\nBonusChanceSpritePalettes:\n\t.db $0F,$37,$16,$0F\n\t.db $0F,$37,$16,$0F ; 4\n\t.db $0F,$37,$16,$0F ; 8\n\t.db $0F,$37,$16,$0F ; $C\n\n\n;\n; Load A with an index and call this to\n; jump to a pointer from the table directly\n; after the call.\n;\nJumpToTableAfterJump:\n\tASL A\n\tTAY\n\tPLA\n\tSTA byte_RAM_A\n\tPLA\n\tSTA byte_RAM_B\n\tINY\n\tLDA (byte_RAM_A), Y\n\tSTA byte_RAM_C\n\tINY\n\tLDA (byte_RAM_A), Y\n\tSTA byte_RAM_D\n\tJMP (byte_RAM_C)\n\n\nBlackAndWhitePalette:\n\t.db $0F,$30,$30,$0F\n\n\nSetBlackAndWhitePalette:\n\tLDA PPUSTATUS\n\tLDA #$3F\n\tLDY #$00\n\tSTA PPUADDR\n\tSTY PPUADDR\n\nSetBlackAndWhitePalette_Loop:\n\tTYA\n\tAND #$03\n\tTAX\n\tLDA BlackAndWhitePalette, X\n\tSTA PPUDATA\n\tINY\n\tCPY #$14\n\tBCC SetBlackAndWhitePalette_Loop\n\n\tRTS\n\n\nSetScrollXYTo0:\n\tLDA #$00\n\tSTA PPUScrollYMirror\n\tSTA PPUScrollXMirror\n\tSTA byte_RAM_C8\n\tSTA byte_RAM_C9\n\tRTS\n\n\n;\n; Clears the screen and resets the scroll position for the title card\n;\n; This is used for the character select screen as well, but that has a few PPU\n; changes of its own.\n;\nResetScreenForTitleCard:\n\tJSR EnableNMI\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR SetScrollXYTo0\n\n\tLDA #ScreenUpdateBuffer_RAM_55F\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDA #VMirror\n\tJSR ChangeNametableMirroring\n\n\tJSR ClearNametablesAndSprites\n\n\tRTS\n\n\n;\n; Enables NMI and draws the background of the pause screen\n;\nEnableNMI_PauseTitleCard:\n\tJSR EnableNMI\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tLDA #Stack100_Menu\n\tSTA StackArea\n\tLDA #ScreenUpdateBuffer_CharacterSelect\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDA #ScreenUpdateBuffer_BANKE_DE7A\n\tSTA ScreenUpdateIndex\n\tJMP WaitForNMI\n\n\n;\n; Draws world info for the title card and pause screens\n;\n; Input\n;   X = CurrentWorld\n;   Y = CurrentLevel (not actually used)\n;\nDisplayLevelTitleCardText:\n\t; Level number (unused)\n\t; In Doki Doki Panic, this was displayed as a page number, keeping with\n\t; the storybook motif.\n\tINY\n\tTYA\n\tJSR GetTwoDigitNumberTiles\n\n\t; World number\n\tINX\n\tTXA\n\tORA #$D0\n\tSTA byte_RAM_717D\n\n\t; Extra Life number\n\tLDY ExtraLives\n\tDEY\n\tTYA\n\tJSR GetTwoDigitNumberTiles\n\tSTY byte_RAM_7191\n\tSTA byte_RAM_7192\n\n\t; Reset level dots\n\tLDY #$06\n\tLDA #$FB\nloc_BANKF_E1B6:\n\tSTA unk_RAM_716B, Y ; writes to $7171\n\tDEY\n\tBPL loc_BANKF_E1B6\n\n\t; Level number\n\tLDY CurrentWorld\n\tLDA CurrentLevel\n\tSEC\n\tSBC WorldStartingLevel, Y\n\tSTA CurrentLevelRelative\n\tCLC\n\tADC #$D1\n\tSTA byte_RAM_717F\n\n\tLDA WorldStartingLevel + 1, Y\n\tSEC\n\tSBC WorldStartingLevel, Y\n\tSTA byte_RAM_3\n\n\t; Level dots\n\tLDX #$00\n\tLDY #$00\nloc_BANKF_E1DC:\n\tLDA #$FD\n\tCPX CurrentLevelRelative\n\tBNE loc_BANKF_E1E5\n\n\tLDA #$F6\n\nloc_BANKF_E1E5:\n\tSTA unk_RAM_716B, Y\n\tINY\n\tINY\n\tINX\n\tCPX byte_RAM_3\n\tBCC loc_BANKF_E1DC\n\n\t; Draw the card\n\tLDA #ScreenUpdateBuffer_RAM_7168\n\tSTA ScreenUpdateIndex\n\tRTS\n\n\n;\n; It's game time, pal\n;\nSetStack100Gameplay:\n\tLDA #Stack100_Gameplay\n\tSTA StackArea\n\tRTS\n\n\n; =============== S U B R O U T I N E =======================================\n\n;\n; Resets various level-related variables to $00\n;\nInitializeSomeLevelStuff:\n\tLDA #$00\n\tSTA CurrentLevelArea\n\tSTA CurrentLevelArea_Init\n\tSTA CurrentLevelEntryPage\n\tSTA CurrentLevelEntryPage_Init\n\tSTA TransitionType\n\tSTA TransitionType_Init\n\tSTA PlayerState\n\tSTA PlayerState_Init\n\tSTA InSubspaceOrJar\n\tSTA InJarType\n\tSTA StopwatchTimer\n\tSTA PlayerCurrentSize\n\tRTS\n\n\nPlayerSelectArrowTop:\n\t.db $C9\n\t.db $D5\n\t.db $D1\n\t.db $CD\nPlayerSelectArrowBottom:\n\t.db $E9\n\t.db $F5\n\t.db $F1\n\t.db $ED\n\n\n;\n; Displays the level title card and prepares the level to start by loading\n; the world tiles, PRG banks A/B, and copying character data\n;\nDisplayLevelTitleCardAndMore:\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\n\t; Set the scrolling mirror over to the right side...\n\t; This Isn't quiiite correct, and causes a bunch of\n\t; crud to show on the very left pixel -- residue\n\t; from the character select screen\n\tLDA #$FF\n\tSTA PPUScrollXMirror\n\tJSR ChangeTitleCardCHR\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyCharacterStatsAndStuff\n\n\tJSR EnableNMI\n\n\tJSR HideAllSprites\n\n\tLDY #$23\nDisplayLevelTitleCardAndMore_TitleCardPaletteLoop:\n\tLDA TitleCardPalettes, Y\n\tSTA PPUBuffer_55F, Y\n\tDEY\n\tBPL DisplayLevelTitleCardAndMore_TitleCardPaletteLoop\n\n\tLDA #ScreenUpdateBuffer_RAM_55F ; Then tell it to dump that into the PPU\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDA #ScreenUpdateBuffer_TitleCard\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tJSR DrawTitleCardWorldImage\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJSR RestorePlayerToFullHealth\n\n\t; Pause for the title card\n\tLDA #$50\n\tSTA byte_RAM_2\nPreLevelTitleCard_PauseLoop:\n\tJSR WaitForNMI\n\tDEC byte_RAM_2\n\tBPL PreLevelTitleCard_PauseLoop\n\nPreStartLevel:\n\tJSR SetStack100Gameplay\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\n\tJSR LoadWorldCHRBanks\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyCharacterStatsAndStuff\n\n\tJSR EnableNMI\n\n\tRTS\n\n\n;\n; Runs the Character Select menu\n;\nDoCharacterSelectMenu:\n\tJSR WaitForNMI\n\n\tLDA #$00\n\tSTA PPUMASK\n\tJSR DisableNMI\n\n\tJSR LoadCharacterSelectCHRBanks\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyCharacterStatsAndStuff\n\n\tJSR ResetScreenForTitleCard\n\n\tLDA CharacterSelectBankSwitch\n\tCMP #$A5\n\tBEQ loc_BANKF_E2B2\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tLDA #$A5\n\tSTA CharacterSelectBankSwitch\n\nloc_BANKF_E2B2:\n\tJSR EnableNMI_PauseTitleCard\n\n\tJSR DisableNMI\n\n\tLDA #Music1_CharacterSelect\n\tSTA MusicQueue1\n\tLDA CurrentCharacter\n\tSTA PreviousCharacter\n\tLDA CurrentWorld\n\tSTA PreviousWorld\n\tLDY #$3F\n\nloc_BANKF_E2CA:\n\tLDA PlayerSelectMarioSprites1, Y\n\tSTA SpriteDMAArea + $10, Y\n\tDEY\n\tBPL loc_BANKF_E2CA\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDX CurrentWorld\n\tLDY CurrentLevel\n\tJSR DisplayLevelTitleCardText\n\n\tJSR WaitForNMI\n\n\tJMP loc_BANKF_E311\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E2E8:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Right | ControllerInput_Left\n\tBNE CharacterSelect_ChangeCharacter\n\n\tJMP CharacterSelectMenuLoop\n\n; ---------------------------------------------------------------------------\n\nCharacterSelect_ChangeCharacter:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Right\n\tBEQ loc_BANKF_E2FE\n\n\tDEC CurrentCharacter\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\nloc_BANKF_E2FE:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Left\n\tBEQ loc_BANKF_E30B\n\n\tINC CurrentCharacter\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\nloc_BANKF_E30B:\n\tLDA CurrentCharacter\n\tAND #$03\n\tSTA CurrentCharacter\n\nloc_BANKF_E311:\n\tLDY #$00\n\tLDA #$21\n\tSTA PPUBuffer_301\n\tLDA #$C9\n\tSTA PPUBuffer_301 + 1\n\tLDA #$4F\n\tSTA PPUBuffer_301 + 2\n\tLDA #$FB\n\tSTA PPUBuffer_301 + 3\n\tLDA #$21\n\tSTA PPUBuffer_301 + 4\n\tLDA #$E9\n\tSTA PPUBuffer_301 + 5\n\tLDA #$4F\n\tSTA PPUBuffer_301 + 6\n\tLDA #$FB\n\tSTA PPUBuffer_301 + 7\n\tLDY CurrentCharacter\n\tLDA #$21\n\tSTA PPUBuffer_301 + 8\n\tLDA PlayerSelectArrowTop, Y\n\tSTA PPUBuffer_301 + 9\n\tLDA #$02\n\tSTA PPUBuffer_301 + 10\n\tLDA #$BE\n\tSTA PPUBuffer_301 + 11\n\tLDA #$C0\n\tSTA PPUBuffer_301 + 12\n\tLDA #$21\n\tSTA PPUBuffer_301 + 13\n\tLDA PlayerSelectArrowBottom, Y\n\tSTA PPUBuffer_301 + 14\n\tLDA #$02\n\tSTA PPUBuffer_301 + 15\n\tLDA #$BF\n\tSTA PPUBuffer_301 + 16\n\tLDA #$C1\n\tSTA PPUBuffer_301 + 17\n\tLDA #$00\n\tSTA PPUBuffer_301 + 18\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDX #$12\n\tLDY #$00\n\nloc_BANKF_E37D:\n\tLDA PlayerSelectSpritePalettesDark, Y\n\tSTA PPUBuffer_301, Y\n\tINY\n\tDEX\n\tBPL loc_BANKF_E37D\n\n\tLDA #$06\n\tSTA byte_RAM_A\n\tLDX CurrentCharacter\n\tLDA PlayerSelectPaletteOffsets, X\n\tTAX\n\nloc_BANKF_E391:\n\tLDA PlayerSelectSpritePalettes, X\n\tSTA PPUBuffer_301, Y\n\tINY\n\tINX\n\tDEC byte_RAM_A\n\tBPL loc_BANKF_E391\n\n\tLDA #$00\n\tSTA PPUBuffer_301, Y\n\nCharacterSelectMenuLoop:\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_A\n\tBNE loc_BANKF_E3AE\n\n\tJMP loc_BANKF_E2E8\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E3AE:\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\tLDX CurrentWorld\n\tLDY CurrentLevel\n\tJSR DisplayLevelTitleCardText\n\n\tLDA #$40\n\tSTA byte_RAM_10\n\tJSR WaitForNMI\n\n\tLDX #$F\n\tLDA CurrentCharacter\n\tTAY\n\tLDA PlayerSelectSpriteIndexes, Y\n\tTAY\n\nloc_BANKF_E3CC:\n\tLDA PlayerSelectMarioSprites2, Y\n\tSTA SpriteDMAArea + $10, Y\n\tINY\n\tDEX\n\tBPL loc_BANKF_E3CC\n\nloc_BANKF_E3D6:\n\tJSR WaitForNMI\n\n\tDEC byte_RAM_10\n\tBPL loc_BANKF_E3D6\n\n\tLDY #$3F\n\nloc_BANKF_E3DF:\n\tLDA PlayerSelectMarioSprites1, Y\n\tSTA SpriteDMAArea + $10, Y\n\tDEY\n\tBPL loc_BANKF_E3DF\n\n\tLDA #$40\n\tSTA byte_RAM_10\n\nloc_BANKF_E3EC:\n\tJSR WaitForNMI\n\n\tDEC byte_RAM_10\n\tBPL loc_BANKF_E3EC\n\n\tLDA #Music2_StopMusic\n\tSTA MusicQueue2\n\tRTS\n\n\n;\n; This starts the game once RESET has done its thing.\n; We also come here after choosing \"RETRY\" from the game over menu.\n;\nStartGame:\n\tLDA #$00\n\tSTA PPUMASK\n\tJSR DisableNMI\n\n\tLDA #PRGBank_0_1\n\tSTA GameMilestoneCounter\n\tJSR ChangeMappedPRGBank\n\n\tJSR TitleScreen ; The whole title screen is a subroutine, lol\n\n\tINC GameMilestoneCounter\nSetNumContinues:\n\tLDA #$02 ; Number of continues on start\n\tSTA Continues\n\n; We return here after picking \"CONTINUE\" from the game over menu.\nContinueGame:\n\tLDA #$03 ; Number of lives to start\n\tSTA ExtraLives\n\nStartCharacterSelectMenu:\n\tLDX CurrentWorld\n\tLDY WorldStartingLevel, X\n\tSTY CurrentLevel\n\tSTY CurrentLevel_Init\n\tJSR DoCharacterSelectMenu\n\n\tJSR InitializeSomeLevelStuff\n\n\tJSR DisplayLevelTitleCardAndMore\n\n\tLDA #$FF\n\tSTA CurrentMusicIndex\n\tBNE StartLevel ; Branch always\n\nCharacterSelectMenu:\n\tJSR DoCharacterSelectMenu\n\nStartLevelAfterTitleCard:\n\tJSR DisplayLevelTitleCardAndMore\n\nStartLevel:\n\tJSR WaitForNMI_TurnOffPPU\n\n\tLDA #$B0\n\tORA byte_RAM_C9\n\tLDY IsHorizontalLevel\n\tBNE StartLevel_SetPPUCtrlMirror\n\n\tAND #$FE\n\tORA byte_RAM_C8\n\nStartLevel_SetPPUCtrlMirror:\n\tSTA PPUCtrlMirror\n\tSTA PPUCTRL\n\tLDA #Stack100_Transition\n\tSTA StackArea\n\tLDA #PRGBank_8_9\n\tJSR ChangeMappedPRGBank\n\n\tJSR GetLevelPointers\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentArea\n\n\tJSR LoadCurrentPalette\n\nIFDEF AREA_HEADER_TILESET\n\tJSR LoadWorldCHRBanks\nENDIF\n\n\tJSR HideAllSprites\n\n\tJSR WaitForNMI\n\n\tJSR SetStack100Gameplay\n\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCtrlMirror\n\n\tLDA IsHorizontalLevel\n\tBEQ StartLevel_Vertical_Loop\n\nStartLevel_Horizontal_Loop:\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR InitializeAreaHorizontal\n\n\tJSR EnsureCorrectMusic\n\n\tLDA BreakStartLevelLoop\n\tBEQ StartLevel_Horizontal_Loop\n\n\tLDA #$00\n\tSTA BreakStartLevelLoop\n\tJSR WaitForNMI_TurnOnPPU\n\nloc_BANKF_E491:\n\tJSR WaitForNMI\n\n\tLDA NeedVerticalScroll\n\tAND #$04\n\tBNE loc_BANKF_E4A3\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBEQ loc_BANKF_E4A3\n\n\tJMP ShowPauseScreen\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E4A3:\n\tLDA InSubspaceOrJar\n\tBEQ loc_BANKF_E4AB\n\n\tJMP loc_BANKF_E5A0\n\n; ---------------------------------------------------------------------------\n\n; horizontal level\nloc_BANKF_E4AB:\n\tJSR HideAllSprites\n\n\tJSR sub_BANKF_F11E\n\n\tLDY GameMode\n\tBEQ loc_BANKF_E4B9\n\n\tJMP loc_BANKF_E665\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E4B9:\n\tLDA DoAreaTransition\n\tBEQ loc_BANKF_E491\n\n\tJSR sub_BANKF_F6A1\n\n\tJSR sub_BANKF_F1AE\n\n\tLDA #$00\n\tSTA DoAreaTransition\n\tJMP StartLevel\n\nStartLevel_Vertical_Loop:\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR InitializeAreaVertical\n\n\tJSR EnsureCorrectMusic\n\n\tLDA BreakStartLevelLoop\n\tBEQ StartLevel_Vertical_Loop\n\n\tLDA #$00\n\tSTA BreakStartLevelLoop\n\tJSR WaitForNMI_TurnOnPPU\n\nloc_BANKF_E4E5:\n\tJSR WaitForNMI\n\n\tLDA NeedVerticalScroll\n\tAND #$04\n\tBNE loc_BANKF_E4F4\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBNE ShowPauseScreen\n\n; vertical level\nloc_BANKF_E4F4:\n\tJSR HideAllSprites\n\n\tJSR sub_BANKF_F17E\n\n\tLDY GameMode\n\tBEQ loc_BANKF_E502\n\n\tJMP loc_BANKF_E665\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E502:\n\tLDA DoAreaTransition\n\tBEQ loc_BANKF_E4E5\n\n\tJSR sub_BANKF_F6A1\n\n\tJSR sub_BANKF_F1AE\n\n\tLDA #$00\n\tSTA DoAreaTransition\n\tJMP StartLevel\n\n\n;\n; Pauses the game\n;\nShowPauseScreen:\n\tJSR PauseScreen_ExtraLife\n\n\t; used when running sound queues\n\tLDA #Stack100_Pause\n\tSTA StackArea\n\nPauseScreenLoop:\n\tLDA #$0E\n\tSTA byte_RAM_6\n\nDoSuicideCheatCheck:\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDA PlayerState ; Check if the player is already dying\n\tCMP #PlayerState_Dying\n\tBEQ PauseScreenExitCheck ; If so, skip the suicide code check\n\n\tLDA Player2JoypadHeld ; Check for suicide code\n\tCMP #ControllerInput_Up | ControllerInput_B | ControllerInput_A ; Up + A + B\n\tBNE PauseScreenExitCheck ; Not being held! Nothing to see here\n\n\tJSR KillPlayer ; KILL THYSELF\n\nPauseScreenExitCheck:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBNE HidePauseScreen\n\n\tDEC byte_RAM_6\n\tBPL DoSuicideCheatCheck\n\n\tINC byte_RAM_7\n\tLDA byte_RAM_7\n\tAND #$01\n\tCLC\n\tADC #$0D ; Will use either $0D or $0E from the update index pointers\n\tSTA ScreenUpdateIndex ; @TODO I assume this is what blinks \"PAUSE\"\n\tJMP PauseScreenLoop\n\n;\n; Unpauses the game\n;\nHidePauseScreen:\n\tJSR WaitForNMI_TurnOffPPU\n\nIFDEF RESET_CHR_LATCH\n\tLDA #$00\n\tSTA ResetCHRLatch\nENDIF\n\n\tJSR LoadWorldCHRBanks\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentPalette\n\n\tJSR WaitForNMI\n\n\tJSR SetStack100Gameplay\n\n\tJSR HideAllSprites\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR RestoreScreenScrollPosition\n\n\tLDA IsHorizontalLevel\n\tBNE HidePauseScreen_Horizontal\n\nHidePauseScreen_Vertical:\n\tLDA #HMirror\n\tJSR ChangeNametableMirroring\n\n\tJSR sub_BANK0_81FE\n\nHidePauseScreen_Vertical_Loop:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_823D\n\n\tLDA byte_RAM_537\n\tBEQ HidePauseScreen_Vertical_Loop\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJMP loc_BANKF_E4E5\n\nHidePauseScreen_Horizontal:\n\tLDA #VMirror\n\tJSR ChangeNametableMirroring\n\n\tJSR sub_BANK0_8785\n\nHidePauseScreen_Horizontal_Loop:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_87AA\n\n\tLDA byte_RAM_537\n\tBEQ HidePauseScreen_Horizontal_Loop\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJMP loc_BANKF_E491\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E5A0:\n\tJSR ClearNametablesAndSprites\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tLDA #$00\n\tSTA SubspaceCoins\n\tLDA InSubspaceOrJar\n\tCMP #$02\n\tBEQ loc_BANKF_E5D4\n\n\tLDA #PRGBank_8_9\n\tJSR ChangeMappedPRGBank\n\n\tJSR GetJarPointers\n\n\tJSR GetEnemyPointers\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR ClearSubAreaTileLayout\n\n\tLDA #Music1_Inside\n\tSTA MusicQueue1\n\tLDA #$01\n\tSTA CurrentMusicIndex\n\tJMP loc_BANKF_E5E1\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E5D4:\n\tJSR GenerateSubspaceArea\n\n\tLDA #Music1_Subspace\n\tSTA MusicQueue1\n\tLDA #$04\n\tSTA CurrentMusicIndex\n\nloc_BANKF_E5E1:\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR sub_BANK0_870C\n\n\tJSR EnableNMI\n\nloc_BANKF_E5EC:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_87AA\n\n\tLDA byte_RAM_537\n\tBEQ loc_BANKF_E5EC\n\n\tLDA InSubspaceOrJar\n\tCMP #$02\n\tBEQ loc_BANKF_E606\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentPalette\n\nloc_BANKF_E606:\n\tJSR WaitForNMI_TurnOnPPU\n\n; subspace\nloc_BANKF_E609:\n\tJSR WaitForNMI\n\n\tJSR HideAllSprites\n\n\tJSR sub_BANKF_F0F9\n\n\tLDY GameMode\n\tBEQ loc_BANKF_E61A\n\n\tJMP loc_BANKF_E665\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E61A:\n\tLDA InSubspaceOrJar\n\tBNE loc_BANKF_E609\n\n\tLDA SubspaceCoins\n\tBEQ loc_BANKF_E627\n\n\tINC SubspaceVisits\n\nloc_BANKF_E627:\n\tLDA CurrentLevelAreaCopy\n\tSTA CurrentLevelArea\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentPalette\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR HideAllSprites\n\n\tLDY CompareMusicIndex\n\tSTY CurrentMusicIndex\n\tLDA StarInvincibilityTimer\n\tBNE loc_BANKF_E64C\n\n\tLDA LevelMusicIndexes, Y\n\tSTA MusicQueue1\n\nloc_BANKF_E64C:\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR sub_BANK0_874C\n\nloc_BANKF_E654:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_87AA\n\n\tLDA byte_RAM_537\n\tBEQ loc_BANKF_E654\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJMP loc_BANKF_E491\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E665:\n\tJSR DoAreaReset\n\n\tLDY GameMode\n\tLDA #GameMode_InGame\n\tSTA GameMode\n\tSTA StarInvincibilityTimer\n\tSTA BigVeggiesPulled\n\tSTA CherryCount\n\tSTA StopwatchTimer\n\tDEY\n\tBNE loc_BANKF_E69F\n\n\tSTY PlayerCurrentSize\n\tJSR LevelInitialization\n\n\tLDA #$FF\n\tSTA CurrentMusicIndex\n\t; this looks like an address\n\tLDA #$25\n\tSTA byte_RAM_7180\n\tLDA #$48\n\tSTA byte_RAM_7181\n\tLDA #ScreenUpdateBuffer_TitleCard\n\tSTA CardScreenUpdateIndex\n\tJSR PauseScreen_Card\n\nAfterDeathJump:\nIFNDEF CHARACTER_SELECT_AFTER_DEATH\n\tJMP StartLevelAfterTitleCard\nENDIF\nIFDEF CHARACTER_SELECT_AFTER_DEATH\n\tJMP CharacterSelectMenu\nENDIF\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E69F:\n\tLDA #PlayerHealth_2_HP\n\tSTA PlayerHealth\n\tLDA #$00\n\tSTA PlayerMaxHealth\n\tSTA KeyUsed\n\tSTA Mushroom1upPulled\n\tSTA Mushroom1Pulled\n\tSTA Mushroom2Pulled\n\tSTA SubspaceVisits\n\tSTA EnemiesKilledForHeart\n\tDEY\n\tBEQ DoGameOverStuff\n\n\tJMP loc_BANKF_E75A\n\n; ---------------------------------------------------------------------------\n\nDoGameOverStuff:\n\tSTY PlayerCurrentSize\n\tLDA #Music2_GameOver\n\tSTA MusicQueue2\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR ChangeTitleCardCHR\n\n\tJSR ClearNametablesAndSprites\n\n\tJSR SetBlackAndWhitePalette\n\n\tJSR SetScrollXYTo0\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDA #ScreenUpdateBuffer_Text_Game_Over\n\tSTA ScreenUpdateIndex\n\tLDA #$C0\n\tSTA byte_RAM_6\n\nloc_BANKF_E6E6:\n\tJSR WaitForNMI\n\n\tDEC byte_RAM_6\n\tBNE loc_BANKF_E6E6\n\n\tLDY #$28\n\nloc_BANKF_E6EF:\n\tLDA Text_Continue, Y\n\tSTA PPUBuffer_67B, Y\n\tDEY\n\tBPL loc_BANKF_E6EF\n\n\tLDA #$FB\n\tSTA byte_RAM_68F\n\tLDA Continues\n\tCLC\n\tADC #$D0\n\tSTA byte_RAM_67E\n\tLDA #$00\n\tSTA byte_RAM_8\n\tLDA #ScreenUpdateBuffer_RAM_67B\n\tDEC Continues\n\tBPL loc_BANKF_E717\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\tLDA #ScreenUpdateBuffer_Text_Retry\n\nloc_BANKF_E717:\n\tSTA ScreenUpdateIndex\n\nloc_BANKF_E719:\n\tJSR WaitForNMI\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Select\n\tBEQ loc_BANKF_E747\n\n\tLDA byte_RAM_8\n\tEOR #$01\n\tSTA byte_RAM_8\n\tLDY Continues\n\tCPY #$FF\n\tBNE loc_BANKF_E733\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\nloc_BANKF_E733:\n\tASL A\n\tASL A\n\tTAY\n\tLDA #$FB\n\tSTA byte_RAM_71AB\n\tSTA byte_RAM_71AF\n\tLDA #$F6\n\tSTA byte_RAM_71AB, Y\n\tLDA #ScreenUpdateBuffer_RAM_71a8\n\tSTA ScreenUpdateIndex\n\nloc_BANKF_E747:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBEQ loc_BANKF_E719\n\n\tLDA byte_RAM_8\n\tBNE GameOver_Retry\n\n\tSTA SlotMachineCoins\n\tJMP ContinueGame\n\n; ---------------------------------------------------------------------------\n\nGameOver_Retry:\n\tJMP StartGame\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E75A:\n\tDEY\n\tBEQ EndOfLevel\n\n\tLDY CurrentWorld\n\tSTY PreviousWorld\n\tLDA WarpDestinations, Y\n\tSTA CurrentWorld\n\tTAY\n\tLDX CurrentCharacter\n\tLDA WorldStartingLevel, Y\n\tSTA CurrentLevel\n\tSTA CurrentLevel_Init\n\tINY\n\tTYA\n\tORA #$D0\n\tSTA byte_RAM_71A6\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR SetScrollXYTo0\n\n\tJSR ClearNametablesAndSprites\n\n\tJSR SetBlackAndWhitePalette\n\n\tJSR EnableNMI\n\n\tJSR ChangeTitleCardCHR\n\n\tLDA #ScreenUpdateBuffer_RAM_7194\n\tSTA ScreenUpdateIndex\n\tLDA #Music2_SlotWarpFanfare\n\tSTA MusicQueue2\n\tJSR Delay160Frames\n\n\tJSR InitializeSomeLevelStuff\n\n\tJMP CharacterSelectMenu\n\n; ---------------------------------------------------------------------------\n\nEndOfLevel:\n\t; Stop the music\n\tLDA #Music2_StopMusic ; Stop music\n\tSTA MusicQueue2\n\n\t; Increase current characters \"contribution\" counter\n\tLDX CurrentCharacter\n\tINC CharacterLevelsCompleted, X\n\n\t; Check if we've completed the final level\n\tLDA CurrentLevel\n\tCMP #$13\nIFNDEF DISABLE_BONUS_CHANCE\n\t; If not, go to bonus chance and proceed to the next level\nEndOfLevelJump:\n\tBNE EndOfLevelSlotMachine\nENDIF\nIFDEF DISABLE_BONUS_CHANCE\n\tSTY PlayerCurrentSize\nEndOfLevelJump:\n\tBNE GoToNextLevel\nENDIF\n\t; Otherwise, display the ending\n\tJMP EndingSceneRoutine\n\nEndOfLevelSlotMachine:\n\tSTY PlayerCurrentSize\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR ClearNametablesAndSprites\n\nIFDEF REV_A\n\tJSR EnableNMI\n\tJSR WaitForNMI\nENDIF\n\n\tJSR LoadBonusChanceCHRBanks\n\nIFNDEF BONUS_CHANCE_RAM_CLEANUP\n\tJSR CopyUnusedCoinSpriteToSpriteArea\nENDIF\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyBonusChanceLayoutToRAM\n\n\tLDA #ScreenUpdateBuffer_RAM_BonusChanceLayout\n\tSTA ScreenUpdateIndex\n\tLDA #Stack100_Menu\n\tSTA StackArea\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDA #Stack100_Gameplay\n\tSTA StackArea\n\tJSR DisableNMI\n\n\tJSR sub_BANKF_EA33\n\n\tLDA #Music2_SlotWarpFanfare\n\tSTA MusicQueue2\n\tLDA SlotMachineCoins\n\tBNE loc_BANKF_E7F2\n\n\tJMP NoCoinsForSlotMachine\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E7F2:\n\tLDA #$03\n\tSTA ObjectXLo + 3\n\tSTA ObjectXLo + 4\n\tSTA ObjectXLo + 5\n\tJSR WaitForNMI_TurnOnPPU\n\nloc_BANKF_E7FD:\n\tLDA SlotMachineCoins\n\tBNE StartSlotMachine\n\nGoToNextLevel:\n\tLDY CurrentWorld\n\tLDA WorldStartingLevel + 1, Y\n\tSEC\n\tSBC #$01\n\tCMP CurrentLevel\n\tBNE loc_BANKF_E81E\n\n\tJSR SetStack100Gameplay\n\n\tLDA #$FF\n\tSTA CurrentMusicIndex\n\tINC CurrentWorld\n\tJMP StartCharacterSelectMenu\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_E81E:\n\tJSR sub_BANKF_F6A1\n\n\tLDA CurrentLevel\n\tLDY #$00\n\nloc_BANKF_E826:\n\tINY\n\tCMP WorldStartingLevel, Y\n\tBCS loc_BANKF_E826\n\n\tDEY\n\tSTY CurrentWorld ; I am sure this is important somehow, but... why\n\tLDY CurrentWorld\n\tLDA CurrentLevel\n\tSEC\n\tSBC WorldStartingLevel, Y\n\tSTA CurrentLevelRelative\n\tLDA CurrentLevel\n\tSTA CurrentLevel_Init\n\tLDA CurrentLevelArea\n\tSTA CurrentLevelArea_Init\n\tLDA CurrentLevelEntryPage\n\tSTA CurrentLevelEntryPage_Init\n\tLDY #$00\n\tSTY PlayerState_Init\n\tSTY TransitionType\n\tSTY TransitionType_Init\n\tDEY\n\tSTY CurrentMusicIndex\n\tJSR SetStack100Gameplay\n\n\tJMP CharacterSelectMenu\n\n; ---------------------------------------------------------------------------\n\nStartSlotMachine:\n\tDEC SlotMachineCoins\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_EA68\n\n\tLDA #$01 ; Set all reel timers\n\tSTA ObjectXLo\n\tSTA ObjectXLo + 1\n\tSTA ObjectXLo + 2\n\tLSR A ; Set all reels to the first position\n\tSTA ObjectXLo + 6\n\tSTA ObjectXLo + 7\n\tSTA ObjectXLo + 8\n\nDoSlotMachineSpinnyShit:\n\tJSR WaitForNMI ; $2C-$2E: Reel change timer\n\t; $2F-$31: Current reel icon\n\n\tLDA #SoundEffect2_Climbing ; Play \"reel sound\" sound effect\n\tSTA SoundEffectQueue2\n\tJSR sub_BANKF_EAC2\n\n\tJSR sub_BANKF_EADC\n\n\tJSR sub_BANKF_EAF6\n\n\tJSR sub_BANKF_E916\n\n\tLDA byte_BANKF_E9DF, Y\n\tSTA ScreenUpdateIndex\n\tINC byte_RAM_6\n\tLDA ObjectXLo ; Reel 1 still active?\n\tORA ObjectXLo + 1 ; Reel 2 still active?\n\tORA ObjectXLo + 2 ; Reel 3 still active?\n\tBNE DoSlotMachineSpinnyShit ; If any are still active, go back to waiting\n\n\tLDA #ScreenUpdateBuffer_RAM_6df\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDY #$00\n\tLDX ObjectXLo + 6 ; Load reel 1\n\tLDA SlotMachineReelOrder1RAM, X\n\tBNE CheckReel2Symbol ; Is this reel a cherry?\n\n\tINY ; Yes; add one life\n\nCheckReel2Symbol:\n\tLDX ObjectXLo + 7 ; Load reel 2\n\tCMP SlotMachineReelOrder2RAM, X\n\tBNE AddSlotMachineExtraLives ; Does this match the previous symbol?\n\n\tCMP #$00 ; Yes; are they both cherries?\n\tBNE CheckReel3Symbol ; If no, skip to third reel\n\n\tINY ; They are both cherries, add another life or something\n\nCheckReel3Symbol:\n\tLDX ObjectXLo + 8 ; Load reel 3\n\tCMP SlotMachineReelOrder3RAM, X ; Does reel 3 match the previous two?\n\tBNE AddSlotMachineExtraLives ; No, fuck you\n\n\tINY ; They all match! Yay! Add a life.\n; Cherry count: 3 / Non-cherry: 1\n\tCMP #$00 ; Were they all cherries?\n\tBNE AddSlotMachineExtraLives ; Nope, all done\n\n\tINY ; Yes, add 2 more extra lives\n\tINY\n\nAddSlotMachineExtraLives:\n\tTYA ; Y contains extra lives to add\n\tCLC\n\tADC ExtraLives ; Add won extra lives to current lives\n\tBCC loc_BANKF_E8D3 ; Check if adding extra lives has wrapped the counter\n\n\tLDA #$FF ; If so, set extra lives to 255 (#$FF)\n\nloc_BANKF_E8D3:\n\tSTA ExtraLives\n\tTYA ; Did we actually win any lives?\n\tBEQ SlotMachineLoseFanfare ; No, play lose sound effect\n\n\tORA #$D0\n\tSTA byte_RAM_6C8\n\tLDA #Music2_CrystalGetFanfare ; Play winner jingle\n\tSTA MusicQueue2\n\tLDA #$A0\n\tSTA byte_RAM_6\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_EA68\n\nloc_BANKF_E8ED:\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_E916\n\n\tLDA byte_BANKF_E9E3, Y\n\tSTA ScreenUpdateIndex\n\tDEC byte_RAM_6\n\tBNE loc_BANKF_E8ED\n\n\tBEQ loc_BANKF_E90C\n\nSlotMachineLoseFanfare:\n\tLDA #Music2_DeathJingle\n\tSTA MusicQueue2\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_EA68\n\n\tJSR Delay160Frames\n\nloc_BANKF_E90C:\n\tLDA #ScreenUpdateBuffer_RAM_6e4\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tJMP loc_BANKF_E7FD\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_E916:\n\tLDA byte_RAM_6\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tAND #$01\n\tTAY\n\tRTS\n\n; End of function sub_BANKF_E916\n\n; ---------------------------------------------------------------------------\n\nNoCoinsForSlotMachine:\n\tJSR Delay80Frames\n\n\tLDA #Music2_DeathJingle\n\tSTA MusicQueue2\n\nIFDEF EXPAND_MUSIC\n\tLDA #$08\nENDIF\n\tSTA byte_RAM_6\nloc_BANKF_E92A:\n\tLDA byte_RAM_6\n\tAND #$01\n\tTAY\n\tLDA byte_BANKF_E9E1, Y\n\tSTA ScreenUpdateIndex\n\n\tLDA #$0A\n\tSTA byte_RAM_7\nloc_BANKF_E938:\n\tJSR WaitForNMI_TurnOnPPU\n\tDEC byte_RAM_7\n\tBNE loc_BANKF_E938\n\n\tDEC byte_RAM_6\n\tBPL loc_BANKF_E92A\n\n\tJMP GoToNextLevel\n\n\nDelay80Frames:\n\tLDA #$50\n\tBNE DelayFrames\n\nDelay160Frames:\n\tLDA #$A0\n\nDelayFrames:\n\tSTA byte_RAM_7\nDelayFrames_Loop:\n\tJSR WaitForNMI_TurnOnPPU\n\tDEC byte_RAM_7\n\tBNE DelayFrames_Loop\n\n\tRTS\n\n\n;\n; Do the ending!\n;\nEndingSceneRoutine:\n\tJSR SetScrollXYTo0\n\n\tLDA #$80\n\t; FDS leftover; $4080 is an old sound register\n\t; The prototype had two writes to this address!\n\t; It looks like they missed this one, though.\n\tSTA FDS_WAVETABLE_VOL\n\tASL A\n\tSTA SoundEffectPlaying1\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR FreeSubconsScene\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\n\tJSR LoadCelebrationSceneBackgroundCHR\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tINC GameMilestoneCounter\n\n\tJSR ContributorScene\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\nSetupMarioSleepingScene:\n\tJSR LoadMarioSleepingCHRBanks\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_C_D\n\tJSR ChangeMappedPRGBank\n\n\tINC GameMilestoneCounter\n\tJMP MarioSleepingScene\n\n; =============== S U B R O U T I N E =======================================\n\nDisableNMI:\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIDisabled\n\tSTA PPUCTRL\n\tSTA PPUCtrlMirror\n\tRTS\n\n; End of function DisableNMI\n\n; ---------------------------------------------------------------------------\nPPUBuffer_Text_Game_Over:\n\t.db $21, $CB, $0A, $E0, $DA, $E6, $DE, $FB, $FB, $E8, $EF, $DE\n\t.db $EB, $00 ; $C ; \"GAME OVER\"\nText_Continue:\n\t.db $21, $75, $01, $00 ; (Placeholder for continue count)\n; This is loaded manually and drawn so the count\n; can be patched in\n; * CONTINUE\n\t.db $21, $6A, $0A, $F6, $FB, $DC, $E8, $E7, $ED, $E2, $E7, $EE\n\t.db $DE ; $C\nPPUBuffer_Text_Retry:\n\t.db $21, $AA, $07, $F6, $FB, $EB, $DE, $ED, $EB, $F2 ; * RETRY\n\t.db $21, $CB, $0A, $FB, $FB, $FB, $FB, $FB, $FB, $FB, $FB, $FB ; Blank, erases \"GAME OVER\"\n\t.db $FB, $00 ; $C\n\t.db $09\n\t.db $0F\nbyte_BANKF_E9DF:\n\t.db ScreenUpdateBuffer_RAM_6ab\n\t.db ScreenUpdateBuffer_RAM_6df\nbyte_BANKF_E9E1:\n\t.db ScreenUpdateBuffer_RAM_693\n\t.db ScreenUpdateBuffer_RAM_6da\nbyte_BANKF_E9E3:\n\t.db ScreenUpdateBuffer_RAM_6bd\n\t.db ScreenUpdateBuffer_RAM_6da\n\n; =============== S U B R O U T I N E =======================================\n\n;\n; Displays extra life info on the pause screen\n;\nPauseScreen_ExtraLife:\n\tLDA #ScreenUpdateBuffer_PauseExtraLife\n\tSTA CardScreenUpdateIndex\n\tLDA #$26\n\tSTA byte_RAM_7180\n\tLDA #$C8\n\tSTA byte_RAM_7181\n\n;\n; Loads the palette and graphics for the pause screen to display\n;\nPauseScreen_Card:\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR ChangeTitleCardCHR\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR StashScreenScrollPosition\n\n\t; Load title card palette\n\tLDY #$23\nPauseScreen_Card_Loop:\n\tLDA TitleCardPalettes, Y\n\tSTA PPUBuffer_55F, Y\n\tDEY\n\tBPL PauseScreen_Card_Loop\n\nPauseScreen_Card_ScreenReset:\n\tJSR ResetScreenForTitleCard\n\n\tJSR EnableNMI_PauseTitleCard\n\n\tLDX CurrentWorld\n\tLDY CurrentLevel\n\tJSR DisplayLevelTitleCardText\n\n\tLDA #$FF\n\tSTA PPUScrollXMirror\n\tJSR WaitForNMI\n\n\tLDA CardScreenUpdateIndex\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\nEnableNMI:\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCtrlMirror\n\tSTA PPUCTRL\n\tRTS\n\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_EA33:\n\tJSR SetScrollXYTo0\n\n\tLDA PPUSTATUS\n\tLDY #$00\n\tLDA #$3F\n\tSTA PPUADDR\n\tSTY PPUADDR\n\nloc_BANKF_EA43:\n\tLDA unk_RAM_59C, Y\n\tSTA PPUDATA\n\tINY\n\tCPY #$10\n\tBCC loc_BANKF_EA43\n\n\tLDY #$00\n\tLDA PPUSTATUS\n\tLDA #$3F\n\tSTA PPUADDR\n\tLDA #$10\n\tSTA PPUADDR\n\nSetBonusChancePalette:\n\tLDA BonusChanceSpritePalettes, Y\n\tSTA PPUDATA\n\tINY\n\tCPY #$10\n\tBCC SetBonusChancePalette\n\n; End of function sub_BANKF_EA33\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_EA68:\n\tLDY ExtraLives\n\tDEY\n\tTYA\n\tJSR GetTwoDigitNumberTiles\n\n\tSTY byte_RAM_599\n\tSTA byte_RAM_59A\n\tLDA SlotMachineCoins\n\tCLC\n\tADC #$D0\n\tSTA byte_RAM_588\n\tLDA #ScreenUpdateBuffer_RAM_583\n\tSTA ScreenUpdateIndex\n\tLDA #Stack100_Menu\n\tSTA StackArea\n\tJSR EnableNMI\n\n\tJMP WaitForNMI\n\n; End of function sub_BANKF_EA68\n\n; =============== S U B R O U T I N E =======================================\n\n;\n; Converts a number to numerical tiles with space for 2 digits\n;\n; Input\n;   A = number to display\n; Output\n;   A = second digit of the number (ones)\n;   Y = first digit of the number (tens)\n;\nGetTwoDigitNumberTiles:\n\tLDY #$D0 ; zero\n\nGetTwoDigitNumberTiles_TensLoop:\n\t; Count up the tens digit until A < 10\n\tCMP #$0A\n\tBCC GetTwoDigitNumberTiles_Ones\n\n\tSBC #$0A\n\tINY\n\tJMP GetTwoDigitNumberTiles_TensLoop\n\nGetTwoDigitNumberTiles_Ones:\n\tORA #$D0\n\tCPY #$D0\n\tBNE GetTwoDigitNumberTiles_Exit\n\n\tLDY #$FB\n\nGetTwoDigitNumberTiles_Exit:\n\tRTS\n\n\nWaitForNMI_TurnOffPPU:\n\tLDA #$00\n\tBEQ _WaitForNMI_StuffPPUMask ; Branch always\n\nWaitForNMI_TurnOnPPU:\n\tLDA #PPUMask_ShowLeft8Pixels_BG | PPUMask_ShowLeft8Pixels_SPR | PPUMask_ShowBackground | PPUMask_ShowSprites\n\n_WaitForNMI_StuffPPUMask:\n\tSTA PPUMaskMirror\n\nWaitForNMI:\n\tLDA ScreenUpdateIndex\n\tASL A\n\tTAX\n\tLDA ScreenUpdateBufferPointers, X\n\tSTA RAM_PPUDataBufferPointer\n\tLDA ScreenUpdateBufferPointers + 1, X\n\tSTA RAM_PPUDataBufferPointer + 1\n\tLDA #$00\n\tSTA NMIWaitFlag ; Start waiting for NMI to finish\n\nWaitForNMILoop:\n\tLDA NMIWaitFlag ; Has the NMI routine set the flag yet?\n\tBPL WaitForNMILoop ; If no, wait some more\n\n\tRTS ; If yes, go back to what we were doing\n\n; End of function WaitForNMI\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_EAC2:\n\tLDA Player1JoypadPress\n\tBPL locret_BANKF_EAD1\n\n\tLDX #$00\n\nloc_BANKF_EAC8:\n\tLDA ObjectXLo, X\n\tBNE loc_BANKF_EAD2\n\n\tINX\n\tCPX #$03\n\tBCC loc_BANKF_EAC8\n\nlocret_BANKF_EAD1:\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_EAD2:\n\tLDA #$00\n\tSTA ObjectXLo, X\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\tRTS\n\n; End of function sub_BANKF_EAC2\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_EADC:\n\tLDX #$02\n\nloc_BANKF_EADE:\n\tLDA ObjectXLo, X\n\tBEQ loc_BANKF_EAF2\n\n\tDEC ObjectXLo + 3, X\n\tBNE loc_BANKF_EAF2\n\n\tLDA #$04\n\tSTA ObjectXLo + 3, X\n\tDEC ObjectXLo + 6, X\n\tBPL loc_BANKF_EAF2\n\n\tLDA #$07\n\tSTA ObjectXLo + 6, X\n\nloc_BANKF_EAF2:\n\tDEX\n\tBPL loc_BANKF_EADE\n\n\tRTS\n\n; End of function sub_BANKF_EADC\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_EAF6:\n\tLDA #$02\n\tSTA byte_RAM_0\n\nloc_BANKF_EAFA:\n\tLDA byte_RAM_0\n\tTAY\n\tASL A\n\tASL A\n\tASL A\n\tTAX\n\tADC ObjectXLo + 6, Y\n\tTAY\n\tLDA SlotMachineReelOrder1RAM, Y\n\tTAY\n\tLDA #$07\n\tSTA byte_RAM_1\n\nloc_BANKF_EB0D:\n\tLDA BonusChanceCherrySprite, Y\n\tSTA SpriteDMAArea + $10, X\n\tINX\n\tINY\n\tDEC byte_RAM_1\n\tBPL loc_BANKF_EB0D\n\n\tDEC byte_RAM_0\n\tBPL loc_BANKF_EAFA\n\n\tLDX #$17\n\nloc_BANKF_EB1F:\n\tTXA\n\tAND #$18\n\tASL A\n\tASL A\n\tADC SpriteDMAArea + $10, X\n\tSTA SpriteDMAArea + $10, X\n\tDEX\n\tDEX\n\tDEX\n\tDEX\n\tBPL loc_BANKF_EB1F\n\n\tRTS\n\n; End of function sub_BANKF_EAF6\n\nIFNDEF BONUS_CHANCE_RAM_CLEANUP\n;\n; Copies the unused coin sprite from memory into the sprite DMA area at $200\n;\nCopyUnusedCoinSpriteToSpriteArea:\n\tLDY #$00\n\nCopyUnusedCoinSpriteToSpriteArea_Loop:\n\tLDA unk_RAM_653, Y ; Copy two sprites from memory to memory.\n\tSTA SpriteDMAArea + $28, Y ; This is definitely efficient.\n\tINY ; Two sprites for each half of the coin.\n\tCPY #$08 ; Four bytes per sprite * 2 sprites = 8 bytes\n\tBCC CopyUnusedCoinSpriteToSpriteArea_Loop\n\n\tRTS\nENDIF\n\nloc_BANKF_EB3F:\n\tLDA #$00\n\tSTA OAMADDR\n\tLDA #$02\n\tSTA OAM_DMA\n\tJSR ChangeCHRBanks\n\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tJSR DoSoundProcessing\n\n\tLDA PPUCtrlMirror\n\tSTA PPUCTRL\n\tDEC NMIWaitFlag\n\tJMP loc_BANKF_EC61\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_EB5E:\n\tLDA #$00\n\tSTA PPUMASK\n\tSTA OAMADDR\n\tLDA #$02\n\tSTA OAM_DMA\n\tJSR ChangeCHRBanks\n\n\tJSR UpdatePPUFromBufferWithOptions\n\n\tJSR sub_BANKF_EC68\n\n\tLDA PPUScrollXMirror\n\tSTA PPUSCROLL\n\tLDA #$00\n\tSTA PPUSCROLL\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tJMP loc_BANKF_EC4B\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_EB86:\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tJMP loc_BANKF_EC5E\n\n\n; public NMI\nNMI:\n\tPHP\n\tPHA\n\tTXA\n\tPHA\n\tTYA\n\tPHA\n\tBIT StackArea\n\tBPL loc_BANKF_EB5E ; branch if bit 7 was 0\n\n\tBVC loc_BANKF_EB3F ; branch if bit 6 was 0\n\n\tLDA #$00\n\tSTA PPUMASK\n\tSTA OAMADDR\n\tLDA #$02\n\tSTA OAM_DMA\n\tJSR ChangeCHRBanks\n\n\tLDA NMIWaitFlag\n\tBNE loc_BANKF_EB86\n\n\tLDA IsHorizontalLevel\n\tBEQ loc_BANKF_EC1F\n\n\tLDA byte_RAM_51C\n\tBEQ loc_BANKF_EBE8\n\n\tLDA #$00\n\tSTA byte_RAM_51C\n\tLDX #$1E\n\tLDY #$00\n\tLDA PPUSTATUS\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteVertical | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCTRL\n\nloc_BANKF_EBC9:\n\tLDA_abs byte_RAM_D1\n\tSTA PPUADDR\n\tLDA_abs byte_RAM_D2\n\tSTA PPUADDR\n\nloc_BANKF_EBD5:\n\tLDA unk_RAM_380, Y\n\tSTA PPUDATA\n\tINY\n\tDEX\n\tBNE loc_BANKF_EBD5\n\n\tLDX #$1E\n\tINC_abs byte_RAM_D2\n\n\tCPY #$3C\n\tBNE loc_BANKF_EBC9\n\nloc_BANKF_EBE8:\n\tLDA byte_RAM_3BC\n\tBEQ loc_BANKF_EC1F\n\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteVertical | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCTRL\n\tLDY #$00\n\tLDX #$04\n\nloc_BANKF_EBF6:\n\tLDA PPUSTATUS\n\tLDA byte_RAM_3BC\n\tSTA PPUADDR\n\tLDA byte_RAM_3BD\n\tSTA PPUADDR\n\nloc_BANKF_EC05:\n\tLDA unk_RAM_3BE, Y\n\tSTA PPUDATA\n\tINY\n\tTYA\n\tLSR A\n\tBCS loc_BANKF_EC05\n\n\tLDA byte_RAM_3BD\n\tCLC\n\tADC #$08\n\tSTA byte_RAM_3BD\n\tDEX\n\tBNE loc_BANKF_EBF6\n\n\tSTX byte_RAM_3BC\n\nloc_BANKF_EC1F:\n\tJSR UpdatePPUFromBufferNMI\n\n\tJSR sub_BANKF_EC68\n\n\tLDA #$B0\n\tORA byte_RAM_C9\n\tLDY IsHorizontalLevel\n\tBNE loc_BANKF_EC31\n\n\tAND #$FE\n\tORA byte_RAM_C8\n\nloc_BANKF_EC31:\n\tSTA PPUCTRL\n\tSTA PPUCtrlMirror\n\tLDA PPUScrollXMirror\n\tSTA PPUSCROLL\n\tLDA PPUScrollYMirror\n\tCLC\n\tADC BackgroundYOffset\n\tSTA PPUSCROLL\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tINC byte_RAM_10\n\nloc_BANKF_EC4B:\n\tLDA ScreenUpdateIndex\n\tBNE loc_BANKF_EC55\n\n\tSTA byte_RAM_300\n\tSTA PPUBuffer_301\n\nloc_BANKF_EC55:\n\tLDA #ScreenUpdateBuffer_RAM_301\n\tSTA ScreenUpdateIndex\n\tJSR UpdateJoypads\n\n\tDEC NMIWaitFlag\n\nloc_BANKF_EC5E:\n\tJSR DoSoundProcessing\n\nIFDEF DEBUG\nDebugHook:\n; Hook into debug routine if select is pressed\n\tLDA Player1JoypadPress\n\tCMP #ControllerInput_Select\n\tBNE loc_BANKF_EC61\n\tLDA #>Debug_Init\n\tPHA\n\tLDA #<Debug_Init\n\tPHA\n\tPHP\n\tRTI\nENDIF\n\nloc_BANKF_EC61:\n\tPLA\n\tTAY\n\tPLA\n\tTAX\n\tPLA\n\tPLP\n\tRTI\n\n; End of function NMI\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_EC68:\n\tLDA PPUSTATUS\n\tLDA #$3F\n\tSTA PPUADDR\n\tLDA #$00\n\tSTA PPUADDR\n\tSTA PPUADDR\n\tSTA PPUADDR\n\tRTS\n\n; End of function sub_BANKF_EC68\n\n\nDoSoundProcessing:\n\tLDA #PRGBank_4_5\n\tJSR ChangeMappedPRGBankWithoutSaving\n\n\tJSR StartProcessingSoundQueue\n\n\tLDA MMC3PRGBankTemp\n\tJMP ChangeMappedPRGBank\n\n\nClearNametablesAndSprites:\n\tLDA #$00\n\tSTA PPUMaskMirror\n\tSTA PPUMASK\n\tLDA #$20\n\tJSR ClearNametableChunk\n\n\tLDA #$24\n\tJSR ClearNametableChunk\n\n\tLDA #$28\n\tJSR ClearNametableChunk\n\n\nHideAllSprites:\n\tLDY #$00\n\tLDA #$F8\n\nHideAllSpritesLoop:\n\tSTA SpriteDMAArea, Y\n\tDEY\n\tDEY\n\tDEY\n\tDEY\n\tBNE HideAllSpritesLoop\n\n\tRTS\n\n\nClearNametableChunk:\n\tLDY PPUSTATUS ; Reset PPU address latch\n\tLDY #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIDisabled\n\tSTY PPUCTRL ; Turn off NMI\n\tSTY PPUCtrlMirror\n\tLDY #$00\n\t; A contains the high byte of the PPU address (generally $20, $24, $28)\n\tSTA PPUADDR\n\tSTY PPUADDR ; And Y has the low byte ($00)\n\tLDX #$03 ; Do $300 bytes for this loop.\n\tLDA #$FB\n\nClearNametableChunk_Loop:\n\tSTA PPUDATA ; Store the blank tile $300 times\n\tINY\n\tBNE ClearNametableChunk_Loop ; (Loop falls through every $100 bytes)\n\n\tDEX\n\tBNE ClearNametableChunk_Loop ; Loop falls through after $300 bytes\n\nClearNametableChunk_Loop2:\n\t; Do another loop of $C0 bytes to clear the\n\t; rest of the nametable chunk\n\tSTA PPUDATA\n\tINY\n\tCPY #$C0\n\tBNE ClearNametableChunk_Loop2\n\n\tLDA #$00 ; Load A with $00 for clearing the attribute tables\n\nClearNametableChunk_AttributeTableLoop:\n\tSTA PPUDATA ; Clear attribute table...\n\tINY ; Y was $C0 on entry, so write $40 bytes...\n\tBNE ClearNametableChunk_AttributeTableLoop\n\nPPUBufferUpdatesComplete:\n\tRTS ; Woo fucking hoo\n\n\n;\n; Used to update the PPU nametable / palette data during NMI.\n;\n; This function can only handle $100 bytes of data\n; (actually less).\n;\n; Unlike UpdatePPUFromBuffer, this one does not support\n; $80 or $40 as options, instead treating them as direct length.\n; It also does not increment the buffer pointer, only using Y\n; to read further data.\n;\n; If Y overflows, it will resume copying again from the beginning,\n; and can get into an infinite loop if it doesn't encounter\n; a terminating $00. Welp!\n;\nUpdatePPUFromBufferNMI:\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCTRL\n\tLDY #$00\n\nUpdatePPUFromBufferNMI_CheckForBuffer:\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tBEQ PPUBufferUpdatesComplete\n\n\tLDX PPUSTATUS\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tTAX\n\nUpdatePPUFromBufferNMI_CopyLoop:\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tSTA PPUDATA\n\tDEX\n\tBNE UpdatePPUFromBufferNMI_CopyLoop\n\n\tINY\n\tJMP UpdatePPUFromBufferNMI_CheckForBuffer\n\n\n;\n; This reads from $F0/$F1 to determine where a \"buffer\" is.\n; Basically, a buffer is like this:\n;\n; PPUADDR  LEN DATA ......\n; $20 $04  $03 $E9 $F0 $FB\n; $25 $5F  $4F $FB\n; $21 $82  $84 $00 $01 $02 $03\n; $00\n;\n; PPUADDR is two bytes (hi,lo) for the address to send to PPUADDR.\n; LEN is the length, with the following two bitmasks:\n; - $80: Set the \"draw vertically\" option\n;  - $40: Use ONE tile instead of a string\n; DATA is either (LEN) bytes or one byte.\n;\n; After (LEN) bytes have been written, the buffer pointer\n; is incremented to (LEN+2) and the function restarts.\n; A byte of $00 terminates execution and returns.\n;\n; There is a similar function, UpdatePPUFromBufferNMI,\n; that is called during NMI, but unlike this one,\n; that one does NOT use bitmasks, nor increment the pointer.\n;\nUpdatePPUFromBufferWithOptions:\n\t; First, check if we have anything to send to the PPU\n\tLDY #$00\n\tLDA (RAM_PPUDataBufferPointer), Y\n\t; If the first byte at the buffer address is #$00, we have nothing. We're done here!\n\tBEQ PPUBufferUpdatesComplete\n\n\t; Clear address latch\n\tLDX PPUSTATUS\n\t; Set the PPU address to the\n\t; address from the PPU buffer\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y ; Data segment length byte...\n\tASL A\n\tPHA\n\t; Enable NMI + Vertical increment + whatever else was already set...\n\tLDA PPUCtrlMirror\n\tORA #PPUCtrl_Base2000 | PPUCtrl_WriteVertical | PPUCtrl_Sprite0000 | PPUCtrl_Background0000 | PPUCtrl_SpriteSize8x8 | PPUCtrl_NMIEnabled\n\t; ...but only if $80 was set in the length byte. Otherwise, turn vertical incrementing back off.\n\tBCS UpdatePPUFBWO_EnableVerticalIncrement\n\n\tAND #PPUCtrl_Base2C00 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite1000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled | $40\n\nUpdatePPUFBWO_EnableVerticalIncrement:\n\tSTA PPUCTRL\n\tPLA\n\t; Check if the second bit ($40) in the length has been set\n\tASL A\n\t; If not, we are copying a string of data\n\tBCC UpdatePPUFBWO_CopyStringOfTiles\n\n\t; Length (A) is now (A << 2).\n\t; OR in #$02 now if we are copying a single tile;\n\t; This will be rotated out into register C momentarily\n\tORA #$02\n\tINY\n\nUpdatePPUFBWO_CopyStringOfTiles:\n\t; Restore the data length.\n\t; A = (Length & #$3F)\n\tLSR A\n\n\t; This moves the second bit (used above to signal\n\t; \"one tile mode\") into the Carry register\n\tLSR A\n\tTAX ; Copy the length into register X\n\nUpdatePPUFBWO_CopyLoop:\n\t; If Carry is set (from above), we're only copying one tile.\n\t; Do not increment Y to advance copying index\n\tBCS UpdatePPUFBWO_CopySingleTileSkip\n\n\tINY\n\nUpdatePPUFBWO_CopySingleTileSkip:\n\tLDA (RAM_PPUDataBufferPointer), Y ; Load data from buffer...\n\tSTA PPUDATA ; ...store it to the PPU.\n\tDEX ; Decrease remaining length.\n\tBNE UpdatePPUFBWO_CopyLoop ; Are we done? If no, copy more stuff\n\n\tINY ; Y contains the amount of copied data now\n\tTYA ; ...and now A does\n\tCLC ; Clear carry bit (from earlier)\n\tADC RAM_PPUDataBufferPointer ; Add the length to the PPU data buffer\n\tSTA RAM_PPUDataBufferPointer\n\tLDA RAM_PPUDataBufferPointer + 1\n\t; If the length overflowed (carry set),\n\t; add that to the hi byte of the pointer\n\tADC #$00\n\tSTA RAM_PPUDataBufferPointer + 1\n\t; Start the cycle over again.\n\t; (If the PPU buffer points to a 0, it will terminate after this jump)\n\tJMP UpdatePPUFromBufferWithOptions\n\n\nIFDEF DEBUG\n\t.include \"src/extras/debug-f.asm\"\nENDIF\n\nIF INES_MAPPER == MAPPER_FME7\nRESET_FME7:\n\tLDA #$08 ; PRG bank 0\n\tSTA $8000\n\tLDA #%11000000\n\tSTA $A000\n\n\tLDA #$09 ; PRG bank 1\n\tSTA $8000\n\tLDA #$00 ; ROM bank 0\n\tSTA $A000\n\n\tLDA #$0A ; PRG bank 2\n\tSTA $8000\n\tLDA #$01 ; ROM bank 1\n\tSTA $A000\n\n\tLDA #$0B ; PRG bank 3\n\tSTA $8000\n\tLDA #$0E ; ROM bank E\n\tSTA $A000\n\n\tJMP RESET\n\n\nChangeCHRBanks_FME7:\n\tLDY BackgroundCHR1\n\tLDA #$04\n\tSTA $8000\n\tSTY $A000\n\n\tINY\n\tLDA #$05\n\tSTA $8000\n\tSTY $A000\n\n\tLDY BackgroundCHR2\n\tLDA #$06\n\tSTA $8000\n\tSTY $A000\n\n\tINY\n\tLDA #$07\n\tSTA $8000\n\tSTY $A000\n\n\tLDY #$03\nChangeCHRBanks_FME7_Loop:\n\tTYA\n\tORA #$80\n\tSTA $8000\n\tLDA SpriteCHR1, Y\n\tSTA $A000\n\tDEY\n\tBPL ChangeCHRBanks_FME7_Loop\n\n\tRTS\n\nELSEIF INES_MAPPER == MAPPER_MMC5\nRESET_MMC5:\n\t; Set PRG mode 3 and CHR mode 3\n\tLDA #$03\n\tSTA $5100 ; PRG mode\n\tSTA $5101 ; CHR mode\n\n\t; Enable PRG RAM writing\n\tLDA #$02\n\tSTA $5102 ; PRG RAM Protect 1\n\tLDA #$01\n\tSTA $5103 ; PRG RAM Protect 2\n\n\t; Set nametable mapping\n\tLDA #%01010000\n\tSTA $5105\n\n\tLDA #$00\n\tSTA $5113 ; PRG RAM bank\n\tSTA $5130 ; Upper CHR Bank bits\n\n\tLDA #$0F\n\tSTA $5015\n\n\t; PRG bank 0\n\tLDA #$80 ; ROM bank 0\n\tSTA $5114\n\n\t; PRG bank 1\n\tLDA #$81 ; ROM bank 1\n\tSTA $5115\n\n\t; PRG bank 2\n\tLDA #$8E ; ROM bank E\n\tSTA $5116\n\n\t; PRG bank 3\n\tLDA #$8F ; ROM bank F\n\tSTA $5117\n\n\tJMP RESET\n\n\nChangeCHRBanks_MMC5:\n\tLDA SpriteCHR1\n\tSTA $5120\n\n\tLDA SpriteCHR2\n\tSTA $5121\n\n\tLDA SpriteCHR3\n\tSTA $5122\n\n\tLDA SpriteCHR4\n\tSTA $5123\n\n\tLDA BackgroundCHR1\n\tSTA $5124\n\tADC #$01\n\tSTA $5125\n\n\tLDA BackgroundCHR2\n\tSTA $5126\n\tADC #$01\n\tSTA $5127\n\n\tLDA BackgroundCHR1\n\tSTA $5128\n\tADC #$01\n\tSTA $5129\n\n\tLDA BackgroundCHR2\n\tSTA $512A\n\tADC #$01\n\tSTA $512B\n\n\tRTS\nENDIF\n\n; Unused space in the original ($ED4D - $EFFF)\nunusedSpace $F000, $FF\n\n\n; these seem like they might be pointers, not actual values?\nbyte_BANKF_F000:\n\t.db $00 ; 0x0\n\t.db $08 ; ??\n\t.db $10 ; ??\n\t.db $18 ; ??\n\t.db $20 ; most 16x16 items, clips in 1px\n\t.db $24 ; most 16x16 enemies, clips in 4px\nbyte_BANKF_F006:\n\t.db $28\n\t.db $2A\n\t.db $29\n\t.db $2B\nbyte_BANKF_F00A:\n\t.db $2C\nbyte_BANKF_F00B:\n\t.db $2E\n\t.db $30 ; 16x32 enemies, clips in 4px (birdo, mouser)\n\t.db $34 ; bullet, clips in 8px\n\t.db $38 ; 16x48 enemies, clips in 4px (tryclde)\n\t.db $3C ; spark, clips in 0px\n\t.db $40 ; flying carpet\n\n; collision x bounding box\nbyte_BANKF_F011:\n\t.db $06,$09,$06,$09 ; $00\n\t.db $01,$01,$0E,$0E ; $04\n\t.db $06,$09,$06,$09 ; $08\n\t.db $01,$01,$0E,$0E ; $0C\n\t.db $06,$09,$06,$09 ; $10\n\t.db $01,$01,$0E,$0E ; $14\n\t.db $06,$09,$06,$09 ; $18\n\t.db $01,$01,$0E,$0E ; $1C\n\t.db $08,$08,$00,$0F ; $20\n\t.db $08,$08,$03,$0C ; $24\n\t.db $F8,$18,$F8,$18 ; $28\n\t.db $08,$08,$08,$08 ; $2C\n\t.db $08,$08,$03,$0C ; $30\n\t.db $03,$03,$02,$05 ; $34\n\t.db $08,$08,$03,$0C ; $38\n\t.db $08,$08,$FF,$10 ; $3C\n\t.db $10,$10,$02,$1E ; $40\n\n; collision y bounding box\nbyte_BANKF_F055:\n\t.db $07,$07,$20,$20 ; $00\n\t.db $0D,$1C,$0D,$1C ; $04\n\t.db $FF,$FF,$20,$20 ; $08\n\t.db $04,$1C,$04,$1C ; $0C\n\t.db $0F,$0F,$20,$20 ; $10\n\t.db $1C,$1C,$1C,$1C ; $14\n\t.db $07,$07,$20,$20 ; $18\n\t.db $0D,$1C,$0D,$1C ; $1C\n\t.db $00,$10,$09,$09 ; $20\n\t.db $03,$10,$09,$09 ; $24\n\t.db $FF,$FF,$0F,$0F ; $28\n\t.db $0C,$14,$07,$20 ; $2C\n\t.db $FE,$20,$10,$10 ; $30\n\t.db $09,$0A,$08,$08 ; $34\n\t.db $03,$30,$18,$18 ; $38\n\t.db $FF,$10,$08,$08 ; $3C\n\t.db $09,$0A,$08,$08 ; $40\n\n; object collision bounding box\nbyte_BANKF_F099:\n\t.db $02,$02,$03,$00 ; $00\n\t.db $03,$03,$F8,$00 ; $04\n\t.db $03,$01,$F3,$04 ; $08\n\t.db $03,$03,$03,$F2 ; $0C\n\t.db $03,$03,$05,$03 ; $10\n\t.db $0B,$10,$03,$00 ; $14, shy guy y?\n\t.db $03,$03,$F8,$00 ; $18\n\t.db $09,$04,$03,$03 ; $1C\n\t.db $0E,$03,$03,$03 ; $20\n\t.db $F6,$0C,$02,$03 ; $24\n\t.db $0B,$0B,$09,$10 ; $28, shy guy x?\n\t.db $09,$19,$20,$20 ; $2C\n\t.db $03,$1E,$19,$08 ; $30\n\t.db $09,$09,$09,$18 ; $34\n\t.db $09,$1A,$06,$15 ; $38\n\t.db $16,$11,$0D,$10 ; $3C\n\t.db $1A,$19,$24,$10 ; $40\n\t.db $03,$04,$2D,$30 ; $44\n\t.db $0F,$2E,$3E,$1E ; $48\n\t.db $28,$13,$48,$26 ; $4C\n\n\nNextSpriteFlickerSlot:\n\tDEC SpriteFlickerSlot\n\tBPL NextSpriteFlickerSlot_Exit\n\n\tLDA #$08\n\tSTA SpriteFlickerSlot\n\nNextSpriteFlickerSlot_Exit:\n\tRTS\n\n\nLevelMusicIndexes:\n\t.db Music1_Overworld\n\t.db Music1_Inside ; 1 ; Music1 indexes.\n\t.db Music1_Boss ; 2\n\t.db Music1_Wart ; 3\n\t.db Music1_Subspace ; 4\n\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F0F9:\n\tJSR NextSpriteFlickerSlot\n\n\tLDA PlayerInRocket\n\tBNE loc_BANKF_F11B\n\n\t; boss clear fanfare locks player movement\n\tLDA MusicPlaying2\n\tCMP #Music2_BossClearFanfare\n\tBEQ loc_BANKF_F115\n\n\tLDA PlayerLock\n\tBNE loc_BANKF_F115\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR HandlePlayerState\n\nloc_BANKF_F115:\n\tJSR sub_BANKF_F228\n\n\tJSR RenderPlayer\n\nloc_BANKF_F11B:\n\tJMP loc_BANKF_F146\n\n; End of function sub_BANKF_F0F9\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F11E:\n\tJSR NextSpriteFlickerSlot\n\n\tLDA PlayerInRocket\n\tBNE loc_BANKF_F146\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\t; boss clear fanfare locks player movement\n\tLDA MusicPlaying2\n\tCMP #Music2_BossClearFanfare\n\tBEQ loc_BANKF_F13A\n\n\tLDA PlayerLock\n\tBNE loc_BANKF_F13A\n\n\tJSR HandlePlayerState\n\nloc_BANKF_F13A:\n\t; horizonal scrolling?\n\tJSR sub_BANKF_F2C2\n\n\t; horizonal scrolling?\n\tJSR sub_BANK0_85EC\n\n\t; screen boundary triggers\n\tJSR sub_BANKF_F228\n\n\tJSR RenderPlayer\n\nloc_BANKF_F146:\n\tLDA #PRGBank_2_3\n\tJSR ChangeMappedPRGBank\n\n\tJSR AreaMainRoutine\n\n\tJSR AreaSecondaryRoutine\n\nIFDEF CONTROLLER_2_DEBUG\n\tJSR AreaDebugRoutine\nENDIF\n\n\tJSR AnimateCHRRoutine\n\n\tJSR SetAreaStartPage\n\n\tLDX #$03\n\nloc_BANKF_F159:\n\tLDA PlayerStateTimer, X\n\tBEQ loc_BANKF_F15F\n\n\tDEC PlayerStateTimer, X\n\nloc_BANKF_F15F:\n\tDEX\n\tBPL loc_BANKF_F159\n\n\tLDY StarInvincibilityTimer\n\tBEQ locret_BANKF_F17D\n\n\tLDA byte_RAM_10\n\tAND #$07\n\tBNE locret_BANKF_F17D\n\n\tDEC StarInvincibilityTimer\n\tCPY #$08\n\tBNE locret_BANKF_F17D\n\n\tLDY CurrentMusicIndex\n\tLDA LevelMusicIndexes, Y\n\tSTA MusicQueue1\n\nlocret_BANKF_F17D:\n\tRTS\n\n; End of function sub_BANKF_F11E\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F17E:\n\tJSR NextSpriteFlickerSlot\n\n\tJSR sub_BANKF_F494\n\n\tLDA PlayerInRocket\n\tBNE loc_BANKF_F1AB\n\n\t; boss clear fanfare locks player movement\n\tLDA MusicPlaying2\n\tCMP #Music2_BossClearFanfare\n\tBEQ loc_BANKF_F19D\n\n\tLDA PlayerLock\n\tBNE loc_BANKF_F19D\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR HandlePlayerState\n\nloc_BANKF_F19D:\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR sub_BANK0_8083\n\n\tJSR sub_BANKF_F228\n\n\tJSR RenderPlayer\n\nloc_BANKF_F1AB:\n\tJMP loc_BANKF_F146\n\n; End of function sub_BANKF_F17E\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F1AE:\n\tLDA DoAreaTransition\n\tCMP #$02\n\tBEQ locret_BANKF_F1E0\n\n\tLDY #$03\n\nloc_BANKF_F1B7:\n\tLDA CurrentLevel, Y\n\tSTA CurrentLevel_Init, Y\n\tDEY\n\tBPL loc_BANKF_F1B7\n\n\tLDA PlayerXLo\n\tSTA PlayerXLo_Init\n\tLDA PlayerYLo\n\tSTA PlayerYLo_Init\n\tLDA PlayerScreenX\n\tSTA PlayerScreenX_Init\n\tLDA PlayerScreenYLo\n\tSTA PlayerScreenYLo_Init\n\tLDA PlayerYVelocity\n\tSTA PlayerYVelocity_Init\n\tLDA PlayerState\n\tSTA PlayerState_Init\n\nlocret_BANKF_F1E0:\n\tRTS\n\n; End of function sub_BANKF_F1AE\n\n; =============== S U B R O U T I N E =======================================\n\n;\n; Level Initialization\n; ====================\n;\n; Sets up in-level gameplay (eg. after level card)\n;\nLevelInitialization:\n\tLDY #$03\n\n; Loop through and set level, area, page, and transition from RAM\nLevelInitialization_AreaSetupLoop:\n\tLDA CurrentLevel_Init, Y\n\tSTA CurrentLevel, Y\n\tDEY\n\tBPL LevelInitialization_AreaSetupLoop\n\n\t; position the player\n\tLDA PlayerXLo_Init\n\tSTA PlayerXLo\n\tLDA PlayerYLo_Init\n\tSTA PlayerYLo\n\tLDA PlayerScreenX_Init\n\tSTA PlayerScreenX\n\tLDA PlayerScreenYLo_Init\n\tSTA PlayerScreenYLo\n\tLDA PlayerYVelocity_Init\n\tSTA PlayerYVelocity\n\tLDA PlayerState_Init\n\tSTA PlayerState\n\tLDA #$00\n\tSTA InSubspaceOrJar\n\tSTA InJarType\n\tSTA PlayerInAir\n\tSTA DamageInvulnTime\n\n\nRestorePlayerToFullHealth:\n\tLDY PlayerMaxHealth ; Get player's current max HP\n\tLDA PlayerHealthValueByHeartCount, Y ; Get the health value for this amount of hearts\n\tSTA PlayerHealth\n\tRTS\n\n\nPlayerHealthValueByHeartCount:\n\t.db PlayerHealth_2_HP\n\t.db PlayerHealth_3_HP\n\t.db PlayerHealth_4_HP\n; Max hearts = (hearts - 2), value is 0,$01,2\n; This table determines what the player's HP is set to\n\nClimbSpeed:\n\t.db $00\nClimbSpeedDown:\n\t.db $20\nClimbSpeedUp:\n\t.db $F0\n; Bug: The climb speed index is determined by checking the up/down flags in\n; Player1JoypadHeld. If both are enabled, the index it out of bounds and uses\n; the LDA ($A5) below, which zips the player up the vine!\nIFDEF FIX_CLIMB_ZIP\n\t.db $00\nENDIF\n\n; =============== S U B R O U T I N E =======================================\n\n; Bottomless pit check\nsub_BANKF_F228:\n\tLDA PlayerXLo\n\tSEC\n\tSBC ScreenBoundaryLeftLo\n\tSTA PlayerScreenX\n\tLDA PlayerYLo\n\tCLC\n\tSBC ScreenYLo\n\tSTA PlayerScreenYLo\n\tLDA PlayerYHi\n\tSBC ScreenYHi\n\tSTA PlayerScreenYHi\n\tLDA PlayerState\n\tCMP #PlayerState_Lifting\n\tBCS locret_BANKF_F297\n\n\tLDA PlayerScreenYHi\n\tBEQ loc_BANKF_F298\n\n\tBMI loc_BANKF_F254\n\n\t; bottomless pit\n\tLDA #$00\n\tSTA PlayerStateTimer\n\tJMP KillPlayer\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_F254:\n\tLDA PlayerYHi\n\tBPL locret_BANKF_F297\n\n\tLDA InJarType\n\tBEQ loc_BANKF_F298\n\n\tLDA PlayerYLo\n\tCMP #$F0\n\tBCS locret_BANKF_F297\n\n\tJSR DoAreaReset\n\n\tPLA\n\tPLA\n\tLDY #$00\n\tSTY PlayerDucking\n\tSTY PlayerYVelocity\n\tSTY PlayerXVelocity\n\tLDA #PlayerState_ExitingJar\n\tSTA PlayerState\n\tLDA #SpriteAnimation_Ducking\n\tSTA PlayerAnimationFrame\n\tLDA InJarType\n\tSTY InJarType\n\tCMP #$02\n\tBNE loc_BANKF_F286\n\n\tSTA DoAreaTransition\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_F286:\n\tSTY InSubspaceOrJar\n\tLDA CurrentLevelAreaCopy\n\tSTA CurrentLevelArea\n\tLDA #PRGBank_8_9\n\tJSR ChangeMappedPRGBank\n\n\tJMP GetEnemyPointers\n\n; ---------------------------------------------------------------------------\n\nlocret_BANKF_F297:\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_F298:\n\tLDA PlayerState\n\tCMP #PlayerState_Climbing\n\tBNE locret_BANKF_F297\n\n\tLDA InSubspaceOrJar\n\tCMP #$02\n\tBEQ locret_BANKF_F297\n\n\tLDA ClimbSpeedUp\n\tLDY PlayerYHi\n\tBMI loc_BANKF_F2BB\n\n\tLDA PlayerScreenYLo\n\tCMP #$B8\n\tBCC locret_BANKF_F297\n\n\tLSR PlayerYLo\n\tSEC\n\tROL PlayerYLo\n\tLDA ClimbSpeedDown\n\nloc_BANKF_F2BB:\n\tSTA PlayerYVelocity\n\tLDA #PlayerState_ClimbingAreaTransition\n\tSTA PlayerState\n\tRTS\n\n; End of function sub_BANKF_F228\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F2C2:\n\tLDA #$00\n\tLDY ScrollXLock\n\tBNE loc_BANKF_F2D2\n\n\tLDA PlayerXLo\n\tSEC\n\tSBC #$78\n\tSEC\n\tSBC ScreenBoundaryLeftLo\n\nloc_BANKF_F2D2:\n\tSTA byte_RAM_BA\n\tRTS\n\n; End of function sub_BANKF_F2C2\n\n\n; Tiles to use for eye sprite. If $00, this will use the character-specific table\nCharacterFrameEyeTiles:\n\t.db $00 ; Walk1\n\t.db $00 ; Carry1\n\t.db $00 ; Walk2\n\t.db $00 ; Carry2\n\t.db $FB ; Duck\n\t.db $FB ; DuckCarry\n\t.db $00 ; Jump\n\t.db $FB ; Death\n\t.db $FB ; Lift\n\t.db $00 ; Throw\n\t.db $FB ; Climb\n\n; Specific to each character\nCharacterEyeTiles:\n\t.db $D5 ; Mario\n\t.db $D9 ; Luigi\n\t.db $FB ; Toad\n\t.db $D7 ; Princess\n\nCharacterTiles_Walk1:\n\t.db $00\n\t.db $02\n\t.db $04 ; $00 - start of relative character tile offets, for some reason\n\t.db $06 ; $01\n\nCharacterTiles_Carry1:\n\t.db $0C ; $02\n\t.db $0E ; $03\n\t.db $10 ; $04\n\t.db $12 ; $05\n\nCharacterTiles_Walk2:\n\t.db $00 ; $06\n\t.db $02 ; $07\n\t.db $08 ; $08\n\t.db $0A ; $09\n\nCharacterTiles_Carry2:\n\t.db $0C ; $0a\n\t.db $0E ; $0b\n\t.db $14 ; $0c\n\t.db $16 ; $0d\n\nCharacterTiles_Duck:\n\t.db $FB ; $0e\n\t.db $FB ; $0f\n\t.db $2C ; $10\n\t.db $2C ; $11\n\nCharacterTiles_DuckCarry:\n\t.db $FB ; $12\n\t.db $FB ; $13\n\t.db $2E ; $14\n\t.db $2E ; $15\n\nCharacterTiles_Jump:\n\t.db $0C ; $16\n\t.db $0E ; $17\n\t.db $10 ; $18\n\t.db $12 ; $19\n\nCharacterTiles_Death:\n\t.db $30 ; $1a\n\t.db $30 ; $1b\n\t.db $32 ; $1c\n\t.db $32 ; $1d\n\nCharacterTiles_Lift:\n\t.db $20 ; $1e\n\t.db $22 ; $1f\n\t.db $24 ; $20\n\t.db $26 ; $21\n\nCharacterTiles_Throw:\n\t.db $00 ; $22\n\t.db $02 ; $23\n\t.db $28 ; $24\n\t.db $2A ; $25\n\nCharacterTiles_Climb:\n\t.db $18 ; $26\n\t.db $1A ; $27\n\t.db $1C ; $28\n\t.db $1E ; $29\n\nCharacterTiles_PrincessJumpBody:\n\t.db $B4 ; $2a\n\t.db $B6 ; $2b\n\nDamageInvulnBlinkFrames:\n\t.db $01, $01, $01, $02, $02, $04, $04, $04\n\nIFDEF CONTROLLER_2_DEBUG\nChangePlayerPoofTiles:\n\t.db $5E\n\t.db $3A\n\t.db $3A\n\t.db $3A\n\t.db $38\n\t.db $38\n\t.db $38\n\t.db $36\n\t.db $34\nENDIF\n\n;\n; Renders the player sprite\n;\nRenderPlayer:\nIFDEF CONTROLLER_2_DEBUG\n\tLDA ChangeCharacterPoofTimer\n\tBEQ RenderPlayer_AfterChangeCharacterPoof\n\n\tDEC ChangeCharacterPoofTimer\n\n\t; tile\n\tLDY ChangeCharacterPoofTimer\n\tLDA ChangePlayerPoofTiles, Y\n\tSTA SpriteDMAArea + $01\n\tSTA SpriteDMAArea + $05\n\tSTA SpriteDMAArea + $09\n\tSTA SpriteDMAArea + $0D\n\n\t; attributes\n\tLDA #ObjAttrib_Palette1\n\tSTA SpriteDMAArea + $02\n\tSTA SpriteDMAArea + $0A\n\tLDA #ObjAttrib_Palette1 | ObjAttrib_16x32\n\tSTA SpriteDMAArea + $06\n\tSTA SpriteDMAArea + $0E\n\n\t; y-position\n\tLDA PlayerScreenYLo\n\tSTA SpriteDMAArea + $00\n\tSTA SpriteDMAArea + $04\n\tCLC\n\tADC #$10\n\tSTA SpriteDMAArea + $08\n\tSTA SpriteDMAArea + $0C\n\n\t; x-position\n\tLDA PlayerScreenX\n\tSTA SpriteDMAArea + $03\n\tSTA SpriteDMAArea + $0B\n\tCLC\n\tADC #$08\n\tSTA SpriteDMAArea + $07\n\tSTA SpriteDMAArea + $0F\n\nRenderPlayer_AfterChangeCharacterPoof:\nENDIF\n\n\tLDY_abs PlayerState\n\tCPY #PlayerState_ChangingSize\n\tBEQ loc_BANKF_F337\n\n\tLDY StarInvincibilityTimer\n\tBNE loc_BANKF_F337\n\n\tLDA DamageInvulnTime ; Determine if the player is invincible from damage,\n; and if so, if they should be visible\n\tBEQ loc_BANKF_F345\n\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tTAY\n\tLDA DamageInvulnTime\n\tAND DamageInvulnBlinkFrames, Y\n\tBNE loc_BANKF_F345\n\n\tRTS\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_F337:\n\tLDA byte_RAM_10\n\tCPY #$18\n\tBCS loc_BANKF_F33F\n\n\tLSR A\n\tLSR A\n\nloc_BANKF_F33F:\n\tAND #ObjAttrib_Palette\n\tORA PlayerAttributes\n\tSTA PlayerAttributes\n\nloc_BANKF_F345:\n\tLDA QuicksandDepth\n\tBEQ loc_BANKF_F350\n\n\tLDA #ObjAttrib_BehindBackground\n\tORA PlayerAttributes\n\tSTA PlayerAttributes\n\nloc_BANKF_F350:\n\tLDA PlayerScreenX\n\tSTA SpriteDMAArea + $23\n\tSTA SpriteDMAArea + $2B\n\tCLC\n\tADC #$08\n\tSTA SpriteDMAArea + $27\n\tSTA SpriteDMAArea + $2F\n\tLDA PlayerScreenYLo\n\tSTA byte_RAM_0\n\tLDA PlayerScreenYHi\n\tSTA byte_RAM_1\n\tLDY PlayerAnimationFrame\n\tCPY #$04\n\tBEQ loc_BANKF_F382\n\n\tLDA PlayerCurrentSize\n\tBEQ loc_BANKF_F382\n\n\tLDA byte_RAM_0\n\tCLC\n\tADC #$08\n\tSTA byte_RAM_0\n\tBCC loc_BANKF_F382\n\n\tINC byte_RAM_1\n\nloc_BANKF_F382:\n\tLDA CurrentCharacter\n\tCMP #Character_Princess\n\tBEQ loc_BANKF_F394\n\n\tCPY #$00\n\tBNE loc_BANKF_F394\n\n\tLDA byte_RAM_0\n\tBNE loc_BANKF_F392\n\n\tDEC byte_RAM_1\n\nloc_BANKF_F392:\n\tDEC byte_RAM_0\n\nloc_BANKF_F394:\n\tJSR FindSpriteSlot\n\n\tLDA byte_RAM_1\n\tBNE loc_BANKF_F3A6\n\n\tLDA byte_RAM_0\n\tSTA SpriteDMAArea, Y\n\tSTA SpriteDMAArea + $20\n\tSTA SpriteDMAArea + $24\n\nloc_BANKF_F3A6:\n\tLDA byte_RAM_0\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_0\n\tLDA byte_RAM_1\n\tADC #$00\n\tBNE loc_BANKF_F3BB\n\n\tLDA byte_RAM_0\n\tSTA SpriteDMAArea + $28\n\tSTA SpriteDMAArea + $2C\n\nloc_BANKF_F3BB:\n\tLDA CrouchJumpTimer\n\tCMP #$3C\n\tBCC loc_BANKF_F3CA\n\n\tLDA byte_RAM_10\n\tAND #ObjAttrib_Palette1\n\tORA PlayerAttributes\n\tSTA PlayerAttributes\n\nloc_BANKF_F3CA:\n\tLDA PlayerDirection\n\tLSR A\n\tROR A\n\tROR A\n\tORA PlayerAttributes\n\tAND #%11111100\n\tORA #ObjAttrib_Palette1\n\tSTA SpriteDMAArea + 2, Y\n\tLDX PlayerAnimationFrame\n\tCPX #$07\n\tBEQ loc_BANKF_F3E2\n\n\tCPX #$04\n\tBNE loc_BANKF_F3EE\n\nloc_BANKF_F3E2:\n\tLDA PlayerAttributes\n\tSTA SpriteDMAArea + $22\n\tSTA SpriteDMAArea + $2A\n\tORA #$40\n\tBNE loc_BANKF_F3F8\n\nloc_BANKF_F3EE:\n\tAND #$FC\n\tORA PlayerAttributes\n\tSTA SpriteDMAArea + $22\n\tSTA SpriteDMAArea + $2A\n\nloc_BANKF_F3F8:\n\tSTA SpriteDMAArea + $26\n\tSTA SpriteDMAArea + $2E\n\tLDA CharacterFrameEyeTiles, X\n\tBNE loc_BANKF_F408\n\n\tLDX CurrentCharacter\n\tLDA CharacterEyeTiles, X\n\nloc_BANKF_F408:\n\tSTA SpriteDMAArea + 1, Y\n\tLDA PlayerAnimationFrame\n\tCMP #$06\n\tBCS loc_BANKF_F413\n\n\tORA HoldingItem\n\nloc_BANKF_F413:\n\tASL A\n\tASL A\n\tTAX\n\tLDA PlayerDirection\n\tBNE loc_BANKF_F44A\n\n\tLDA SpriteDMAArea + $23\n\tSTA SpriteDMAArea + 3, Y\n\tLDA CharacterTiles_Walk1, X\n\tSTA SpriteDMAArea + $21\n\tLDA CharacterTiles_Walk1 + 1, X\n\tSTA SpriteDMAArea + $25\n\tLDA PlayerCurrentSize\n\tBNE loc_BANKF_F43F\n\n\tLDA CurrentCharacter\n\tCMP #Character_Princess\n\tBNE loc_BANKF_F43F\n\n\tLDA PlayerAnimationFrame\n\tCMP #SpriteAnimation_Jumping\n\tBNE loc_BANKF_F43F\n\n\tLDX #$2A\n\nloc_BANKF_F43F:\n\tLDA CharacterTiles_Walk1 + 2, X\n\tSTA SpriteDMAArea + $29\n\tLDA CharacterTiles_Walk1 + 3, X\n\tBNE loc_BANKF_F478\n\nloc_BANKF_F44A:\n\tLDA SpriteDMAArea + $27\n\tSTA SpriteDMAArea + 3, Y\n\tLDA CharacterTiles_Walk1 + 1, X\n\tSTA SpriteDMAArea + $21\n\tLDA CharacterTiles_Walk1, X\n\tSTA SpriteDMAArea + $25\n\tLDA PlayerCurrentSize\n\tBNE loc_BANKF_F46F\n\n\tLDA CurrentCharacter\n\tCMP #Character_Princess\n\tBNE loc_BANKF_F46F\n\n\tLDA PlayerAnimationFrame\n\tCMP #SpriteAnimation_Jumping\n\tBNE loc_BANKF_F46F\n\n\tLDX #$2A\n\nloc_BANKF_F46F:\n\tLDA CharacterTiles_Walk1 + 3, X\n\tSTA SpriteDMAArea + $29\n\tLDA CharacterTiles_Walk1 + 2, X\n\nloc_BANKF_F478:\n\tSTA SpriteDMAArea + $2D\n\tRTS\n\n\n; =============== S U B R O U T I N E =======================================\n\nSetAreaStartPage:\n\tLDA IsHorizontalLevel\n\tBNE SetAreaStartPage_HorizontalLevel\n\n\tLDY PlayerYHi\n\tLDA PlayerYLo\n\tJSR GetVerticalAreaStartPage\n\n\tTYA\n\tBPL SetAreaStartPage_SetAndExit\n\tLDA #$00\n\tBEQ SetAreaStartPage_SetAndExit\n\nSetAreaStartPage_HorizontalLevel:\n\tLDA PlayerXHi\n\nSetAreaStartPage_SetAndExit:\n\tSTA CurrentLevelPage\n\tRTS\n\n; End of function SetAreaStartPage\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F494:\n\tLDX NeedVerticalScroll\n\tBNE locret_BANKF_F4C2\n\n\tLDA PlayerState\n\tCMP #PlayerState_Lifting\n\tBCS locret_BANKF_F4C2\n\n\tLDA PlayerScreenYLo\n\tLDY PlayerScreenYHi\n\tBMI loc_BANKF_F4B0\n\n\tBNE loc_BANKF_F4B6\n\n\tCMP #$B4\n\tBCS loc_BANKF_F4B6\n\n\tCMP #$21\n\tBCS loc_BANKF_F4B8\n\nloc_BANKF_F4B0:\n\tLDY PlayerInAir\n\tBNE loc_BANKF_F4B8\n\n\tBEQ loc_BANKF_F4B7\n\nloc_BANKF_F4B6:\n\tINX\n\nloc_BANKF_F4B7:\n\tINX\n\nloc_BANKF_F4B8:\n\tLDA VerticalScrollDirection\n\tSTX VerticalScrollDirection\n\tBNE locret_BANKF_F4C2\n\n\tSTX NeedVerticalScroll\n\nlocret_BANKF_F4C2:\n\tRTS\n\n; End of function sub_BANKF_F494\n\n; =============== S U B R O U T I N E =======================================\n\n; Determines start page for vertical area\nGetVerticalAreaStartPage:\n\tSTA byte_RAM_F\n\tTYA\n\tBMI locret_BANKF_F4D9\n\n\tASL A\n\tASL A\n\tASL A\n\tASL A\n\tCLC\n\tADC byte_RAM_F\n\tBCS loc_BANKF_F4D5\n\n\tCMP #$F0\n\tBCC locret_BANKF_F4D9\n\nloc_BANKF_F4D5:\n\tCLC\n\tADC #$10\n\tINY\n\nlocret_BANKF_F4D9:\n\tRTS\n\n; End of function GetVerticalAreaStartPage\n\n\nSpriteFlickerDMAOffset:\n\t.db $C0\n\t.db $70\n\t.db $80\n\t.db $50\n\t.db $A0\n\t.db $40\n\t.db $B0\n\t.db $60\n\t.db $90\n\t.db $C0\n\t.db $70\n\t.db $80\n\t.db $50\n\t.db $A0\n\t.db $40\n\t.db $B0\n\t.db $60\n\n; Sprite display configuration\nObjectAttributeTable:\n\t.db ObjAttrib_Palette1 ; $00 Enemy_Heart\n\t.db ObjAttrib_Palette1 ; $01 Enemy_ShyguyRed\n\t.db ObjAttrib_Palette1 ; $02 Enemy_Tweeter\n\t.db ObjAttrib_Palette3 ; $03 Enemy_ShyguyPink\n\t.db ObjAttrib_Palette2 ; $04 Enemy_Porcupo\n\t.db ObjAttrib_Palette1 ; $05 Enemy_SnifitRed\n\t.db ObjAttrib_Palette2 ; $06 Enemy_SnifitGray\n\t.db ObjAttrib_Palette3 ; $07 Enemy_SnifitPink\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $08 Enemy_Ostro\n\t.db ObjAttrib_Palette1 ; $09 Enemy_BobOmb\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $0A Enemy_AlbatossCarryingBobOmb\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $0B Enemy_AlbatossStartRight\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $0C Enemy_AlbatossStartLeft\n\t.db ObjAttrib_Palette1 ; $0D Enemy_NinjiRunning\n\t.db ObjAttrib_Palette1 ; $0E Enemy_NinjiJumping\n\t.db ObjAttrib_Palette1 ; $0F Enemy_BeezoDiving\n\t.db ObjAttrib_Palette2 ; $10 Enemy_BeezoStraight\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $11 Enemy_WartBubble\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_FrontFacing ; $12 Enemy_Pidgit\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $13 Enemy_Trouter\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $14 Enemy_Hoopstar\n\t.db ObjAttrib_Palette0 ; $15 Enemy_JarGeneratorShyguy\n\t.db ObjAttrib_Palette0 ; $16 Enemy_JarGeneratorBobOmb\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $17 Enemy_Phanto\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 | ObjAttrib_UpsideDown ; $18 Enemy_CobratJar\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $19 Enemy_CobratSand\n\t.db ObjAttrib_Palette2 | ObjAttrib_FrontFacing ; $1A Enemy_Pokey\n\t.db ObjAttrib_Palette2 | ObjAttrib_FrontFacing ; $1B Enemy_Bullet\n\t.db ObjAttrib_Palette2 | ObjAttrib_16x32 ; $1C Enemy_Birdo\n\t.db ObjAttrib_Palette3 | ObjAttrib_16x32 ; $1D Enemy_Mouser\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $1E Enemy_Egg\n\t.db ObjAttrib_Palette2 | ObjAttrib_FrontFacing ; $1F Enemy_Tryclyde\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $20 Enemy_Fireball\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $21 Enemy_Clawgrip\n\t.db ObjAttrib_Palette2 ; $22 Enemy_ClawgripRock\n\t.db ObjAttrib_Palette1 ; $23 Enemy_PanserStationaryFiresAngled\n\t.db ObjAttrib_Palette3 ; $24 Enemy_PanserWalking\n\t.db ObjAttrib_Palette2 ; $25 Enemy_PanserStationaryFiresUp\n\t.db ObjAttrib_Palette1 ; $26 Enemy_Autobomb\n\t.db ObjAttrib_Palette1 ; $27 Enemy_AutobombFire\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $28 Enemy_WhaleSpout\n\t.db ObjAttrib_Palette1 ; $29 Enemy_Flurry\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $2A Enemy_Fryguy\n\t.db ObjAttrib_Palette1 ; $2B Enemy_FryguySplit\n\t.db ObjAttrib_Palette3 | ObjAttrib_Horizontal | ObjAttrib_FrontFacing | ObjAttrib_16x32 ; $2C Enemy_Wart\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $2D Enemy_HawkmouthBoss\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $2E Enemy_Spark1\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $2F Enemy_Spark2\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $30 Enemy_Spark3\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $31 Enemy_Spark4\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $32 Enemy_VegetableSmall\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $33 Enemy_VegetableLarge\n\t.db ObjAttrib_Palette2 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $34 Enemy_VegetableWart\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $35 Enemy_Shell\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $36 Enemy_Coin\n\t.db ObjAttrib_Palette1 | ObjAttrib_UpsideDown ; $37 Enemy_Bomb\n\t.db ObjAttrib_Palette1 | ObjAttrib_UpsideDown ; $38 Enemy_Rocket\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $39 Enemy_MushroomBlock\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown ; $3A Enemy_POWBlock\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_FrontFacing | ObjAttrib_16x32 ; $3B Enemy_FallingLogs\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $3C Enemy_SubspaceDoor\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $3D Enemy_Key\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown ; $3E Enemy_SubspacePotion\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $3F Enemy_Mushroom\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown ; $40 Enemy_Mushroom1up\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $41 Enemy_FlyingCarpet\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $42 Enemy_HawkmouthRight\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $43 Enemy_HawkmouthLeft\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $44 Enemy_CrystalBall\n\t.db ObjAttrib_Palette2 | ObjAttrib_Mirrored ; $45 Enemy_Starman\n\t.db ObjAttrib_Palette2 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $46 Enemy_Stopwatch\n\n;\n; Enemy Behavior 46E\n;\n;   bit 7 ($80) - uses mirrored sprite for animation\n;   bit 6 ($40) - double speed\n;   bit 5 ($20) - wider sprite? used for mouser\n;   bit 4 ($10) - use tilemap 2\n;   bit 3 ($08) - squawk on death (prevents despawning offscreen?)\n;   bit 2 ($04) - disable collision with other enemies\n;   bit 1 ($02) - unliftable\n;   bit 0 ($01) - hurts when touched from above\nEnemyArray_46E_Data:\n\t.db %00000100 ; $00 Enemy_Heart\n\t.db %00000000 ; $01 Enemy_ShyguyRed\n\t.db %00000000 ; $02 Enemy_Tweeter\n\t.db %00000000 ; $03 Enemy_ShyguyPink\n\t.db %00000011 ; $04 Enemy_Porcupo\n\t.db %00000000 ; $05 Enemy_SnifitRed\n\t.db %00000000 ; $06 Enemy_SnifitGray\n\t.db %00000000 ; $07 Enemy_SnifitPink\n\t.db %01010000 ; $08 Enemy_Ostro\n\t.db %01000000 ; $09 Enemy_BobOmb\n\t.db %01000010 ; $0A Enemy_AlbatossCarryingBobOmb\n\t.db %01000010 ; $0B Enemy_AlbatossStartRight\n\t.db %01000010 ; $0C Enemy_AlbatossStartLeft\n\t.db %01000000 ; $0D Enemy_NinjiRunning\n\t.db %01000000 ; $0E Enemy_NinjiJumping\n\t.db %01000000 ; $0F Enemy_BeezoDiving\n\t.db %01000000 ; $10 Enemy_BeezoStraight\n\t.db %00010011 ; $11 Enemy_WartBubble\n\t.db %11010000 ; $12 Enemy_Pidgit\n\t.db %10000000 ; $13 Enemy_Trouter\n\t.db %00000000 ; $14 Enemy_Hoopstar\n\t.db %00000110 ; $15 Enemy_JarGeneratorShyguy\n\t.db %00000110 ; $16 Enemy_JarGeneratorBobOmb\n\t.db %00000111 ; $17 Enemy_Phanto\n\t.db %00010000 ; $18 Enemy_CobratJar\n\t.db %01010000 ; $19 Enemy_CobratSand\n\t.db %10010000 ; $1A Enemy_Pokey\n\t.db %00000111 ; $1B Enemy_Bullet\n\t.db %00001010 ; $1C Enemy_Birdo\n\t.db %00111011 ; $1D Enemy_Mouser\n\t.db %01000000 ; $1E Enemy_Egg\n\t.db %00011000 ; $1F Enemy_Tryclyde\n\t.db %00000111 ; $20 Enemy_Fireball\n\t.db %00011011 ; $21 Enemy_Clawgrip\n\t.db %00010000 ; $22 Enemy_ClawgripRock\n\t.db %00000111 ; $23 Enemy_PanserStationaryFiresAngled\n\t.db %00000111 ; $24 Enemy_PanserWalking\n\t.db %00000111 ; $25 Enemy_PanserStationaryFiresUp\n\t.db %01010000 ; $26 Enemy_Autobomb\n\t.db %01010011 ; $27 Enemy_AutobombFire\n\t.db %10010110 ; $28 Enemy_WhaleSpout\n\t.db %01010000 ; $29 Enemy_Flurry\n\t.db %10011011 ; $2A Enemy_Fryguy\n\t.db %11010011 ; $2B Enemy_FryguySplit\n\t.db %00011011 ; $2C Enemy_Wart\n\t.db %00001011 ; $2D Enemy_HawkmouthBoss\n\t.db %00000011 ; $2E Enemy_Spark1\n\t.db %00000011 ; $2F Enemy_Spark2\n\t.db %00000011 ; $30 Enemy_Spark3\n\t.db %00000011 ; $31 Enemy_Spark4\n\t.db %00000000 ; $32 Enemy_VegetableSmall\n\t.db %00000000 ; $33 Enemy_VegetableLarge\n\t.db %00000000 ; $34 Enemy_VegetableWart\n\t.db %00000000 ; $35 Enemy_Shell\n\t.db %00000100 ; $36 Enemy_Coin\n\t.db %00000100 ; $37 Enemy_Bomb\n\t.db %00000100 ; $38 Enemy_Rocket\n\t.db %00000000 ; $39 Enemy_MushroomBlock\n\t.db %00000000 ; $3A Enemy_POWBlock\n\t.db %00000110 ; $3B Enemy_FallingLogs\n\t.db %00000100 ; $3C Enemy_SubspaceDoor\n\t.db %00000000 ; $3D Enemy_Key\n\t.db %00000100 ; $3E Enemy_SubspacePotion\n\t.db %00000100 ; $3F Enemy_Mushroom\n\t.db %00000100 ; $40 Enemy_Mushroom1up\n\t.db %00010110 ; $41 Enemy_FlyingCarpet\n\t.db %00000110 ; $42 Enemy_HawkmouthRight\n\t.db %00000110 ; $43 Enemy_HawkmouthLeft\n\t.db %00001100 ; $44 Enemy_CrystalBall\n\t.db %00000100 ; $45 Enemy_Starman\n\t.db %00000100 ; $46 Enemy_Stopwatch\n\n;\n; Height and horizontal collision detection\n;\nEnemyArray_492_Data:\n\t.db $00 ; $00 Enemy_Heart\n\t.db $05 ; $01 Enemy_ShyguyRed\n\t.db $05 ; $02 Enemy_Tweeter\n\t.db $05 ; $03 Enemy_ShyguyPink\n\t.db $05 ; $04 Enemy_Porcupo\n\t.db $05 ; $05 Enemy_SnifitRed\n\t.db $05 ; $06 Enemy_SnifitGray\n\t.db $05 ; $07 Enemy_SnifitPink\n\t.db $0C ; $08 Enemy_Ostro\n\t.db $05 ; $09 Enemy_BobOmb\n\t.db $05 ; $0A Enemy_AlbatossCarryingBobOmb\n\t.db $05 ; $0B Enemy_AlbatossStartRight\n\t.db $05 ; $0C Enemy_AlbatossStartLeft\n\t.db $05 ; $0D Enemy_NinjiRunning\n\t.db $05 ; $0E Enemy_NinjiJumping\n\t.db $05 ; $0F Enemy_BeezoDiving\n\t.db $05 ; $10 Enemy_BeezoStraight\n\t.db $05 ; $11 Enemy_WartBubble\n\t.db $05 ; $12 Enemy_Pidgit\n\t.db $05 ; $13 Enemy_Trouter\n\t.db $05 ; $14 Enemy_Hoopstar\n\t.db $0D ; $15 Enemy_JarGeneratorShyguy\n\t.db $0D ; $16 Enemy_JarGeneratorBobOmb\n\t.db $05 ; $17 Enemy_Phanto\n\t.db $0C ; $18 Enemy_CobratJar\n\t.db $0C ; $19 Enemy_CobratSand\n\t.db $05 ; $1A Enemy_Pokey\n\t.db $0D ; $1B Enemy_Bullet\n\t.db $0C ; $1C Enemy_Birdo\n\t.db $0C ; $1D Enemy_Mouser\n\t.db $05 ; $1E Enemy_Egg\n\t.db $0E ; $1F Enemy_Tryclyde\n\t.db $0D ; $20 Enemy_Fireball\n\t.db $0C ; $21 Enemy_Clawgrip\n\t.db $05 ; $22 Enemy_ClawgripRock\n\t.db $05 ; $23 Enemy_PanserStationaryFiresAngled\n\t.db $05 ; $24 Enemy_PanserWalking\n\t.db $05 ; $25 Enemy_PanserStationaryFiresUp\n\t.db $0C ; $26 Enemy_Autobomb\n\t.db $05 ; $27 Enemy_AutobombFire\n\t.db $05 ; $28 Enemy_WhaleSpout\n\t.db $05 ; $29 Enemy_Flurry\n\t.db $05 ; $2A Enemy_Fryguy\n\t.db $05 ; $2B Enemy_FryguySplit\n\t.db $05 ; $2C Enemy_Wart\n\t.db $00 ; $2D Enemy_HawkmouthBoss\n\t.db $0F ; $2E Enemy_Spark1\n\t.db $0F ; $2F Enemy_Spark2\n\t.db $0F ; $30 Enemy_Spark3\n\t.db $0F ; $31 Enemy_Spark4\n\t.db $05 ; $32 Enemy_VegetableSmall\n\t.db $05 ; $33 Enemy_VegetableLarge\n\t.db $05 ; $34 Enemy_VegetableWart\n\t.db $05 ; $35 Enemy_Shell\n\t.db $05 ; $36 Enemy_Coin\n\t.db $05 ; $37 Enemy_Bomb\n\t.db $05 ; $38 Enemy_Rocket\n\t.db $04 ; $39 Enemy_MushroomBlock\n\t.db $04 ; $3A Enemy_POWBlock\n\t.db $04 ; $3B Enemy_FallingLogs\n\t.db $04 ; $3C Enemy_SubspaceDoor\n\t.db $04 ; $3D Enemy_Key\n\t.db $04 ; $3E Enemy_SubspacePotion\n\t.db $04 ; $3F Enemy_Mushroom\n\t.db $04 ; $40 Enemy_Mushroom1up\n\t.db $10 ; $41 Enemy_FlyingCarpet\n\t.db $00 ; $42 Enemy_HawkmouthRight\n\t.db $00 ; $43 Enemy_HawkmouthLeft\n\t.db $05 ; $44 Enemy_CrystalBall\n\t.db $05 ; $45 Enemy_Starman\n\t.db $05 ; $46 Enemy_Stopwatch\n\n;\n; Horizontal hitbox, collision detection, and carried height\n;\nEnemyArray_489_Data:\n\t.db $08 ; $00Enemy_Heart\n\t.db $02 ; $01Enemy_ShyguyRed\n\t.db $02 ; $02Enemy_Tweeter\n\t.db $02 ; $03Enemy_ShyguyPink\n\t.db $02 ; $04Enemy_Porcupo\n\t.db $02 ; $05Enemy_SnifitRed\n\t.db $02 ; $06Enemy_SnifitGray\n\t.db $02 ; $07Enemy_SnifitPink\n\t.db $04 ; $08Enemy_Ostro\n\t.db $02 ; $09Enemy_BobOmb\n\t.db $09 ; $0AEnemy_AlbatossCarryingBobOmb\n\t.db $09 ; $0BEnemy_AlbatossStartRight\n\t.db $09 ; $0CEnemy_AlbatossStartLeft\n\t.db $02 ; $0DEnemy_NinjiRunning\n\t.db $02 ; $0EEnemy_NinjiJumping\n\t.db $02 ; $0FEnemy_BeezoDiving\n\t.db $02 ; $10Enemy_BeezoStraight\n\t.db $02 ; $11Enemy_WartBubble\n\t.db $02 ; $12Enemy_Pidgit\n\t.db $02 ; $13Enemy_Trouter\n\t.db $02 ; $14Enemy_Hoopstar\n\t.db $08 ; $15Enemy_JarGeneratorShyguy\n\t.db $08 ; $16Enemy_JarGeneratorBobOmb\n\t.db $02 ; $17Enemy_Phanto\n\t.db $04 ; $18Enemy_CobratJar\n\t.db $04 ; $19Enemy_CobratSand\n\t.db $0E ; $1AEnemy_Pokey\n\t.db $08 ; $1BEnemy_Bullet\n\t.db $04 ; $1CEnemy_Birdo\n\t.db $04 ; $1DEnemy_Mouser\n\t.db $02 ; $1EEnemy_Egg\n\t.db $0F ; $1FEnemy_Tryclyde\n\t.db $02 ; $20Enemy_Fireball\n\t.db $13 ; $21Enemy_Clawgrip\n\t.db $02 ; $22Enemy_ClawgripRock\n\t.db $02 ; $23Enemy_PanserStationaryFiresAngled\n\t.db $02 ; $24Enemy_PanserWalking\n\t.db $02 ; $25Enemy_PanserStationaryFiresUp\n\t.db $10 ; $26Enemy_Autobomb\n\t.db $02 ; $27Enemy_AutobombFire\n\t.db $12 ; $28Enemy_WhaleSpout\n\t.db $02 ; $29Enemy_Flurry\n\t.db $0F ; $2AEnemy_Fryguy\n\t.db $02 ; $2BEnemy_FryguySplit\n\t.db $11 ; $2CEnemy_Wart\n\t.db $0B ; $2DEnemy_HawkmouthBoss\n\t.db $02 ; $2EEnemy_Spark1\n\t.db $02 ; $2FEnemy_Spark2\n\t.db $02 ; $30Enemy_Spark3\n\t.db $02 ; $31Enemy_Spark4\n\t.db $02 ; $32Enemy_VegetableSmall\n\t.db $02 ; $33Enemy_VegetableLarge\n\t.db $02 ; $34Enemy_VegetableWart\n\t.db $02 ; $35Enemy_Shell\n\t.db $02 ; $36Enemy_Coin\n\t.db $02 ; $37Enemy_Bomb\n\t.db $04 ; $38Enemy_Rocket\n\t.db $03 ; $39Enemy_MushroomBlock\n\t.db $03 ; $3AEnemy_POWBlock\n\t.db $07 ; $3BEnemy_FallingLogs\n\t.db $04 ; $3CEnemy_SubspaceDoor\n\t.db $03 ; $3DEnemy_Key\n\t.db $03 ; $3EEnemy_SubspacePotion\n\t.db $03 ; $3FEnemy_Mushroom\n\t.db $03 ; $40Enemy_Mushroom1up\n\t.db $09 ; $41Enemy_FlyingCarpet\n\t.db $0B ; $42Enemy_HawkmouthRight\n\t.db $0B ; $43Enemy_HawkmouthLeft\n\t.db $02 ; $44Enemy_CrystalBall\n\t.db $02 ; $45Enemy_Starman\n\t.db $02 ; $46Enemy_Stopwatch\n\n; More collision (post-throw)\nbyte_BANKF_F607:\n\t.db $00 ; $00Enemy_Heart\n\t.db $00 ; $01Enemy_ShyguyRed\n\t.db $00 ; $02Enemy_Tweeter\n\t.db $00 ; $03Enemy_ShyguyPink\n\t.db $00 ; $04Enemy_Porcupo\n\t.db $00 ; $05Enemy_SnifitRed\n\t.db $00 ; $06Enemy_SnifitGray\n\t.db $00 ; $07Enemy_SnifitPink\n\t.db $00 ; $08Enemy_Ostro\n\t.db $00 ; $09Enemy_BobOmb\n\t.db $00 ; $0AEnemy_AlbatossCarryingBobOmb\n\t.db $00 ; $0BEnemy_AlbatossStartRight\n\t.db $00 ; $0CEnemy_AlbatossStartLeft\n\t.db $00 ; $0DEnemy_NinjiRunning\n\t.db $00 ; $0EEnemy_NinjiJumping\n\t.db $00 ; $0FEnemy_BeezoDiving\n\t.db $00 ; $10Enemy_BeezoStraight\n\t.db $00 ; $11Enemy_WartBubble\n\t.db $00 ; $12Enemy_Pidgit\n\t.db $00 ; $13Enemy_Trouter\n\t.db $00 ; $14Enemy_Hoopstar\n\t.db $00 ; $15Enemy_JarGeneratorShyguy\n\t.db $00 ; $16Enemy_JarGeneratorBobOmb\n\t.db $00 ; $17Enemy_Phanto\n\t.db $00 ; $18Enemy_CobratJar\n\t.db $00 ; $19Enemy_CobratSand\n\t.db $00 ; $1AEnemy_Pokey\n\t.db $00 ; $1BEnemy_Bullet\n\t.db $00 ; $1CEnemy_Birdo\n\t.db $00 ; $1DEnemy_Mouser\n\t.db $00 ; $1EEnemy_Egg\n\t.db $00 ; $1FEnemy_Tryclyde\n\t.db $00 ; $20Enemy_Fireball\n\t.db $00 ; $21Enemy_Clawgrip\n\t.db $00 ; $22Enemy_ClawgripRock\n\t.db $00 ; $23Enemy_PanserStationaryFiresAngled\n\t.db $00 ; $24Enemy_PanserWalking\n\t.db $00 ; $25Enemy_PanserStationaryFiresUp\n\t.db $00 ; $26Enemy_Autobomb\n\t.db $00 ; $27Enemy_AutobombFire\n\t.db $00 ; $28Enemy_WhaleSpout\n\t.db $00 ; $29Enemy_Flurry\n\t.db $00 ; $2AEnemy_Fryguy\n\t.db $00 ; $2BEnemy_FryguySplit\n\t.db $00 ; $2CEnemy_Wart\n\t.db $00 ; $2DEnemy_HawkmouthBoss\n\t.db $00 ; $2EEnemy_Spark1\n\t.db $00 ; $2FEnemy_Spark2\n\t.db $00 ; $30Enemy_Spark3\n\t.db $00 ; $31Enemy_Spark4\n\t.db $01 ; $32Enemy_VegetableSmall\n\t.db $01 ; $33Enemy_VegetableLarge\n\t.db $01 ; $34Enemy_VegetableWart\n\t.db $01 ; $35Enemy_Shell\n\t.db $02 ; $36Enemy_Coin\n\t.db $01 ; $37Enemy_Bomb\n\t.db $00 ; $38Enemy_Rocket\n\t.db $02 ; $39Enemy_MushroomBlock\n\t.db $03 ; $3AEnemy_POWBlock\n\t.db $02 ; $3BEnemy_FallingLogs\n\t.db $04 ; $3CEnemy_SubspaceDoor\n\t.db $02 ; $3DEnemy_Key\n\t.db $02 ; $3EEnemy_SubspacePotion\n\t.db $02 ; $3FEnemy_Mushroom\n\t.db $02 ; $40Enemy_Mushroom1up\n\t.db $02 ; $41Enemy_FlyingCarpet\n\t.db $02 ; $42Enemy_HawkmouthRight\n\t.db $02 ; $43Enemy_HawkmouthLeft\n\t.db $02 ; $44Enemy_CrystalBall\n\t.db $00 ; $45Enemy_Starman\n\t.db $02 ; $46Enemy_Stopwatch\n\n; @TODO: use flag\n; IFNDEF ENABLE_TILE_ATTRIBUTES_TABLE\n;\n; This table determines the \"solidness\" of tiles.\n;\n; Solidness is broken into four tiers:\n;   - background (no collisions)\n;   - background to player/enemies, solid to mushroom blocks\n;   - jumpthrough block (collision on top only)\n;   - solid block (collision on all sides)\n;\n; Tiles are divided into groups of $40. For each category, the corresponding\n; the groups are divided into two groups: tiles that have a collision rule and\n; tiles that don't.\n;\nTileSolidnessTable:\n\t; solid to mushroom blocks unless < these values\n\t.db $01\n\t.db $43\n\t.db $80\n\t.db $C0\n\t; solid on top unless < these values\n\t.db $12\n\t.db $60\n\t.db $91\n\t.db $CA\n\t; solid on all sides unless < these values\n\t.db $18\n\t.db $69\n\t.db $98\n\t.db $D5\n\nIFDEF ENABLE_TILE_ATTRIBUTES_TABLE\n; ELSE\n;\n; This table determines the collision properties of a tile\n;\n; * bit 7: whether bottom is solid to \"background interactive\" enemies\n; * bit 6: whether top is solid to \"background interactive\" enemies\n; * bit 5: whether right side is solid to \"background interactive\" enemies\n; * bit 4: whether left side is solid to \"background interactive\" enemies\n; * bit 3: whether bottom is solid\n; * bit 2: whether top is solid\n; * bit 1: whether right side is solid\n; * bit 0: whether left side is solid\n;\nTileCollisionAttributesTable:\n\t.db %00000000 ; $00\n\t.db %11110000 ; $01\n\t.db %11110000 ; $02\n\t.db %11110000 ; $03\n\t.db %11110000 ; $04\n\t.db %11110000 ; $05\n\t.db %11110000 ; $06\n\t.db %11110000 ; $07\n\t.db %11110000 ; $08\n\t.db %11110000 ; $09\n\t.db %11110000 ; $0A\n\t.db %11110000 ; $0B\n\t.db %11110000 ; $0C\n\t.db %11110000 ; $0D\n\t.db %11110000 ; $0E\n\t.db %11110000 ; $0F\n\t.db %11110000 ; $10\n\t.db %11110000 ; $11\n\t.db %00000100 ; $12\n\t.db %00000100 ; $13\n\t.db %00000100 ; $14\n\t.db %00000100 ; $15\n\t.db %00000100 ; $16\n\t.db %00000100 ; $17\n\t.db %00001111 ; $18\n\t.db %00001111 ; $19\n\t.db %10001111 ; $1A\n\t.db %00001111 ; $1B\n\t.db %00001111 ; $1C\n\t.db %00001111 ; $1D\n\t.db %00001111 ; $1E\n\t.db %00001111 ; $1F\n\t.db %00001111 ; $20\n\t.db %00001111 ; $21\n\t.db %00001111 ; $22\n\t.db %00001111 ; $23\n\t.db %00001111 ; $24\n\t.db %00001111 ; $25\n\t.db %00001111 ; $26\n\t.db %00001111 ; $27\n\t.db %00001111 ; $28\n\t.db %00001111 ; $29\n\t.db %00001111 ; $2A\n\t.db %00001111 ; $2B\n\t.db %00001111 ; $2C\n\t.db %00001111 ; $2D\n\t.db %00001111 ; $2E\n\t.db %00001111 ; $2F\n\t.db %00001111 ; $30\n\t.db %00001111 ; $31\n\t.db %00001111 ; $32\n\t.db %00001111 ; $33\n\t.db %00001111 ; $34\n\t.db %00001111 ; $35\n\t.db %00001111 ; $36\n\t.db %00001111 ; $37\n\t.db %00001111 ; $38\n\t.db %00001111 ; $39\n\t.db %00001111 ; $3A\n\t.db %00001111 ; $3B\n\t.db %00001111 ; $3C\n\t.db %00001111 ; $3D\n\t.db %00001111 ; $3E\n\t.db %00001111 ; $3F\n\t.db %00000000 ; $40\n\t.db %00000000 ; $41\n\t.db %00000000 ; $42\n\t.db %11110000 ; $43\n\t.db %11110000 ; $44\n\t.db %11110000 ; $45\n\t.db %11110000 ; $46\n\t.db %11110000 ; $47\n\t.db %11110000 ; $48\n\t.db %11110000 ; $49\n\t.db %11110000 ; $4A\n\t.db %11110000 ; $4B\n\t.db %11110000 ; $4C\n\t.db %11110000 ; $4D\n\t.db %11110000 ; $4E\n\t.db %11110000 ; $4F\n\t.db %11110000 ; $50\n\t.db %11110000 ; $51\n\t.db %11110000 ; $52\n\t.db %11110000 ; $53\n\t.db %11110000 ; $54\n\t.db %11110000 ; $55\n\t.db %11110000 ; $56\n\t.db %11110000 ; $57\n\t.db %11110000 ; $58\n\t.db %11110000 ; $59\n\t.db %11110000 ; $5A\n\t.db %11110000 ; $5B\n\t.db %11110000 ; $5C\n\t.db %11110000 ; $5D\n\t.db %11110000 ; $5E\n\t.db %11110000 ; $5F\n\t.db %00000100 ; $60\n\t.db %00000100 ; $61\n\t.db %00000100 ; $62\n\t.db %00000100 ; $63\n\t.db %00000100 ; $64\n\t.db %00000100 ; $65\n\t.db %00000100 ; $66\n\t.db %00000100 ; $67\n\t.db %00000100 ; $68\n\t.db %00001111 ; $69\n\t.db %00001111 ; $6A\n\t.db %00001111 ; $6B\n\t.db %00001111 ; $6C\n\t.db %00001111 ; $6D\n\t.db %00001111 ; $6E\n\t.db %00001111 ; $6F\n\t.db %00001111 ; $70\n\t.db %00001111 ; $71\n\t.db %00001111 ; $72\n\t.db %00001111 ; $73\n\t.db %00001111 ; $74\n\t.db %00001111 ; $75\n\t.db %00001111 ; $76\n\t.db %00001111 ; $77\n\t.db %00001111 ; $78\n\t.db %00001111 ; $79\n\t.db %00001111 ; $7A\n\t.db %00001111 ; $7B\n\t.db %00001111 ; $7C\n\t.db %00001111 ; $7D\n\t.db %00001111 ; $7E\n\t.db %00001111 ; $7F\n\t.db %11110000 ; $80\n\t.db %11110000 ; $81\n\t.db %11110000 ; $82\n\t.db %11110000 ; $83\n\t.db %11110000 ; $84\n\t.db %11110000 ; $85\n\t.db %11110000 ; $86\n\t.db %11110000 ; $87\n\t.db %11110000 ; $88\n\t.db %11110000 ; $89\n\t.db %11110000 ; $8A\n\t.db %11110000 ; $8B\n\t.db %11110000 ; $8C\n\t.db %11110000 ; $8D\n\t.db %11110000 ; $8E\n\t.db %11110000 ; $8F\n\t.db %11110000 ; $90\n\t.db %00000100 ; $91\n\t.db %00000100 ; $92\n\t.db %00000100 ; $93\n\t.db %00000100 ; $94\n\t.db %00000100 ; $95\n\t.db %00000100 ; $96\n\t.db %00000100 ; $97\n\t.db %00001111 ; $98\n\t.db %00001111 ; $99\n\t.db %00001111 ; $9A\n\t.db %00001111 ; $9B\n\t.db %00001111 ; $9C\n\t.db %00001111 ; $9D\n\t.db %00001111 ; $9E\n\t.db %00001111 ; $9F\n\t.db %00001111 ; $A0\n\t.db %00001111 ; $A1\n\t.db %00001111 ; $A2\n\t.db %00001111 ; $A3\n\t.db %00001111 ; $A4\n\t.db %00001111 ; $A5\n\t.db %00001111 ; $A6\n\t.db %00001111 ; $A7\n\t.db %00001111 ; $A8\n\t.db %00001111 ; $A9\n\t.db %00001111 ; $AA\n\t.db %00001111 ; $AB\n\t.db %00001111 ; $AC\n\t.db %00001111 ; $AD\n\t.db %00001111 ; $AE\n\t.db %00001111 ; $AF\n\t.db %00001111 ; $B0\n\t.db %00001111 ; $B1\n\t.db %00001111 ; $B2\n\t.db %00001111 ; $B3\n\t.db %00001111 ; $B4\n\t.db %00001111 ; $B5\n\t.db %00001111 ; $B6\n\t.db %00001111 ; $B7\n\t.db %00001111 ; $B8\n\t.db %00001111 ; $B9\n\t.db %00001111 ; $BA\n\t.db %00001111 ; $BB\n\t.db %00001111 ; $BC\n\t.db %00001111 ; $BD\n\t.db %00001111 ; $BE\n\t.db %00001111 ; $BF\n\t.db %11110000 ; $C0\n\t.db %11110000 ; $C1\n\t.db %11110000 ; $C2\n\t.db %11110000 ; $C3\n\t.db %11110000 ; $C4\n\t.db %11110000 ; $C5\n\t.db %11110000 ; $C6\n\t.db %11110000 ; $C7\n\t.db %11110000 ; $C8\n\t.db %11110000 ; $C9\n\t.db %00000100 ; $CA\n\t.db %00000100 ; $CB\n\t.db %00000100 ; $CC\n\t.db %00000100 ; $CD\n\t.db %00000100 ; $CE\n\t.db %00000100 ; $CF\n\t.db %00000100 ; $D0\n\t.db %00000100 ; $D1\n\t.db %00000100 ; $D2\n\t.db %00000100 ; $D3\n\t.db %00000100 ; $D4\n\t.db %00001111 ; $D5\n\t.db %00001111 ; $D6\n\t.db %00001111 ; $D7\n\t.db %00001111 ; $D8\n\t.db %00001111 ; $D9\n\t.db %00001111 ; $DA\n\t.db %00001111 ; $DB\n\t.db %00001111 ; $DC\n\t.db %00001111 ; $DD\n\t.db %00001111 ; $DE\n\t.db %00001111 ; $DF\n\t.db %00001111 ; $E0\n\t.db %00001111 ; $E1\n\t.db %00001111 ; $E2\n\t.db %00001111 ; $E3\n\t.db %00001111 ; $E4\n\t.db %00001111 ; $E5\n\t.db %00001111 ; $E6\n\t.db %00001111 ; $E7\n\t.db %00001111 ; $E8\n\t.db %00001111 ; $E9\n\t.db %00001111 ; $EA\n\t.db %00001111 ; $EB\n\t.db %00001111 ; $EC\n\t.db %00001111 ; $ED\n\t.db %00001111 ; $EE\n\t.db %00001111 ; $EF\n\t.db %00001111 ; $F0\n\t.db %00001111 ; $F1\n\t.db %00001111 ; $F2\n\t.db %00001111 ; $F3\n\t.db %00001111 ; $F4\n\t.db %00001111 ; $F5\n\t.db %00001111 ; $F6\n\t.db %00001111 ; $F7\n\t.db %00001111 ; $F8\n\t.db %00001111 ; $F9\n\t.db %00001111 ; $FA\n\t.db %00001111 ; $FB\n\t.db %00001111 ; $FC\n\t.db %00001111 ; $FD\n\t.db %00001111 ; $FE\n\t.db %00001111 ; $FF\n\n\n; Tile attributes\n;\n; This table determines properties of each tile, including collision properties and special flags\n;\n; %76543210\n;  xxxxMMHH\n;\n; * M: movement effect (0 = none, 1 = slippery, 2 = quicksand, 3 = conveyor)\n; * H: health effect (0 = none, 1 = damage, 2 = kill, 3 = heal)\n;\nTileInteractionAttributesTable:\n\t.db %00000000 ; $00\n\t.db %00000000 ; $01\n\t.db %00000000 ; $02\n\t.db %00000000 ; $03\n\t.db %00000000 ; $04\n\t.db %00000000 ; $05\n\t.db %00000000 ; $06\n\t.db %00000000 ; $07\n\t.db %00000000 ; $08\n\t.db %00000000 ; $09\n\t.db %00000000 ; $0A\n\t.db %00000000 ; $0B\n\t.db %00000000 ; $0C\n\t.db %00000000 ; $0D\n\t.db %00000000 ; $0E\n\t.db %00000000 ; $0F\n\t.db %00000000 ; $10\n\t.db %00000000 ; $11\n\t.db %00000000 ; $12\n\t.db %00000000 ; $13\n\t.db %00000000 ; $14\n\t.db %00000000 ; $15\n\t.db %00000100 ; $16\n\t.db %00000000 ; $17\n\t.db %00000000 ; $18\n\t.db %00000000 ; $19\n\t.db %00000001 ; $1A\n\t.db %00000000 ; $1B\n\t.db %00000000 ; $1C\n\t.db %00000000 ; $1D\n\t.db %00000000 ; $1E\n\t.db %00000000 ; $1F\n\t.db %00000000 ; $20\n\t.db %00000000 ; $21\n\t.db %00000000 ; $22\n\t.db %00000000 ; $23\n\t.db %00000000 ; $24\n\t.db %00000000 ; $25\n\t.db %00000000 ; $26\n\t.db %00000000 ; $27\n\t.db %00000000 ; $28\n\t.db %00000000 ; $29\n\t.db %00000000 ; $2A\n\t.db %00000000 ; $2B\n\t.db %00000000 ; $2C\n\t.db %00000000 ; $2D\n\t.db %00000000 ; $2E\n\t.db %00000000 ; $2F\n\t.db %00000000 ; $30\n\t.db %00000000 ; $31\n\t.db %00000000 ; $32\n\t.db %00000000 ; $33\n\t.db %00000000 ; $34\n\t.db %00000000 ; $35\n\t.db %00000000 ; $36\n\t.db %00000000 ; $37\n\t.db %00000000 ; $38\n\t.db %00000000 ; $39\n\t.db %00000000 ; $3A\n\t.db %00000000 ; $3B\n\t.db %00000000 ; $3C\n\t.db %00000000 ; $3D\n\t.db %00000000 ; $3E\n\t.db %00000000 ; $3F\n\t.db %00000000 ; $40\n\t.db %00000000 ; $41\n\t.db %00000000 ; $42\n\t.db %00000000 ; $43\n\t.db %00000000 ; $44\n\t.db %00000000 ; $45\n\t.db %00000000 ; $46\n\t.db %00000000 ; $47\n\t.db %00000000 ; $48\n\t.db %00000000 ; $49\n\t.db %00000000 ; $4A\n\t.db %00000000 ; $4B\n\t.db %00000000 ; $4C\n\t.db %00000000 ; $4D\n\t.db %00000000 ; $4E\n\t.db %00000000 ; $4F\n\t.db %00000000 ; $50\n\t.db %00000000 ; $51\n\t.db %00000000 ; $52\n\t.db %00000000 ; $53\n\t.db %00000000 ; $54\n\t.db %00000000 ; $55\n\t.db %00000000 ; $56\n\t.db %00000000 ; $57\n\t.db %00000000 ; $58\n\t.db %00000000 ; $59\n\t.db %00000000 ; $5A\n\t.db %00000000 ; $5B\n\t.db %00000000 ; $5C\n\t.db %00000000 ; $5D\n\t.db %00000000 ; $5E\n\t.db %00000000 ; $5F\n\t.db %00000000 ; $60\n\t.db %00000000 ; $61\n\t.db %00000000 ; $62\n\t.db %00000000 ; $63\n\t.db %00000000 ; $64\n\t.db %00000000 ; $65\n\t.db %00000000 ; $66\n\t.db %00001100 ; $67\n\t.db %00001100 ; $68\n\t.db %00000000 ; $69\n\t.db %00000000 ; $6A\n\t.db %00000000 ; $6B\n\t.db %00000000 ; $6C\n\t.db %00000000 ; $6D\n\t.db %00000000 ; $6E\n\t.db %00000000 ; $6F\n\t.db %00000000 ; $70\n\t.db %00000000 ; $71\n\t.db %00000000 ; $72\n\t.db %00000000 ; $73\n\t.db %00000000 ; $74\n\t.db %00000000 ; $75\n\t.db %00000000 ; $76\n\t.db %00000000 ; $77\n\t.db %00000000 ; $78\n\t.db %00000000 ; $79\n\t.db %00000000 ; $7A\n\t.db %00000000 ; $7B\n\t.db %00000000 ; $7C\n\t.db %00000000 ; $7D\n\t.db %00000000 ; $7E\n\t.db %00000000 ; $7F\n\t.db %00000000 ; $80\n\t.db %00000000 ; $81\n\t.db %00000000 ; $82\n\t.db %00000000 ; $83\n\t.db %00000000 ; $84\n\t.db %00000000 ; $85\n\t.db %00000000 ; $86\n\t.db %00000000 ; $87\n\t.db %00000000 ; $88\n\t.db %00000000 ; $89\n\t.db %00001000 ; $8A\n\t.db %00001000 ; $8B\n\t.db %00000000 ; $8C\n\t.db %00000000 ; $8D\n\t.db %00000000 ; $8E\n\t.db %00000000 ; $8F\n\t.db %00000000 ; $90\n\t.db %00000000 ; $91\n\t.db %00000000 ; $92\n\t.db %00000000 ; $93\n\t.db %00000000 ; $94\n\t.db %00000000 ; $95\n\t.db %00000000 ; $96\n\t.db %00000000 ; $97\n\t.db %00000000 ; $98\n\t.db %00000000 ; $99\n\t.db %00000000 ; $9A\n\t.db %00000000 ; $9B\n\t.db %00000000 ; $9C\n\t.db %00000000 ; $9D\n\t.db %00000000 ; $9E\n\t.db %00000000 ; $9F\n\t.db %00000000 ; $A0\n\t.db %00000000 ; $A1\n\t.db %00000000 ; $A2\n\t.db %00000000 ; $A3\n\t.db %00000000 ; $A4\n\t.db %00000000 ; $A5\n\t.db %00000000 ; $A6\n\t.db %00000000 ; $A7\n\t.db %00000000 ; $A8\n\t.db %00000000 ; $A9\n\t.db %00000000 ; $AA\n\t.db %00000000 ; $AB\n\t.db %00000000 ; $AC\n\t.db %00000000 ; $AD\n\t.db %00000000 ; $AE\n\t.db %00000000 ; $AF\n\t.db %00000000 ; $B0\n\t.db %00000000 ; $B1\n\t.db %00000000 ; $B2\n\t.db %00000000 ; $B3\n\t.db %00000000 ; $B4\n\t.db %00000000 ; $B5\n\t.db %00000000 ; $B6\n\t.db %00000000 ; $B7\n\t.db %00000000 ; $B8\n\t.db %00000000 ; $B9\n\t.db %00000000 ; $BA\n\t.db %00000000 ; $BB\n\t.db %00000000 ; $BC\n\t.db %00000000 ; $BD\n\t.db %00000000 ; $BE\n\t.db %00000000 ; $BF\n\t.db %00000000 ; $C0\n\t.db %00000000 ; $C1\n\t.db %00000000 ; $C2\n\t.db %00000000 ; $C3\n\t.db %00000000 ; $C4\n\t.db %00000000 ; $C5\n\t.db %00000000 ; $C6\n\t.db %00000000 ; $C7\n\t.db %00000000 ; $C8\n\t.db %00000000 ; $C9\n\t.db %00000000 ; $CA\n\t.db %00000000 ; $CB\n\t.db %00000000 ; $CC\n\t.db %00000000 ; $CD\n\t.db %00000000 ; $CE\n\t.db %00000000 ; $CF\n\t.db %00000000 ; $D0\n\t.db %00000000 ; $D1\n\t.db %00000000 ; $D2\n\t.db %00000000 ; $D3\n\t.db %00000000 ; $D4\n\t.db %00000000 ; $D5\n\t.db %00000000 ; $D6\n\t.db %00000000 ; $D7\n\t.db %00000000 ; $D8\n\t.db %00000000 ; $D9\n\t.db %00000000 ; $DA\n\t.db %00000000 ; $DB\n\t.db %00000000 ; $DC\n\t.db %00000000 ; $DD\n\t.db %00000000 ; $DE\n\t.db %00000000 ; $DF\n\t.db %00000000 ; $E0\n\t.db %00000000 ; $E1\n\t.db %00000000 ; $E2\n\t.db %00000000 ; $E3\n\t.db %00000000 ; $E4\n\t.db %00000000 ; $E5\n\t.db %00000000 ; $E6\n\t.db %00000000 ; $E7\n\t.db %00000000 ; $E8\n\t.db %00000000 ; $E9\n\t.db %00000000 ; $EA\n\t.db %00000000 ; $EB\n\t.db %00000000 ; $EC\n\t.db %00000000 ; $ED\n\t.db %00000000 ; $EE\n\t.db %00000000 ; $EF\n\t.db %00000000 ; $F0\n\t.db %00000000 ; $F1\n\t.db %00000000 ; $F2\n\t.db %00000000 ; $F3\n\t.db %00000000 ; $F4\n\t.db %00000000 ; $F5\n\t.db %00000000 ; $F6\n\t.db %00000000 ; $F7\n\t.db %00000000 ; $F8\n\t.db %00000000 ; $F9\n\t.db %00000000 ; $FA\n\t.db %00000000 ; $FB\n\t.db %00000000 ; $FC\n\t.db %00000000 ; $FD\n\t.db %00000000 ; $FE\n\t.db %00000000 ; $FF\nENDIF\n\nWarpDestinations:\n\t.db $03\n\t.db $01\n\t.db $04\n\t.db $05\n\t.db $06\n\t.db $05\n\t.db $06\n\n\n;\n; Updates joypad press/held values\n;\nUpdateJoypads:\n\tJSR ReadJoypads\n\nUpdateJoypads_DoubleCheck:\n\t; Work around DPCM sample bug,\n\t; where some spurious inputs are read\nIFDEF CONTROLLER_2_DEBUG\n\tLDY Player2JoypadPress\n\tSTY UpdateJoypadsTemp\nENDIF\n\tLDY Player1JoypadPress\n\tJSR ReadJoypads\n\n\tCPY Player1JoypadPress\n\tBNE UpdateJoypads_DoubleCheck\n\nIFDEF CONTROLLER_2_DEBUG\n\tLDY UpdateJoypadsTemp\n\tCPY Player2JoypadPress\n\tBNE UpdateJoypads_DoubleCheck\nENDIF\n\n\tLDX #$01\n\nUpdateJoypads_Loop:\n\tLDA Player1JoypadPress, X ; Update the press/held values\n\tTAY\n\tEOR Player1JoypadHeld, X\n\tAND Player1JoypadPress, X\n\tSTA Player1JoypadPress, X\n\tSTY Player1JoypadHeld, X\n\tDEX\n\tBPL UpdateJoypads_Loop\n\n\tRTS\n\n\n;\n; Reads joypad pressed input\n;\nReadJoypads:\n\tLDX #$01\n\tSTX JOY1\n\tDEX\n\tSTX JOY1\n\n\tLDX #$08\nReadJoypadLoop:\n\tLDA JOY1\n\tLSR A\n\tROL Player1JoypadPress\n\tLSR A\n\t; @TODO These seem to never be read, and even then are using a\n\t; second bit from JOY1/JOY2 ... Was this reading from\n\t; the expansion port???\n\tROL Player1JoypadUnk\n\tLDA JOY2\n\tLSR A\n\tROL Player2JoypadPress\n\tLSR A\n\tROL Player2JoypadUnk\n\tDEX\n\tBNE ReadJoypadLoop\n\n\tRTS\n\n\n; =============== S U B R O U T I N E =======================================\n\nsub_BANKF_F6A1:\n\tLDA CurrentLevelPage\n\tASL A\n\tTAY\n\tLDA AreaPointersByPage, Y\n\tSTA CurrentLevel\n\tINY\n\tLDA AreaPointersByPage, Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA CurrentLevelArea\n\tLDA AreaPointersByPage, Y\n\tAND #$0F\n\tSTA CurrentLevelEntryPage\n\tRTS\n\n; End of function sub_BANKF_F6A1\n\n\n;\n; Checks that we're playing the correct music and switches if necessary, unless\n; we're playing the invincibility music.\n;\n; Input\n;   CompareMusicIndex = music we should be playing\n;   CurrentMusicIndex = music we're actually playing\n;   StarInvincibilityTimer = whether the player is invincible\n;\n; Output\n;   CurrentMusicIndex = music we should be plathing\n;   MusicQueue1 = song to play if we need to change the music\n;\nEnsureCorrectMusic:\n\tLDA CompareMusicIndex\n\tCMP CurrentMusicIndex\n\tBEQ EnsureCorrectMusic_Exit\n\n\tTAX\n\tSTX CurrentMusicIndex\n\tLDA StarInvincibilityTimer\n\tCMP #$08\n\tBCS EnsureCorrectMusic_Exit\n\n\tLDA LevelMusicIndexes, X\n\tSTA MusicQueue1\n\nEnsureCorrectMusic_Exit:\n\tRTS\n\n\nDoAreaReset:\n\tLDA #$00\n\tSTA AreaInitialized\n\tSTA ObjectCarriedOver\n\tSTA SubspaceTimer\n\tSTA SubspaceDoorTimer\nIFDEF CONTROLLER_2_DEBUG\n\tSTA ChangeCharacterPoofTimer\nENDIF\n\tLDX #$08\n\nDoAreaReset_EnemyLoop:\n\tLDA EnemyState, X\n\tBEQ DoAreaReset_EnemyLoopEnd\n\n\tLDA ObjectBeingCarriedTimer, X\n\tBEQ DoAreaReset_AfterCarryOver\n\n\tLDA ObjectType, X\n\tCMP #Enemy_MushroomBlock\n\tBEQ DoAreaReset_AfterCarryOver\n\n\tSTA ObjectCarriedOver\n\nDoAreaReset_AfterCarryOver:\n\tJSR AreaResetEnemyDestroy\n\nDoAreaReset_EnemyLoopEnd:\n\tDEX\n\tBPL DoAreaReset_EnemyLoop\n\n\tLDX byte_RAM_12\n\tRTS\n\n; End of function DoAreaReset\n\n; =============== S U B R O U T I N E =======================================\n\nAreaResetEnemyDestroy:\n\t; load raw enemy data offset so we can allow the level object to respawn\n\tLDY unk_RAM_441, X\n\t; nothing to reset if offset is invalid\n\tBMI AreaResetEnemyDestroy_AfterAllowRespawn\n\n\t; disabling bit 7 allows the object to respawn\n\tLDA (RawEnemyData), Y\n\tAND #$7F\n\tSTA (RawEnemyData), Y\n\nAreaResetEnemyDestroy_AfterAllowRespawn:\n\tLDA #EnemyState_Inactive\n\tSTA EnemyState, X\n\tRTS\n\n; End of function AreaResetEnemyDestroy\n\n; =============== S U B R O U T I N E =======================================\n\nKillPlayer:\n\tLDA #PlayerState_Dying ; Mark player as dead\n\tSTA PlayerState\n\tLDA #$00 ; Clear some variables\n\tSTA PlayerHealth\n\tSTA CrouchJumpTimer\n\tSTA StarInvincibilityTimer\n\tLDA #SpriteAnimation_Dead ; Set player animation to dead?\n\tSTA PlayerAnimationFrame\n\tLDA HoldingItem\n\tBEQ loc_BANKF_F749\n\n\t; Probably something to throw away\n\t; a held item on death\n\tDEC HoldingItem\n\tLDY ObjectBeingCarriedIndex\n\tSTA EnemyArray_42F, Y\n\tLSR A\n\tSTA ObjectBeingCarriedTimer, Y\n\tSTA ObjectXVelocity, Y\n\tLDA #$E0\n\tSTX byte_RAM_D\n\tLDX EnemyState, Y\n\tCPX #EnemyState_Sinking\n\tBEQ loc_BANKF_F747\n\n\tSTA ObjectYVelocity, Y\n\nloc_BANKF_F747:\n\tLDX byte_RAM_D\n\nloc_BANKF_F749:\n\t; Set music to death jingle\n\tLDA #Music2_DeathJingle\n\tSTA MusicQueue2\n\t; BUG: Setting DPCM at the same time as music\n\tLDA #DPCM_PlayerDeath\n\tSTA DPCMQueue\n\tRTS\n\n; End of function KillPlayer\n\n; =============== S U B R O U T I N E =======================================\n\n; Something to do with loading levels here\n\nGetLevelPointers:\n\tLDY CurrentLevel\n\tLDA LevelAreaStartIndexes, Y\n\tCLC\n\tADC CurrentLevelArea\n\tTAY ; Y now contains the current area or something\n\tLDA LevelDataPointersLo, Y\n\tSTA byte_RAM_5 ; $0005/$0006 are pointers to the level data\n\tLDA LevelDataPointersHi, Y\n\tSTA byte_RAM_6\n\tLDX #$FF ; Set to load level data into $7800 in RAM\n\tLDA #$78\n\tSTA byte_RAM_2\n\tLDY #$00\n\tSTY byte_RAM_1\n\nCopyLevelDataToMemory:\n\tLDA (byte_RAM_5), Y\n\tSTA (byte_RAM_1), Y\n\tINY\n\tDEX\n\tBNE CopyLevelDataToMemory\n\n\tSTA (byte_RAM_1), Y\n\n; End of function GetLevelPointers\n\n; =============== S U B R O U T I N E =======================================\n\nGetEnemyPointers:\n\tLDY CurrentLevel\n\tLDA EnemyPointersByLevel_HiHi, Y\n\tSTA byte_RAM_1\n\tLDA EnemyPointersByLevel_HiLo, Y\n\tSTA byte_RAM_0\n\tLDA EnemyPointersByLevel_LoHi, Y\n\tSTA byte_RAM_3\n\tLDA EnemyPointersByLevel_LoLo, Y\n\tSTA byte_RAM_2\n\tLDA InSubspaceOrJar ; Are we in a jar?\n\tCMP #$01\n\tBNE loc_BANKF_F7A0 ; No, load the area as usual\n\n\tLDY #AreaIndex_Jar\n\tJMP loc_BANKF_F7A3\n\n; ---------------------------------------------------------------------------\n\nloc_BANKF_F7A0:\n\tLDY CurrentLevelArea\n\nloc_BANKF_F7A3:\n\tLDA (byte_RAM_0), Y\n\tSTA byte_RAM_1\n\tLDA (byte_RAM_2), Y\n\tSTA byte_RAM_0\n\tLDX #$FF\n\tLDA #>RawEnemyDataAddr\n\tSTA byte_RAM_3\n\tLDY #<RawEnemyDataAddr\n\tSTY byte_RAM_2\n\nCopyEnemyDataToMemory:\n\tLDA (byte_RAM_0), Y\n\tSTA (byte_RAM_2), Y\n\tINY\n\tDEX\n\tBNE CopyEnemyDataToMemory\n\n\tRTS\n\n; End of function GetEnemyPointers\n\n; =============== S U B R O U T I N E =======================================\n\nGetJarPointers:\n\tLDY CurrentLevel ; Get the area starting index for the current level\n\tLDA LevelAreaStartIndexes, Y\n\tCLC\n\tADC #AreaIndex_Jar\n\tTAY\n\tLDA LevelDataPointersLo, Y\n\tSTA byte_RAM_5\n\tLDA LevelDataPointersHi, Y\n\tSTA byte_RAM_6\n\tLDA #>RawJarData\n\tSTA byte_RAM_2\n\tLDY #<RawJarData\n\tSTY byte_RAM_1\n\nCopyJarDataToMemory:\n\tLDA (byte_RAM_5), Y\n\tCMP #$FF ; This one actually terminates on any $FF read! Welp.\n\tBEQ CopyJarDataToMemoryFinished\n\n\tSTA (byte_RAM_1), Y\n\tINY\n\tJMP CopyJarDataToMemory\n\n; ---------------------------------------------------------------------------\n\nCopyJarDataToMemoryFinished:\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n; End of function GetJarPointers\n\n\nTileQuadPointersLo:\n\t.db <TileQuads1\n\t.db <TileQuads2\n\t.db <TileQuads3\n\t.db <TileQuads4\n\nTileQuadPointersHi:\n\t.db >TileQuads1\n\t.db >TileQuads2\n\t.db >TileQuads3\n\t.db >TileQuads4\n\nTileQuads1:\n\t.db $FE,$FE,$FE,$FE ; $00\n\t.db $B4,$B6,$B5,$B7 ; $04\n\t.db $B8,$FA,$B9,$FA ; $08\n\t.db $FA,$FA,$B2,$B3 ; $0C\n\t.db $BE,$BE,$BF,$BF ; $10\n\t.db $BF,$BF,$BF,$BF ; $14\n\t.db $4A,$4A,$4B,$4B ; $18\n\t.db $5E,$5F,$5E,$5F ; $1C\n\t.db $E8,$E8,$A9,$A9 ; $20\n\t.db $46,$FC,$46,$FC ; $24\n\t.db $A9,$A9,$A9,$A9 ; $28\n\t.db $FC,$FC,$FC,$FC ; $2C\n\t.db $E9,$E9,$A9,$A9 ; $30\n\t.db $FC,$48,$FC,$48 ; $34\n\t.db $11,$11,$11,$11 ; $38\n\t.db $22,$22,$22,$22 ; $3C\n\t.db $33,$33,$33,$33 ; $40\n\t.db $E8,$EB,$A9,$A9 ; $44\n\t.db $74,$76,$75,$77 ; $48\n\t.db $98,$9A,$99,$9B ; $4C\n\t.db $9C,$9A,$9D,$9B ; $50\n\t.db $9C,$9E,$9B,$9F ; $54\n\t.db $58,$5A,$59,$5B ; $58\n\t.db $5E,$5F,$5E,$5F ; $5C\n\t.db $8E,$8F,$8F,$8E ; $60\n\t.db $72,$73,$73,$72 ; $64\n\t.db $A6,$A6,$A7,$A7 ; $68\n\t.db $92,$93,$93,$92 ; $6C\n\t.db $74,$76,$75,$77 ; $70\n\t.db $70,$72,$71,$73 ; $74\n\t.db $71,$73,$71,$73 ; $78\n\t.db $24,$26,$25,$27 ; $7C\n\t.db $32,$34,$33,$35 ; $80\n\t.db $33,$35,$33,$35 ; $84\n\t.db $24,$26,$25,$27 ; $88\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads1 + $100, $FC\nENDIF\n\nTileQuads2:\n\t.db $FA,$FA,$FA,$FA ; $00\n\t.db $FA,$FA,$FA,$FA ; $04\n\t.db $FA,$FA,$FA,$FA ; $08\n\t.db $FA,$FA,$B0,$B1 ; $0C\n\t.db $FA,$FA,$B0,$B1 ; $10\n\t.db $FA,$FA,$B0,$B1 ; $14\n\t.db $FA,$FA,$B0,$B1 ; $18\n\t.db $FA,$FA,$B0,$B1 ; $1C\n\t.db $FA,$FA,$B0,$B1 ; $20\n\t.db $FA,$FA,$B0,$B1 ; $24\n\t.db $FA,$FA,$B0,$B1 ; $28\n\t.db $FA,$FA,$B0,$B1 ; $2C\n\t.db $FA,$FA,$B0,$B1 ; $30\n\t.db $FA,$FA,$B0,$B1 ; $34\n\t.db $A0,$A2,$A1,$A3 ; $38\n\t.db $80,$82,$81,$83 ; $3C\n\t.db $F4,$86,$F5,$87 ; $40\n\t.db $84,$86,$85,$87 ; $44\n\t.db $FC,$FC,$FC,$FC ; $48\n\t.db $AD,$FB,$AC,$AD ; $4C\n\t.db $AC,$AC,$AC,$AC ; $50\n\t.db $FB,$3B,$3B,$AC ; $54\n\t.db $FC,$FC,$FC,$FC ; $58\n\t.db $F4,$86,$F5,$87 ; $5C\n\t.db $FB,$49,$49,$FB ; $60\n\t.db $FE,$FE,$FE,$FE ; $64\n\t.db $FE,$FE,$6D,$FE ; $68\n\t.db $3C,$3E,$3D,$3F ; $6C\n\t.db $58,$FD,$59,$5A ; $70\n\t.db $5B,$5A,$FD,$FD ; $74\n\t.db $5B,$5C,$FD,$5D ; $78\n\t.db $FD,$FD,$5B,$5A ; $7C\n\t.db $6C,$FE,$FE,$FE ; $80\n\t.db $FE,$FE,$FE,$FE ; $84\n\t.db $FE,$6E,$FE,$6F ; $88\n\t.db $20,$22,$21,$23 ; $8C\n\t.db $6E,$6F,$70,$71 ; $90\n\t.db $57,$57,$FB,$FB ; $94\n\t.db $57,$57,$FE,$FE ; $98\n\t.db $D3,$D3,$FB,$FB ; $9C\n\t.db $D2,$D2,$FB,$FB ; $A0\n\t.db $7C,$7E,$7D,$7F ; $A4\n\t.db $CA,$CC,$CB,$CD ; $A8\n\t.db $CA,$CC,$CB,$CD ; $AC\n\t.db $C0,$C2,$C1,$C3 ; $B0\n\t.db $2C,$2E,$2D,$2F ; $B4\n\t.db $8E,$8F,$8F,$8E ; $B8\n\t.db $88,$8A,$89,$8B ; $BC\n\t.db $89,$8B,$89,$8B ; $C0\n\t.db $89,$8B,$8C,$8D ; $C4\n\t.db $88,$8A,$8C,$8D ; $C8\n\t.db $88,$8A,$89,$8B ; $CC\n\t.db $88,$8A,$89,$8B ; $D0\n\t.db $6A,$6C,$6B,$6D ; $D4\n\t.db $6C,$6C,$6D,$6D ; $D8\n\t.db $6C,$6E,$6D,$6F ; $DC\n\t.db $6C,$54,$6D,$55 ; $E0\n\t.db $32,$34,$33,$35 ; $E4\n\t.db $33,$35,$33,$35 ; $E8\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads2 + $100, $FC\nENDIF\n\nTileQuads3:\n\t.db $94,$95,$94,$95 ; $00\n\t.db $96,$97,$96,$97 ; $04\n\t.db $48,$49,$48,$49 ; $08\n\t.db $FE,$FE,$FE,$FE ; $0C\n\t.db $FB,$32,$32,$33 ; $10\n\t.db $33,$33,$33,$33 ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $34,$FB,$FD,$34 ; $1C\n\t.db $FB,$30,$FB,$FB ; $20\n\t.db $FB,$FB,$31,$FB ; $24\n\t.db $D0,$D0,$D0,$D0 ; $28\n\t.db $D1,$D1,$D1,$D1 ; $2C\n\t.db $64,$66,$65,$67 ; $30\n\t.db $68,$6A,$69,$6B ; $34\n\t.db $FA,$6C,$FA,$6C ; $38\n\t.db $6D,$FA,$6D,$FA ; $3C\n\t.db $92,$93,$93,$92 ; $40\n\t.db $AE,$AF,$AE,$AF ; $44\n\t.db $78,$7A,$79,$7B ; $48\n\t.db $A8,$A8,$AF,$AE ; $4C\n\t.db $94,$95,$94,$95 ; $50\n\t.db $96,$97,$96,$97 ; $54\n\t.db $22,$24,$23,$25 ; $58\n\t.db $92,$93,$93,$92 ; $5C\n\t.db $50,$51,$50,$51 ; $60\n\t.db $AE,$AF,$AE,$AF ; $64\n\t.db $50,$51,$50,$51 ; $68\n\t.db $8E,$8F,$8F,$8E ; $6C\n\t.db $72,$73,$73,$72 ; $70\n\t.db $50,$52,$51,$53 ; $74\n\t.db $FD,$FD,$FD,$FD ; $78\n\t.db $FB,$36,$36,$4F ; $7C\n\t.db $4F,$4E,$4E,$4F ; $80\n\t.db $4E,$4F,$4F,$4E ; $84\n\t.db $92,$93,$93,$92 ; $88\n\t.db $8E,$8F,$8F,$8E ; $8C\n\t.db $44,$45,$45,$44 ; $90\n\t.db $4F,$37,$4E,$FE ; $94\n\t.db $4F,$3A,$4E,$FE ; $98\n\t.db $4F,$4E,$37,$38 ; $9C\n\t.db $4A,$4B,$FE,$FE ; $A0\n\t.db $72,$73,$4A,$4B ; $A4\n\t.db $40,$42,$41,$43 ; $A8\n\t.db $41,$43,$41,$43 ; $AC\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads3 + $100, $FC\nENDIF\nTileQuads4:\n\t.db $40,$42,$41,$43 ; $00\n\t.db $40,$42,$41,$43 ; $04\n\t.db $BA,$BC,$BB,$BD ; $08\n\t.db $BA,$BC,$90,$91 ; $0C\n\t.db $FA,$FA,$FA,$FA ; $10\n\t.db $FA,$FA,$FA,$FA ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $61,$63,$61,$63 ; $1C\n\t.db $65,$63,$65,$63 ; $20\n\t.db $65,$67,$65,$67 ; $24\n\t.db $60,$62,$61,$63 ; $28\n\t.db $32,$34,$33,$35 ; $2C\n\t.db $64,$62,$65,$63 ; $30\n\t.db $36,$34,$37,$35 ; $34\n\t.db $64,$66,$65,$67 ; $38\n\t.db $36,$38,$37,$39 ; $3C\n\t.db $68,$62,$61,$63 ; $40\n\t.db $64,$69,$65,$67 ; $44\n\t.db $46,$62,$61,$63 ; $48\n\t.db $64,$47,$65,$67 ; $4C\n\t.db $BA,$BC,$BB,$BD ; $50\n\t.db $70,$72,$71,$73 ; $54\n\t.db $8E,$8F,$8F,$8E ; $58\n\t.db $72,$73,$73,$72 ; $5C\n\t.db $44,$45,$45,$44 ; $60\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads4 + $100, $FC\nENDIF\n\nEndOfLevelDoor: ; PPU data\n\t.db $22,$D0,$04,$FC,$FC,$AD,$FA\n\t.db $22,$F0,$04,$FC,$FC,$AC,$AD\n\t.db $23,$10,$06,$FC,$FC,$AC,$AC,$AD,$FA\n\t.db $23,$30,$06,$FC,$FC,$AC,$AC,$AC,$AD\n\t.db $00\n\nEndOfLevelDoorRowOffsets:\n\t.db $00\n\t.db $07\n\t.db $0E\n\t.db $17\n\nDefaultCHRAnimationSpeed_Level:\n\t.db $00 ; 1-1\n\t.db $00 ; 1-1\n\t.db $06 ; 3-1\n\t.db $06 ; 3-1\n\t.db $0A ; 4-2\n\t.db $0A ; 4-2\n\t.db $0B ; 4-3\n\t.db $0D ; 5-2\n\t.db $0E ; 5-3\n\t.db $11 ; 6-3\n\t.db $11 ; 6-3\n\t.db $12 ; 7-1\n\t.db $12 ; 7-1\n\t.db $12 ; 7-1\n\t.db $12 ; 7-1\n\t.db $13 ; 7-2\n\nDefaultCHRAnimationSpeed_Area:\n\t.db $01 ; 1-1 upward climb\n\t.db $05 ; 1-1 birdo\n\t.db $01 ; 3-1 main part\n\t.db $03 ; 3-1 sky part\n\t.db $01 ; 4-2 sky ice\n\t.db $02 ; 4-2 whales\n\t.db $04 ; 4-3 tower tops\n\t.db $02 ; 5-2 upward climb\n\t.db $04 ; 5-3 miniboss birdo\n\t.db $03 ; 6-3 upward climb\n\t.db $04 ; 6-3 sky pyramid\n\t.db $00 ; 7-1 beginning area\n\t.db $01 ; 7-1 albatoss area\n\t.db $02 ; 7-1 cloud maze\n\t.db $03 ; 7-1 upward climb\n\t.db $00 ; 7-2 entrance\n\nBackgroundCHRAnimationSpeedByWorld:\n\t.db $07 ; World 1\n\t.db $07 ; World 2\n\t.db $07 ; World 3\n\t.db $07 ; World 4\n\t.db $09 ; World 5\n\t.db $07 ; World 6\n\t.db $05 ; World 7\n\t.db $0B ; Default\n\n\n;\n; Increments the frame of the CHR animation using the world/area speed\n;\nAnimateCHRRoutine:\n\tDEC BackgroundCHR2Timer\n\tBPL AnimateCHRRoutine_Exit\n\n\tLDX #$07 ; default index for animation speed table\n\n\t; Certain level/area combinations use a fixed animation speed.\n\t; It seems to be used in areas that prominently feature cloud platforms.\n\t; This loop performs the lookup to see if that should happen.\n\tLDY #(DefaultCHRAnimationSpeed_Area - DefaultCHRAnimationSpeed_Level - 1)\nAnimateCHRRoutine_DefaultSpeedLoop:\n\tLDA CurrentLevel_Init\n\tCMP DefaultCHRAnimationSpeed_Level, Y\n\tBNE AnimateCHRRoutine_DefaultSpeedNext\n\n\tLDA CurrentLevelArea_Init\n\tCMP DefaultCHRAnimationSpeed_Area, Y\n\tBEQ AnimateCHRRoutine_SetSpeed\n\nAnimateCHRRoutine_DefaultSpeedNext:\n\tDEY\n\tBPL AnimateCHRRoutine_DefaultSpeedLoop\n\n\tLDX CurrentWorldTileset\n\nAnimateCHRRoutine_SetSpeed:\n\tLDA BackgroundCHRAnimationSpeedByWorld, X\n\tSTA BackgroundCHR2Timer\n\tLDY BackgroundCHR2\n\tINY\n\tINY\n\nAnimatedCHRCheck:\nIFDEF FIX_CHR_CYCLE\n\tCPY #CHRBank_Animated8 + 1\nELSE\n\t; Bug: This is in the original game\n\t; The last frame of the animation is effectively skipped because\n\t; we immediately reset to the first frame when we hit it.\n\tCPY #CHRBank_Animated8\nENDIF\n\n\tBCC AnimateCHRRoutine_SetCHR\n\n\tLDY #CHRBank_Animated1\n\nAnimateCHRRoutine_SetCHR:\n\tSTY BackgroundCHR2\n\nAnimateCHRRoutine_Exit:\n\tRTS\n\n\n;\n; Looks for an unused sprite slot\n;\n; Input\n;   X = enemy slot\n; Output\n;   X = byte_RAM_12\n;   Y = sprite slot\n;\nFindSpriteSlot:\n\tLDX #$08\n\nFindSpriteSlot_Loop:\n\tLDA EnemyState, X\n\tBEQ FindSpriteSlot_CheckInactiveSlot\n\nFindSpriteSlot_LoopNext:\n\tDEX\n\tBPL FindSpriteSlot_Loop\n\nFindSpriteSlot_Default:\n\t; Check that both halves of the default sprite slot are unused\n\tLDY #$00\n\tLDA SpriteDMAArea, Y\n\tCMP #$F8\n\tBNE FindSpriteSlot_FallbackExit\n\n\tLDA SpriteDMAArea + 4, Y\n\tCMP #$F8\n\tBEQ FindSpriteSlot_Exit\n\nFindSpriteSlot_FallbackExit:\n\t; If all else fails, here's $10\n\tLDY #$10\n\nFindSpriteSlot_Exit:\n\tLDX byte_RAM_12\n\tRTS\n\n; The object slot is inactive, so check that something else hasn't claimed the\n; corresponding sprite slot.\nFindSpriteSlot_CheckInactiveSlot:\n\t; Calculate the sprite slot using the flicker offset\n\tTXA\n\tCLC\n\tADC SpriteFlickerSlot\n\tTAY\n\tLDA SpriteFlickerDMAOffset, Y\n\n\t; Check that both halves of the object's sprite slot are unused\n\tTAY\n\tLDA SpriteDMAArea, Y\n\tCMP #$F8\n\tBNE FindSpriteSlot_LoopNext\n\tLDA SpriteDMAArea + 4, Y\n\tCMP #$F8\n\tBNE FindSpriteSlot_LoopNext\n\tBEQ FindSpriteSlot_Exit\n\n\n; Unused space in the original ($FB36 - $FDFF)\nunusedSpace $FE00, $FF\n\nIFDEF RESET_CHR_LATCH\nCHRBank_Boss:\n\t.db CHRBank_EnemiesGrass ; Mouser\n\t.db CHRBank_EnemiesDesert ; Tryclyde\n\t.db CHRBank_EnemiesIce ; Fryguy\n\t.db CHRBank_EnemiesGrass ; Clawgrip\n\t.db CHRBank_EnemiesSky ; Wart\nENDIF\n\nCHRBank_WorldEnemies:\n\t.db CHRBank_EnemiesGrass\n\t.db CHRBank_EnemiesDesert\n\t.db CHRBank_EnemiesGrass\n\t.db CHRBank_EnemiesIce\n\t.db CHRBank_EnemiesGrass\n\t.db CHRBank_EnemiesDesert\n\t.db CHRBank_EnemiesSky\n\nCHRBank_WorldBossBackground:\n\t.db CHRBank_BackgroundGrass\n\t.db CHRBank_BackgroundDesert\n\t.db CHRBank_BackgroundGrass\n\t.db CHRBank_BackgroundIce\n\t.db CHRBank_BackgroundGrassClawgrip\n\t.db CHRBank_BackgroundDesert\n\t.db CHRBank_BackgroundSky\n\nCHRBank_CharacterSize:\n\t.db CHRBank_Mario\n\t.db CHRBank_MarioSmall\n\t.db CHRBank_Princess\n\t.db CHRBank_PrincessSmall\n\t.db CHRBank_Toad\n\t.db CHRBank_ToadSmall\n\t.db CHRBank_Luigi\n\t.db CHRBank_LuigiSmall\n\n\nLoadWorldCHRBanks:\n\tLDY #CHRBank_CommonEnemies1\n\tSTY SpriteCHR2\n\tINY\n\tSTY SpriteCHR3\n\tLDY CurrentWorldTileset\n\tLDA CHRBank_WorldEnemies, Y\n\tSTA SpriteCHR4\n\tLDA CHRBank_WorldBossBackground, Y\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_Animated1\n\tSTA BackgroundCHR2\n\nIFDEF RESET_CHR_LATCH\n\tLDY BossTileset\n\tBMI LoadCharacterCHRBanks\n\tLDA CHRBank_Boss, Y\n\tSTA SpriteCHR4\nENDIF\n\nLoadCharacterCHRBanks:\n\tLDA CurrentCharacter\n\tASL A\n\tORA PlayerCurrentSize\n\tTAY\n\tLDA CHRBank_CharacterSize, Y\n\tSTA SpriteCHR1\n\tRTS\n\nIFDEF RESET_CHR_LATCH\nCheckResetCHRLatch:\n\tLDA ResetCHRLatch\n\tBEQ CheckResetCHRLatch_Exit\n\n\tLDA #$00\n\tSTA ResetCHRLatch\n\n\tLDY #CHRBank_CommonEnemies1\n\tSTY SpriteCHR2\n\tINY\n\tSTY SpriteCHR3\n\n\tLDY CurrentWorldTileset\n\tLDA CHRBank_WorldEnemies, Y\n\tSTA SpriteCHR4\n\tLDA CHRBank_WorldBossBackground, Y\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_Animated1\n\tSTA BackgroundCHR2\n\n\tLDY BossTileset\n\tBMI CheckResetCHRLatch_Exit\n\tLDA CHRBank_Boss, Y\n\tSTA SpriteCHR4\n\nCheckResetCHRLatch_Exit:\n\tRTS\nENDIF\n\n\nLoadTitleScreenCHRBanks:\n\tLDA #CHRBank_TitleScreenBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_TitleScreenBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadCelebrationSceneBackgroundCHR:\n\tLDA #CHRBank_CelebrationBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_CelebrationBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadCharacterSelectCHRBanks:\n\tLDA #CHRBank_CharacterSelectSprites\n\tSTA SpriteCHR1\n\tLDA #CHRBank_CharacterSelectBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_CharacterSelectBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nTitleCardCHRBanks:\n\t.db CHRBank_TitleCardGrass\n\t.db CHRBank_TitleCardDesert\n\t.db CHRBank_TitleCardGrass\n\t.db CHRBank_TitleCardIce\n\t.db CHRBank_TitleCardGrass\n\t.db CHRBank_TitleCardDesert\n\t.db CHRBank_TitleCardSky\n\n\nChangeTitleCardCHR:\n\tLDY CurrentWorld\n\tLDA TitleCardCHRBanks, Y\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadBonusChanceCHRBanks:\n\tLDA #CHRBank_ChanceBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_ChanceBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadMarioSleepingCHRBanks:\n\tLDY #CHRBank_EndingSprites\n\tSTY SpriteCHR1\n\tINY\n\tSTY SpriteCHR2\n\tLDA #CHRBank_EndingBackground1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_EndingBackground1 + 2\n\tSTA BackgroundCHR2\n\tRTS\n\n\n; Unused space in the original ($FE97 - $FF4F)\nunusedSpace $FF50, $FF\n\n\n; public RESET\n; This code is called when the NES is reset\nRESET:\n\tSEI\n\tCLD\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background0000 | PPUCtrl_SpriteSize8x8 | PPUCtrl_NMIDisabled\n\tSTA PPUCTRL\n\tLDX #$FF ; Reset stack pointer\n\tTXS\n\nRESET_VBlankLoop:\n\t; Wait for first VBlank\n\tLDA PPUSTATUS\n\tAND #PPUStatus_VBlankHit\n\tBEQ RESET_VBlankLoop\n\nRESET_VBlank2Loop:\n\t; Wait for second VBlank\n\tLDA PPUSTATUS\n\tBPL RESET_VBlank2Loop\n\nIFDEF DEBUG\n\tLDA #$00\n\tSTA Debug_InMenu\nENDIF\n\nIF INES_MAPPER == MAPPER_FME7\n\tLDA #$0C\n\tSTA $8000\n\tLDA #VMirror\n\tSTA $A000\nELSE\n\tLDA #VMirror\n\tSTA NametableMapping\n\tLDA #$80\n\tSTA $A001 ; PRG-RAM protect\nENDIF\n\tJMP StartGame\n\n\n;\n; Switches the current CHR banks\n;\nIF INES_MAPPER == MAPPER_FME7\nChangeCHRBanks:\n\tJMP ChangeCHRBanks_FME7\n\n\t; Maintain location of the next subroutine\n\tunusedSpace $FF85, $FF\n\nELSEIF INES_MAPPER == MAPPER_MMC5\nChangeCHRBanks:\n\tJMP ChangeCHRBanks_MMC5\n\n\t; Maintain location of the next subroutine\n\tunusedSpace $FF85, $FF\n\nELSE ; INES_MAPPER == MAPPER_MMC3\nChangeCHRBanks:\n\tLDY #$05\nChangeCHRBanks_Loop:\n\tTYA\n\tORA #$80\n\tSTA $8000\n\tLDA BackgroundCHR1, Y\n\tSTA $8001\n\tDEY\n\tBPL ChangeCHRBanks_Loop\n\n\tRTS\nENDIF\n\n\n;\n; Calling this one will save the changed bank\n; to RAM, so if something uses the below version\n; the original bank set with this can be restored.\n;\nChangeMappedPRGBank:\n\tSTA MMC3PRGBankTemp ; See below comment.\n\n;\n; Any call to this sub switches the lower two banks together, eg:\n; LDA 0 JSR Change... = Bank 0/1\n; LDA 1 JSR Change... = Bank 2/3\n; etc.\n;\n; This version changes the bank numbers without\n; saving the change to RAM, so the previous bank\n; can be recalled later (mostly for temporary switches,\n; like music handling and such)\n;\nChangeMappedPRGBankWithoutSaving:\n\tASL A\n\nIF INES_MAPPER == MAPPER_FME7\n\tPHA\n\tLDA #$09\n\tSTA $8000\n\tPLA\n\tSTA $A000 ; Change first bank\n\tORA #$01 ; Use the bank right after this one next\n\tPHA\n\tLDA #$0A\n\tSTA $8000\n\tPLA\n\tSTA $A000 ; Change second bank\n\n\tRTS\n\nELSEIF INES_MAPPER == MAPPER_MMC5\n\tORA #$80\n\tSTA $5114\n\tORA #$01\n\tSTA $5115\n\tRTS\n\n\t; Maintain location of the next subroutine\n\tunusedSpace $FFA0, $FF\n\nELSE ; INES_MAPPER == MAPPER_MMC3\n\tPHA\n\tLDA #$86\n\tSTA $8000\n\tPLA\n\tSTA $8001 ; Change first bank\n\tORA #$01 ; Use the bank right after this one next\n\tPHA\n\tLDA #$87\n\tSTA $8000\n\tPLA\n\tSTA $8001 ; Change second bank\n\tRTS\n\nENDIF\n\n\n;\n; Writing to $A000 sets mirroring.\n;   A = $00 for vertical\n;   A = $01 for horizontal\n;\nChangeNametableMirroring:\nIF INES_MAPPER == MAPPER_FME7\n\tPHA\n\tLDA #$0C\n\tSTA $8000\n\tPLA\n\tSTA $A000\nELSE\n\tSTA NametableMapping\nENDIF\n\tRTS\n\n; Unused space in the original ($FFA4 - $FFEA)\nunusedSpace $FFEB, $FF\n\n; Technically you can delete the stuff from here to the vector table as well,\n; but because it looks slightly less like unused space it isn't being removed.\n\n; Not used; leftover part of FamicomBox cart title?\nUnusedTextZELDA:\n\t.db 'ZELDA'\n\n; Note that this is NOT CODE.\n; If the NES actually hits a BRK, the game will probably just explode.\n; If you wanted, you could write  some sort of crash handler though.\nIRQ:\n\t.db $DF\n\t.db $E6\n\t.db $00\n\t.db $00\n\t.db $38\n\t.db $04\n\t.db $01\n\t.db $04\n\t.db $01\n\t.db $BE\n\n; Ensure our vectors are always here\n\t.pad $FFFA, $FF\n\n; Vectors for the NES CPU. These should ALWAYS be at $FFFA!\n; Add a .pad or .base before here if you change code above.\n; NMI = VBlank\n; RESET = ...well, reset.\n; IRQ is not used, but you could if you wanted.\nNESVectorTables:\n\t.dw NMI\nIF INES_MAPPER == MAPPER_FME7\n\t.dw RESET_FME7\nELSEIF INES_MAPPER == MAPPER_MMC5\n\t.dw RESET_MMC5\nELSE ; INES_MAPPER == MAPPER_MMC3\n\t.dw RESET\nENDIF\n\t.dw IRQ\n","sections":[{"comment":"\nBank E & Bank F\n===============\n\nWhat's inside: Lots of game logic.\n\n- DPCM data\n- Joypad input reading\n- PPU update routines\n- Game initialization routines\n- Title card display routines\n- Area initialization routines\n- Music cue routines\n- Character select (sprite data, palettes, logic)\n- Bonus chance (sprite data, palettes, logic)\n- Game Over / Continue screen\n- Pause screen\n- Health logic\n- Bottomless pit death logic\n- Bounding box data for collisions\n- and more!\n","content":"","htmlComment":"<h1>Bank E &#x26; Bank F</h1>\n<p>What's inside: Lots of game logic.</p>\n<ul>\n<li>DPCM data</li>\n<li>Joypad input reading</li>\n<li>PPU update routines</li>\n<li>Game initialization routines</li>\n<li>Title card display routines</li>\n<li>Area initialization routines</li>\n<li>Music cue routines</li>\n<li>Character select (sprite data, palettes, logic)</li>\n<li>Bonus chance (sprite data, palettes, logic)</li>\n<li>Game Over / Continue screen</li>\n<li>Pause screen</li>\n<li>Health logic</li>\n<li>Bottomless pit death logic</li>\n<li>Bounding box data for collisions</li>\n<li>and more!</li>\n</ul>\n","htmlContent":"","line":23},{"comment":"Include DPCM samples","content":".include \"src/music/dpcm-samples.asm\"\n","htmlComment":"<p>Include DPCM samples</p>\n","htmlContent":"<span class=\"token directive keyword\">.include</span> <a class=\"token string\" href=\"/smb2/src/music/dpcm-samples.asm\">\"src/music/dpcm-samples.asm\"</a>\n","line":25},{"comment":"PPU update buffers used to update the screen","content":"ScreenUpdateBufferPointers:\n\t.dw PPUBuffer_301\n\t.dw PPUBuffer_583\n\t.dw PPUBuffer_55F\n\t.dw PPUBuffer_CharacterSelect\n\t.dw PPUBuffer_BANKE_DE7A\n\t.dw PPUBuffer_Text_Game_Over\n\t.dw PPUBuffer_67B\n\t.dw PPUBuffer_Text_Retry\n\t.dw PPUBuffer_7168\n\t.dw PPUBuffer_67B\n\t.dw PPUBuffer_693\n\t.dw PPUBuffer_6AB\n\t.dw PPUBuffer_6BD\n\t.dw PPUBuffer_6CC\n\t.dw PPUBuffer_6E9\n\t.dw PPUBuffer_6DA\n\t.dw PPUBuffer_6DF\n\t.dw PPUBuffer_6E4\n\t.dw PPUBuffer_7194\n\t.dw PPUBuffer_71A8\n\t.dw PPUBuffer_721B\n\t.dw PPUBuffer_TitleCard\n\t.dw PPUBuffer_PauseExtraLife\n\t.dw BonusChanceLayoutRAM\n\nPPUBuffer_CharacterSelect:\n\t.db $21,$49,$06,$E9,$E5,$DE,$DA,$EC,$DE ; PLEASE\n\t.db $21,$50,$06,$EC,$DE,$E5,$DE,$DC,$ED ; SELECT\n\t.db $21,$8C,$06,$E9,$E5,$DA,$F2,$DE,$EB ; PLAYER\n\t.db $20,$00,$20,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8 ; Probably the checkerboard diamonds or w/e\n\t.db $B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7 ; $F\n\t.db $B8,$B7,$B8,$B7,$B8 ; $1E\n\t.db $20,$20,$20,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA\n\t.db $B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9 ; $F\n\t.db $BA,$B9,$BA,$B9,$BA ; $1E\n\t.db $23,$80,$20,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8\n\t.db $B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7,$B8,$B7 ; $F\n\t.db $B8,$B7,$B8,$B7,$B8 ; $1E\n\t.db $23,$A0,$20,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA\n\t.db $B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9,$BA,$B9 ; $F\n\t.db $BA,$B9,$BA,$B9,$BA ; $1E\n\t.db $20,$00,$9E,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9\n\t.db $B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7 ; $F\n\t.db $B9,$B7,$B9 ; $1E\n\t.db $20,$01,$9E,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA\n\t.db $B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8 ; $F\n\t.db $BA,$B8,$BA ; $1E\n\t.db $20,$1E,$9E,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9\n\t.db $B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7,$B9,$B7 ; $F\n\t.db $B9,$B7,$B9 ; $1E\n\t.db $20,$1F,$9E,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA\n\t.db $B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8,$BA,$B8 ; $F\n\t.db $BA,$B8,$BA ; $1E\n\t.db $20,$42,$5C,$FD\n\t.db $20,$62,$5C,$FD\n\t.db $20,$47,$05,$00,$01,$02,$03,4\n\t.db $20,$54,$05,$05,$06,$07,$08,9\n\t.db $20,$63,$0A,$A,$0B,$C,$0D,$E,$0F,$10,$11,$12,$13\n\t.db $20,$73,$0A,$14,$15,$16,$17,$18,$19,$1A,$1B,$1C,$1D\n\t.db $20,$82,$1C,$1E,$1F,$20,$21,$22,$23,$24,$25,$26,$27,$28,$29\n\t.db $FD,$FD,$FD,$FD,$2A,$2B,$2C,$2D,$2E,$2F,$30,$31,$32,$33,$34 ; $F\n\t.db $35 ; $1E\n\t.db $20,$A2,$06,$36,$37,$38,$39,$3A,$3B\n\t.db $20,$AB,$0A,$3C,$3D,$3E,$3F,$40,$43,$44,$45,$46,$47\n\t.db $20,$B8,$06,$48,$49,$4A,$4B,$4C,$4D\n\t.db $20,$C2,$05,$4E,$4F,$50,$51,$52\n\t.db $20,$D9,$05,$53,$54,$55,$56,$57\n\t.db $20,$E2,$04,$58,$59,$5A,$5B\n\t.db $20,$E6,$CD,$5C\n\t.db $20,$F9,$CD,$5C\n\t.db $20,$FA,$04,$5D,$5E,$5F,$60\n\t.db $21,$02,$83,$61,$64,$67\n\t.db $21,$03,$8B,$62,$65,$68,$6A,$6C,$6F,$72,$75,$78,$7B,$7E\n\t.db $21,$04,$94,$63,$66,$69,$6B,$6D,$70,$73,$76,$79,$7C,$7F,$81\n\t.db $82,$83,$84,$85,$86,$87,$88,$89 ; $F\n\t.db $21,$85,$89,$6E,$71,$74,$77,$7A,$7D,$80,$6E,$6E\n\t.db $21,$9A,$89,$97,$9A,$9D,$BB,$A0,$A3,$A6,$A9,$AB\n\t.db $21,$1B,$94,$8C,$8F,$92,$95,$98,$9B,$9E,$BC,$A1,$A4,$A7,$AA\n\t.db $AC,$AD,$AE,$B0,$B1,$B2,$B3,$B4 ; $F\n\t.db $21,$1C,$8B,$8D,$90,$93,$96,$99,$9C,$9F,$BD,$A2,$A5,$A8\n\t.db $21,$1D,$83,$8E,$91,$94\n\t.db $21,$62,$D1,$FD\n\t.db $21,$7D,$D1,$FD\n\t.db $22,$63,$C9,$FD,$22,$7C,$C9,$FD,$22,$86,$82,$8A,$8B,$22,$99\n\t.db $82,$8A,$8B ; $F\n\t.db $00\nPPUBuffer_BANKE_DE7A:\n\t.db $23,$C0,$09,$3E,$0E,$E,$0E,$E,$0E,$E,$8E,$32\n\t.db $23,$CF,$01,$8C\n\t.db $23,$D0,$10,$32,$00,$A0,$A0,$A0,$20,$00,$8C,$32,$00,$00,$0A,$02,$00,$00,$8C\n\t.db $23,$E0,$09,$32,$00,$00,$0E,$00,$00,$00,$8C,$32\n\t.db $23,$EF,$01,$8C\n\t.db $23,$F0,$06,$32,$00,$A0,$A0,$A0,$A0\n\t.db $23,$F7,$09,$8C,$0E,$E,$0E,$E,$0E,$E,$0E,$E\n\t.db $24,$00,$60,$FF\n\t.db $24,$20,$60,$FF\n\t.db $24,$40,$60,$FF\n\t.db $24,$60,$60,$FF\n\t.db $27,$40,$60,$FF\n\t.db $27,$60,$60,$FF\n\t.db $27,$80,$60,$FF\n\t.db $27,$A0,$60,$FF\n\t.db $24,$80,$D6,$FF\n\t.db $24,$81,$D6,$FF\n\t.db $24,$82,$D6,$FF\n\t.db $24,$9D,$D6,$FF\n\t.db $24,$9E,$D6,$FF\n\t.db $24,$9F,$D6,$FF\n\t.db $24,$83,$01,$D0\n\t.db $24,$9C,$01,$D8\n\t.db $24,$84,$58,$FB\n\t.db $24,$A3,$D4,$D1\n\t.db $24,$BC,$D4,$D7\n\t.db $24,$A4,$58,$FB\n\t.db $24,$C4,$58,$FB\n\t.db $24,$E4,$58,$FB\n\t.db $25,$04,$58,$FB\n\t.db $25,$24,$58,$FB\n\t.db $25,$44,$58,$FB\n\t.db $25,$64,$58,$FB\n\t.db $25,$84,$58,$FB\n\t.db $25,$A4,$58,$FB\n\t.db $25,$C4,$58,$FB\n\t.db $25,$E4,$58,$FB\n\t.db $26,$04,$58,$FB\n\t.db $26,$24,$58,$FB\n\t.db $26,$44,$58,$FB\n\t.db $26,$64,$58,$FB\n\t.db $26,$84,$58,$FB\n\t.db $26,$A4,$58,$FB\n\t.db $26,$C4,$58,$FB\n\t.db $26,$E4,$58,$FB\n\t.db $27,$23,$01,$D2\n\t.db $27,$3C,$01,$D6\n\t.db $27,$24,$58,$D3\n\t.db $27,$C8,$08,$44,$FF,$BF,$AF,$AF,$AF,$FF,$11\n\t.db $27,$D0,$10,$44,$BF,$AF,$AF,$AF,$AF,$EF,$11,$44,$FF,$FF,$FF\n\t.db $FF,$FF,$FF,$11 ; $F\n\t.db $27,$E0,$10,$44,$FF,$FF,$FF,$FF,$FF,$FF,$11,$44,$FF,$FF,$FF\n\t.db $FF,$FF,$AF,$11 ; $F\n\t.db $27,$F0,$08,$44,$05,$05,$05,$05,$05,$05,$01\n\t.db $27,$04,$58,$FB\n\t.db $00\n","htmlComment":"<p>PPU update buffers used to update the screen</p>\n","htmlContent":"ScreenUpdateBufferPointers:\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">583</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">55</span>F\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_CharacterSelect\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_BANKE_DE<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_Text_Game_Over\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">67</span>B\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_Text_Retry\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">7168</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">67</span>B\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">693</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>AB\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>BD\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>CC\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>E<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>DA\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>DF\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">6</span>E<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">7194</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">71</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_<span class=\"token decimalnumber string\">721</span>B\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_TitleCard\n\t<span class=\"token directive keyword\">.dw</span> PPUBuffer_PauseExtraLife\n\t<span class=\"token directive keyword\">.dw</span> BonusChanceLayoutRAM\n\nPPUBuffer_CharacterSelect:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$E9</span>,<span class=\"token hexnumber string\">$E5</span>,<span class=\"token hexnumber string\">$DE</span>,<span class=\"token hexnumber string\">$DA</span>,<span class=\"token hexnumber string\">$EC</span>,<span class=\"token hexnumber string\">$DE</span> <span class=\"token comment\">; PLEASE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$EC</span>,<span class=\"token hexnumber string\">$DE</span>,<span class=\"token hexnumber string\">$E5</span>,<span class=\"token hexnumber string\">$DE</span>,<span class=\"token hexnumber string\">$DC</span>,<span class=\"token hexnumber string\">$ED</span> <span class=\"token comment\">; SELECT</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$E9</span>,<span class=\"token hexnumber string\">$E5</span>,<span class=\"token hexnumber string\">$DA</span>,<span class=\"token hexnumber string\">$F2</span>,<span class=\"token hexnumber string\">$DE</span>,<span class=\"token hexnumber string\">$EB</span> <span class=\"token comment\">; PLAYER</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span> <span class=\"token comment\">; Probably the checkerboard diamonds or w/e</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B8</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$BA</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$1E</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$B7</span>,<span class=\"token hexnumber string\">$B9</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$1F</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$BA</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$5C</span>,<span class=\"token hexnumber string\">$FD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$5C</span>,<span class=\"token hexnumber string\">$FD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$47</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$54</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$07</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$0A</span>,$<span class=\"token register variable\">A</span>,<span class=\"token hexnumber string\">$0B</span>,$C,<span class=\"token hexnumber string\">$0D</span>,$E,<span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$12</span>,<span class=\"token hexnumber string\">$13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$14</span>,<span class=\"token hexnumber string\">$15</span>,<span class=\"token hexnumber string\">$16</span>,<span class=\"token hexnumber string\">$17</span>,<span class=\"token hexnumber string\">$18</span>,<span class=\"token hexnumber string\">$19</span>,<span class=\"token hexnumber string\">$1A</span>,<span class=\"token hexnumber string\">$1B</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$1D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$1E</span>,<span class=\"token hexnumber string\">$1F</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$28</span>,<span class=\"token hexnumber string\">$29</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$2A</span>,<span class=\"token hexnumber string\">$2B</span>,<span class=\"token hexnumber string\">$2C</span>,<span class=\"token hexnumber string\">$2D</span>,<span class=\"token hexnumber string\">$2E</span>,<span class=\"token hexnumber string\">$2F</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$31</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$34</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$A2</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$38</span>,<span class=\"token hexnumber string\">$39</span>,<span class=\"token hexnumber string\">$3A</span>,<span class=\"token hexnumber string\">$3B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$AB</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$3C</span>,<span class=\"token hexnumber string\">$3D</span>,<span class=\"token hexnumber string\">$3E</span>,<span class=\"token hexnumber string\">$3F</span>,<span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$43</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$47</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span>,<span class=\"token hexnumber string\">$4C</span>,<span class=\"token hexnumber string\">$4D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$C2</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$52</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$D9</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$53</span>,<span class=\"token hexnumber string\">$54</span>,<span class=\"token hexnumber string\">$55</span>,<span class=\"token hexnumber string\">$56</span>,<span class=\"token hexnumber string\">$57</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$E2</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$59</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$5B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$E6</span>,<span class=\"token hexnumber string\">$CD</span>,<span class=\"token hexnumber string\">$5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$F9</span>,<span class=\"token hexnumber string\">$CD</span>,<span class=\"token hexnumber string\">$5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$5D</span>,<span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span>,<span class=\"token hexnumber string\">$60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$83</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$67</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$68</span>,<span class=\"token hexnumber string\">$6A</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6F</span>,<span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$75</span>,<span class=\"token hexnumber string\">$78</span>,<span class=\"token hexnumber string\">$7B</span>,<span class=\"token hexnumber string\">$7E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$66</span>,<span class=\"token hexnumber string\">$69</span>,<span class=\"token hexnumber string\">$6B</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$76</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$7C</span>,<span class=\"token hexnumber string\">$7F</span>,<span class=\"token hexnumber string\">$81</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$83</span>,<span class=\"token hexnumber string\">$84</span>,<span class=\"token hexnumber string\">$85</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$87</span>,<span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$89</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$85</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$74</span>,<span class=\"token hexnumber string\">$77</span>,<span class=\"token hexnumber string\">$7A</span>,<span class=\"token hexnumber string\">$7D</span>,<span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$6E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$9A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$97</span>,<span class=\"token hexnumber string\">$9A</span>,<span class=\"token hexnumber string\">$9D</span>,<span class=\"token hexnumber string\">$BB</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A3</span>,<span class=\"token hexnumber string\">$A6</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$AB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$1B</span>,<span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$98</span>,<span class=\"token hexnumber string\">$9B</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$A1</span>,<span class=\"token hexnumber string\">$A4</span>,<span class=\"token hexnumber string\">$A7</span>,<span class=\"token hexnumber string\">$AA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AD</span>,<span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span>,<span class=\"token hexnumber string\">$B2</span>,<span class=\"token hexnumber string\">$B3</span>,<span class=\"token hexnumber string\">$B4</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$8D</span>,<span class=\"token hexnumber string\">$90</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$99</span>,<span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$9F</span>,<span class=\"token hexnumber string\">$BD</span>,<span class=\"token hexnumber string\">$A2</span>,<span class=\"token hexnumber string\">$A5</span>,<span class=\"token hexnumber string\">$A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$1D</span>,<span class=\"token hexnumber string\">$83</span>,<span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$91</span>,<span class=\"token hexnumber string\">$94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$FD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$7D</span>,<span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$FD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$C9</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$7C</span>,<span class=\"token hexnumber string\">$C9</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$99</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\nPPUBuffer_BANKE_DE<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$C0</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$3E</span>,<span class=\"token hexnumber string\">$0E</span>,$E,<span class=\"token hexnumber string\">$0E</span>,$E,<span class=\"token hexnumber string\">$0E</span>,$E,<span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$32</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$CF</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$32</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$EF</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$F0</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$F7</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$0E</span>,$E,<span class=\"token hexnumber string\">$0E</span>,$E,<span class=\"token hexnumber string\">$0E</span>,$E,<span class=\"token hexnumber string\">$0E</span>,$E\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$D6</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$81</span>,<span class=\"token hexnumber string\">$D6</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$D6</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$9D</span>,<span class=\"token hexnumber string\">$D6</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$D6</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$9F</span>,<span class=\"token hexnumber string\">$D6</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$83</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$D0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$D8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$84</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$A3</span>,<span class=\"token hexnumber string\">$D4</span>,<span class=\"token hexnumber string\">$D1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$D4</span>,<span class=\"token hexnumber string\">$D7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$A4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$C4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$E4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$84</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$A4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$C4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$E4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$84</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$A4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$C4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$E4</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$D2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$3C</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$D6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$D3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$C8</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$EF</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$E0</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; $F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$F0</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n","line":28},{"comment":"nametable attribute data","content":"PPUBuffer_PauseExtraLife:\n\t.db $27, $EA, $05\n\t.db $AA, $AA, $AA, $AA, $AA\n","htmlComment":"<p>nametable attribute data</p>\n","htmlContent":"PPUBuffer_PauseExtraLife:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$EA</span>, <span class=\"token hexnumber string\">$05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AA</span>, <span class=\"token hexnumber string\">$AA</span>, <span class=\"token hexnumber string\">$AA</span>, <span class=\"token hexnumber string\">$AA</span>, <span class=\"token hexnumber string\">$AA</span>\n","line":174},{"comment":"nametable attribute data","content":"PPUBuffer_TitleCard:\n\t.db $20, $1E, $9E\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $20, $1F, $9E\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF\n\t.db $23, $C7, $01, $00\n\t.db $23, $CF, $01, $00\n\t.db $23, $D7, $01, $00\n\t.db $23, $DF, $01, $00\n\t.db $23, $E7, $01, $00\n\t.db $23, $EF, $01, $00\n\t.db $23, $F7, $01, $00\n\t.db $23, $FF, $01, $00\n\t.db $00\n\nWorldStartingLevel:\n\t.db $00\n\t.db $03 ; $00\n\t.db $06 ; $01\n\t.db $09 ; $02\n\t.db $0C ; $03\n\t.db $0F ; $04\n\t.db $12 ; $05\n\t.db $14 ; $06\n\nPlayerSelectMarioSprites1:\n\t.db $8F, $00, $00, $48\n\t.db $8F, $00, $40, $50\n\t.db $9F, $02, $00, $48\n\t.db $9F, $02, $40, $50\n\nPlayerSelectLuigiSprites1:\n\t.db $8F, $04, $01, $68\n\t.db $8F, $04, $41, $70\n\t.db $9F, $06, $01, $68\n\t.db $9F, $06, $41, $70\n\nPlayerSelectToadSprites1:\n\t.db $8F, $08, $02, $88\n\t.db $8F, $08, $42, $90\n\t.db $9F, $0A, $02, $88\n\t.db $9F, $0A, $42, $90\n\nPlayerSelectPrincessSprites1:\n\t.db $8F, $0C, $03, $A8\n\t.db $8F, $0C, $43, $B0\n\t.db $9F, $0E, $03, $A8\n\t.db $9F, $0E, $43, $B0\n\nPlayerSelectMarioSprites2:\n\t.db $8F, $10, $00, $48\n\t.db $8F, $12, $00, $50\n\t.db $9F, $14, $00, $48\n\t.db $9F, $16, $00, $50\n\nPlayerSelectLuigiSprites2:\n\t.db $8F, $18, $01, $68\n\t.db $8F, $1A, $01, $70\n\t.db $9F, $1C, $01, $68\n\t.db $9F, $1E, $01, $70\n\nPlayerSelectToadSprites2:\n\t.db $8F, $20, $02, $88\n\t.db $8F, $22, $02, $90\n\t.db $9F, $24, $02, $88\n\t.db $9F, $26, $02, $90\n\nPlayerSelectPrincessSprites2:\n\t.db $8F, $28, $03, $A8\n\t.db $8F, $2A, $03, $B0\n\t.db $9F, $2C, $03, $A8\n\t.db $9F, $2E, $03, $B0\n\nPlayerSelectSpriteIndexes:\n\t.db $00, $30, $20, $10\n\nBonusChanceCherrySprite:\n\t.db $5F, $05, $01, $58\n\t.db $5F, $07, $01, $60\n\nBonusChanceStarSprite:\n\t.db $5F, $09, $01, $58\n\t.db $5F, $09, $41, $60\n\nBonusChanceVeggieSprite:\n\t.db $5F, $0B, $01, $58\n\t.db $5F, $0B, $41, $60\n\nBonusChanceSnifitSprite:\n\t.db $5F, $01, $01, $58\n\t.db $5F, $03, $01, $60\n\nPlayerSelectSpritePalettesDark:\n\t.db $3F, $10, $10 ; PPU Data\n\t.db $0F, $22, $12, $01\n\t.db $0F, $22, $12, $01\n\t.db $0F, $22, $12, $01\n\t.db $0F, $22, $12, $01\n\nPlayerSelectPaletteOffsets:\n\t.db (PlayerSelectSpritePalettes_Mario - PlayerSelectSpritePalettes)\n\t.db (PlayerSelectSpritePalettes_Princess - PlayerSelectSpritePalettes)\n\t.db (PlayerSelectSpritePalettes_Toad - PlayerSelectSpritePalettes)\n\t.db (PlayerSelectSpritePalettes_Luigi - PlayerSelectSpritePalettes)\n\nPlayerSelectSpritePalettes:\nPlayerSelectSpritePalettes_Mario:\n\t.db $3F, $10, $04\n\t.db $0F, $27, $16, $01\nPlayerSelectSpritePalettes_Luigi:\n\t.db $3F, $14, $04\n\t.db $0F, $36, $2A, $01\nPlayerSelectSpritePalettes_Toad:\n\t.db $3F, $18, $04\n\t.db $0F, $27, $30, $01\nPlayerSelectSpritePalettes_Princess:\n\t.db $3F, $1C, $04\n\t.db $0F, $36, $25, $07\n\nTitleCardPalettes:\n\t.db $3F, $00, $20 ; PPU data\n\t.db $38, $30, $1A, $0F\n\t.db $38, $38, $0F, $0F\n\t.db $38, $17, $17, $38\n\t.db $38, $28, $18, $08\n\t.db $38, $30, $27, $01\n\t.db $38, $37, $27, $06\n\t.db $38, $25, $36, $06\n\t.db $38, $12, $36, $01\n\t.db $00\n\nBonusChanceSpritePalettes:\n\t.db $0F,$37,$16,$0F\n\t.db $0F,$37,$16,$0F ; 4\n\t.db $0F,$37,$16,$0F ; 8\n\t.db $0F,$37,$16,$0F ; $C\n\n","htmlComment":"<p>nametable attribute data</p>\n","htmlContent":"PPUBuffer_TitleCard:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>, <span class=\"token hexnumber string\">$1E</span>, <span class=\"token hexnumber string\">$9E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>, <span class=\"token hexnumber string\">$1F</span>, <span class=\"token hexnumber string\">$9E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$FF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$C7</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$CF</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$D7</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$DF</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$E7</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$EF</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$F7</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>, <span class=\"token hexnumber string\">$FF</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\nWorldStartingLevel:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$14</span> <span class=\"token comment\">; $06</span>\n\nPlayerSelectMarioSprites<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$40</span>, <span class=\"token hexnumber string\">$50</span>\n\nPlayerSelectLuigiSprites<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$04</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$04</span>, <span class=\"token hexnumber string\">$41</span>, <span class=\"token hexnumber string\">$70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$06</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$06</span>, <span class=\"token hexnumber string\">$41</span>, <span class=\"token hexnumber string\">$70</span>\n\nPlayerSelectToadSprites<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$08</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$08</span>, <span class=\"token hexnumber string\">$42</span>, <span class=\"token hexnumber string\">$90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$42</span>, <span class=\"token hexnumber string\">$90</span>\n\nPlayerSelectPrincessSprites<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$0C</span>, <span class=\"token hexnumber string\">$43</span>, <span class=\"token hexnumber string\">$B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$0E</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$0E</span>, <span class=\"token hexnumber string\">$43</span>, <span class=\"token hexnumber string\">$B0</span>\n\nPlayerSelectMarioSprites<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$14</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$50</span>\n\nPlayerSelectLuigiSprites<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$1E</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$70</span>\n\nPlayerSelectToadSprites<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$20</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$24</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$26</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$90</span>\n\nPlayerSelectPrincessSprites<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8F</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$2C</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9F</span>, <span class=\"token hexnumber string\">$2E</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$B0</span>\n\nPlayerSelectSpriteIndexes:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$20</span>, <span class=\"token hexnumber string\">$10</span>\n\nBonusChanceCherrySprite:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$05</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$60</span>\n\nBonusChanceStarSprite:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$09</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$09</span>, <span class=\"token hexnumber string\">$41</span>, <span class=\"token hexnumber string\">$60</span>\n\nBonusChanceVeggieSprite:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$0B</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$0B</span>, <span class=\"token hexnumber string\">$41</span>, <span class=\"token hexnumber string\">$60</span>\n\nBonusChanceSnifitSprite:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5F</span>, <span class=\"token hexnumber string\">$03</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$60</span>\n\nPlayerSelectSpritePalettesDark:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3F</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; PPU Data</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$22</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$01</span>\n\nPlayerSelectPaletteOffsets:\n\t<span class=\"token directive keyword\">.db</span> (PlayerSelectSpritePalettes_Mario - PlayerSelectSpritePalettes)\n\t<span class=\"token directive keyword\">.db</span> (PlayerSelectSpritePalettes_Princess - PlayerSelectSpritePalettes)\n\t<span class=\"token directive keyword\">.db</span> (PlayerSelectSpritePalettes_Toad - PlayerSelectSpritePalettes)\n\t<span class=\"token directive keyword\">.db</span> (PlayerSelectSpritePalettes_Luigi - PlayerSelectSpritePalettes)\n\nPlayerSelectSpritePalettes:\nPlayerSelectSpritePalettes_Mario:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3F</span>, <span class=\"token hexnumber string\">$10</span>, <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$16</span>, <span class=\"token hexnumber string\">$01</span>\nPlayerSelectSpritePalettes_Luigi:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3F</span>, <span class=\"token hexnumber string\">$14</span>, <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$36</span>, <span class=\"token hexnumber string\">$2A</span>, <span class=\"token hexnumber string\">$01</span>\nPlayerSelectSpritePalettes_Toad:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3F</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$01</span>\nPlayerSelectSpritePalettes_Princess:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3F</span>, <span class=\"token hexnumber string\">$1C</span>, <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$36</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$07</span>\n\nTitleCardPalettes:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3F</span>, <span class=\"token hexnumber string\">$00</span>, <span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; PPU data</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$1A</span>, <span class=\"token hexnumber string\">$0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$0F</span>, <span class=\"token hexnumber string\">$0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$17</span>, <span class=\"token hexnumber string\">$38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$28</span>, <span class=\"token hexnumber string\">$18</span>, <span class=\"token hexnumber string\">$08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$30</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$37</span>, <span class=\"token hexnumber string\">$27</span>, <span class=\"token hexnumber string\">$06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$25</span>, <span class=\"token hexnumber string\">$36</span>, <span class=\"token hexnumber string\">$06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>, <span class=\"token hexnumber string\">$12</span>, <span class=\"token hexnumber string\">$36</span>, <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\nBonusChanceSpritePalettes:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$16</span>,<span class=\"token hexnumber string\">$0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$16</span>,<span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; 4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$16</span>,<span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; 8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$16</span>,<span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $C</span>\n\n","line":179},{"comment":"\nLoad A with an index and call this to\njump to a pointer from the table directly\nafter the call.\n","content":"JumpToTableAfterJump:\n\tASL A\n\tTAY\n\tPLA\n\tSTA byte_RAM_A\n\tPLA\n\tSTA byte_RAM_B\n\tINY\n\tLDA (byte_RAM_A), Y\n\tSTA byte_RAM_C\n\tINY\n\tLDA (byte_RAM_A), Y\n\tSTA byte_RAM_D\n\tJMP (byte_RAM_C)\n\n\nBlackAndWhitePalette:\n\t.db $0F,$30,$30,$0F\n\n\nSetBlackAndWhitePalette:\n\tLDA PPUSTATUS\n\tLDA #$3F\n\tLDY #$00\n\tSTA PPUADDR\n\tSTY PPUADDR\n\nSetBlackAndWhitePalette_Loop:\n\tTYA\n\tAND #$03\n\tTAX\n\tLDA BlackAndWhitePalette, X\n\tSTA PPUDATA\n\tINY\n\tCPY #$14\n\tBCC SetBlackAndWhitePalette_Loop\n\n\tRTS\n\n\nSetScrollXYTo0:\n\tLDA #$00\n\tSTA PPUScrollYMirror\n\tSTA PPUScrollXMirror\n\tSTA byte_RAM_C8\n\tSTA byte_RAM_C9\n\tRTS\n\n","htmlComment":"<p>Load A with an index and call this to\njump to a pointer from the table directly\nafter the call.</p>\n","htmlContent":"JumpToTableAfterJump:\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_A\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_B\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_A), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_C\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_A), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_D\n\t<span class=\"token opcode property\">JMP</span> (byte_RAM_C)\n\n\nBlackAndWhitePalette:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$0F</span>\n\n\nSetBlackAndWhitePalette:\n\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$3F</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">STY</span> PPUADDR\n\nSetBlackAndWhitePalette_Loop:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> BlackAndWhitePalette, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$14</span>\n\t<span class=\"token opcode property\">BCC</span> SetBlackAndWhitePalette_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n\nSetScrollXYTo<span class=\"token decimalnumber string\">0</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollYMirror\n\t<span class=\"token opcode property\">STA</span> PPUScrollXMirror\n\t<span class=\"token opcode property\">STA</span> byte_RAM_C<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_C<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":324},{"comment":"\nClears the screen and resets the scroll position for the title card\n\nThis is used for the character select screen as well, but that has a few PPU\nchanges of its own.\n","content":"ResetScreenForTitleCard:\n\tJSR EnableNMI\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR SetScrollXYTo0\n\n\tLDA #ScreenUpdateBuffer_RAM_55F\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDA #VMirror\n\tJSR ChangeNametableMirroring\n\n\tJSR ClearNametablesAndSprites\n\n\tRTS\n\n","htmlComment":"<p>Clears the screen and resets the scroll position for the title card</p>\n<p>This is used for the character select screen as well, but that has a few PPU\nchanges of its own.</p>\n","htmlContent":"ResetScreenForTitleCard:\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> SetScrollXYTo<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">55</span>F\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #VMirror\n\t<span class=\"token opcode property\">JSR</span> ChangeNametableMirroring\n\n\t<span class=\"token opcode property\">JSR</span> ClearNametablesAndSprites\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":379},{"comment":"\nEnables NMI and draws the background of the pause screen\n","content":"EnableNMI_PauseTitleCard:\n\tJSR EnableNMI\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tLDA #Stack100_Menu\n\tSTA StackArea\n\tLDA #ScreenUpdateBuffer_CharacterSelect\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDA #ScreenUpdateBuffer_BANKE_DE7A\n\tSTA ScreenUpdateIndex\n\tJMP WaitForNMI\n\n","htmlComment":"<p>Enables NMI and draws the background of the pause screen</p>\n","htmlContent":"EnableNMI_PauseTitleCard:\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Menu\n\t<span class=\"token opcode property\">STA</span> StackArea\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_CharacterSelect\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_BANKE_DE<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JMP</span> WaitForNMI\n\n","line":401},{"comment":"\nDraws world info for the title card and pause screens\n\nInput\nX = CurrentWorld\nY = CurrentLevel (not actually used)\n","content":"DisplayLevelTitleCardText:","htmlComment":"<p>Draws world info for the title card and pause screens</p>\n<p>Input\nX = CurrentWorld\nY = CurrentLevel (not actually used)</p>\n","htmlContent":"DisplayLevelTitleCardText:","line":424},{"comment":"Level number (unused)\nIn Doki Doki Panic, this was displayed as a page number, keeping with\nthe storybook motif.","content":"\tINY\n\tTYA\n\tJSR GetTwoDigitNumberTiles\n","htmlComment":"<p>Level number (unused)\nIn Doki Doki Panic, this was displayed as a page number, keeping with\nthe storybook motif.</p>\n","htmlContent":"\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">JSR</span> GetTwoDigitNumberTiles\n","line":428},{"comment":"World number","content":"\tINX\n\tTXA\n\tORA #$D0\n\tSTA byte_RAM_717D\n","htmlComment":"<p>World number</p>\n","htmlContent":"\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">717</span>D\n","line":433},{"comment":"Extra Life number","content":"\tLDY ExtraLives\n\tDEY\n\tTYA\n\tJSR GetTwoDigitNumberTiles\n\tSTY byte_RAM_7191\n\tSTA byte_RAM_7192\n","htmlComment":"<p>Extra Life number</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> ExtraLives\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">JSR</span> GetTwoDigitNumberTiles\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">7191</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7192</span>\n","line":439},{"comment":"Reset level dots","content":"\tLDY #$06\n\tLDA #$FB\nloc_BANKF_E1B6:\n\tSTA unk_RAM_716B, Y ; writes to $7171\n\tDEY\n\tBPL loc_BANKF_E1B6\n","htmlComment":"<p>Reset level dots</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FB</span>\nloc_BANKF_E<span class=\"token decimalnumber string\">1</span>B<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">STA</span> unk_RAM_<span class=\"token decimalnumber string\">716</span>B, <span class=\"token register variable\">Y</span> <span class=\"token comment\">; writes to $7171</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">1</span>B<span class=\"token decimalnumber string\">6</span>\n","line":447},{"comment":"Level number","content":"\tLDY CurrentWorld\n\tLDA CurrentLevel\n\tSEC\n\tSBC WorldStartingLevel, Y\n\tSTA CurrentLevelRelative\n\tCLC\n\tADC #$D1\n\tSTA byte_RAM_717F\n\n\tLDA WorldStartingLevel + 1, Y\n\tSEC\n\tSBC WorldStartingLevel, Y\n\tSTA byte_RAM_3\n","htmlComment":"<p>Level number</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> CurrentWorld\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> WorldStartingLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelRelative\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$D1</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">717</span>F\n\n\t<span class=\"token opcode property\">LDA</span> WorldStartingLevel + <span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> WorldStartingLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>\n","line":455},{"comment":"Level dots","content":"\tLDX #$00\n\tLDY #$00\nloc_BANKF_E1DC:\n\tLDA #$FD\n\tCPX CurrentLevelRelative\n\tBNE loc_BANKF_E1E5\n\n\tLDA #$F6\n\nloc_BANKF_E1E5:\n\tSTA unk_RAM_716B, Y\n\tINY\n\tINY\n\tINX\n\tCPX byte_RAM_3\n\tBCC loc_BANKF_E1DC\n","htmlComment":"<p>Level dots</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\nloc_BANKF_E<span class=\"token decimalnumber string\">1</span>DC:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FD</span>\n\t<span class=\"token opcode property\">CPX</span> CurrentLevelRelative\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">1</span>E<span class=\"token decimalnumber string\">5</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$F6</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">1</span>E<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">STA</span> unk_RAM_<span class=\"token decimalnumber string\">716</span>B, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">CPX</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANKF_E<span class=\"token decimalnumber string\">1</span>DC\n","line":470},{"comment":"Draw the card","content":"\tLDA #ScreenUpdateBuffer_RAM_7168\n\tSTA ScreenUpdateIndex\n\tRTS\n\n","htmlComment":"<p>Draw the card</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">7168</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":488},{"comment":"\nIt's game time, pal\n","content":"SetStack100Gameplay:\n\tLDA #Stack100_Gameplay\n\tSTA StackArea\n\tRTS\n\n","htmlComment":"<p>It's game time, pal</p>\n","htmlContent":"SetStack<span class=\"token decimalnumber string\">100</span>Gameplay:\n\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Gameplay\n\t<span class=\"token opcode property\">STA</span> StackArea\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":496},{"comment":"=============== S U B R O U T I N E =======================================","content":"","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"","line":503},{"comment":"\nResets various level-related variables to $00\n","content":"InitializeSomeLevelStuff:\n\tLDA #$00\n\tSTA CurrentLevelArea\n\tSTA CurrentLevelArea_Init\n\tSTA CurrentLevelEntryPage\n\tSTA CurrentLevelEntryPage_Init\n\tSTA TransitionType\n\tSTA TransitionType_Init\n\tSTA PlayerState\n\tSTA PlayerState_Init\n\tSTA InSubspaceOrJar\n\tSTA InJarType\n\tSTA StopwatchTimer\n\tSTA PlayerCurrentSize\n\tRTS\n\n\nPlayerSelectArrowTop:\n\t.db $C9\n\t.db $D5\n\t.db $D1\n\t.db $CD\nPlayerSelectArrowBottom:\n\t.db $E9\n\t.db $F5\n\t.db $F1\n\t.db $ED\n\n","htmlComment":"<p>Resets various level-related variables to $00</p>\n","htmlContent":"InitializeSomeLevelStuff:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea_Init\n\t<span class=\"token opcode property\">STA</span> CurrentLevelEntryPage\n\t<span class=\"token opcode property\">STA</span> CurrentLevelEntryPage_Init\n\t<span class=\"token opcode property\">STA</span> TransitionType\n\t<span class=\"token opcode property\">STA</span> TransitionType_Init\n\t<span class=\"token opcode property\">STA</span> PlayerState\n\t<span class=\"token opcode property\">STA</span> PlayerState_Init\n\t<span class=\"token opcode property\">STA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">STA</span> InJarType\n\t<span class=\"token opcode property\">STA</span> StopwatchTimer\n\t<span class=\"token opcode property\">STA</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">RTS</span>\n\n\nPlayerSelectArrowTop:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CD</span>\nPlayerSelectArrowBottom:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$ED</span>\n\n","line":507},{"comment":"\nDisplays the level title card and prepares the level to start by loading\nthe world tiles, PRG banks A/B, and copying character data\n","content":"DisplayLevelTitleCardAndMore:\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n","htmlComment":"<p>Displays the level title card and prepares the level to start by loading\nthe world tiles, PRG banks A/B, and copying character data</p>\n","htmlContent":"DisplayLevelTitleCardAndMore:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n","line":540},{"comment":"Set the scrolling mirror over to the right side...\nThis Isn't quiiite correct, and causes a bunch of\ncrud to show on the very left pixel -- residue\nfrom the character select screen","content":"\tLDA #$FF\n\tSTA PPUScrollXMirror\n\tJSR ChangeTitleCardCHR\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyCharacterStatsAndStuff\n\n\tJSR EnableNMI\n\n\tJSR HideAllSprites\n\n\tLDY #$23\nDisplayLevelTitleCardAndMore_TitleCardPaletteLoop:\n\tLDA TitleCardPalettes, Y\n\tSTA PPUBuffer_55F, Y\n\tDEY\n\tBPL DisplayLevelTitleCardAndMore_TitleCardPaletteLoop\n\n\tLDA #ScreenUpdateBuffer_RAM_55F ; Then tell it to dump that into the PPU\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDA #ScreenUpdateBuffer_TitleCard\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tJSR DrawTitleCardWorldImage\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJSR RestorePlayerToFullHealth\n","htmlComment":"<p>Set the scrolling mirror over to the right side...\nThis Isn't quiiite correct, and causes a bunch of\ncrud to show on the very left pixel -- residue\nfrom the character select screen</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollXMirror\n\t<span class=\"token opcode property\">JSR</span> ChangeTitleCardCHR\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_A_B\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> CopyCharacterStatsAndStuff\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$23</span>\nDisplayLevelTitleCardAndMore_TitleCardPaletteLoop:\n\t<span class=\"token opcode property\">LDA</span> TitleCardPalettes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">55</span>F, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> DisplayLevelTitleCardAndMore_TitleCardPaletteLoop\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">55</span>F <span class=\"token comment\">; Then tell it to dump that into the PPU</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_TitleCard\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> DrawTitleCardWorldImage\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">JSR</span> RestorePlayerToFullHealth\n","line":549},{"comment":"Pause for the title card","content":"\tLDA #$50\n\tSTA byte_RAM_2\nPreLevelTitleCard_PauseLoop:\n\tJSR WaitForNMI\n\tDEC byte_RAM_2\n\tBPL PreLevelTitleCard_PauseLoop\n\nPreStartLevel:\n\tJSR SetStack100Gameplay\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\n\tJSR LoadWorldCHRBanks\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyCharacterStatsAndStuff\n\n\tJSR EnableNMI\n\n\tRTS\n\n","htmlComment":"<p>Pause for the title card</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$50</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\nPreLevelTitleCard_PauseLoop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">BPL</span> PreLevelTitleCard_PauseLoop\n\nPreStartLevel:\n\t<span class=\"token opcode property\">JSR</span> SetStack<span class=\"token decimalnumber string\">100</span>Gameplay\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\n\t<span class=\"token opcode property\">JSR</span> LoadWorldCHRBanks\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_A_B\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> CopyCharacterStatsAndStuff\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":584},{"comment":"\nRuns the Character Select menu\n","content":"DoCharacterSelectMenu:\n\tJSR WaitForNMI\n\n\tLDA #$00\n\tSTA PPUMASK\n\tJSR DisableNMI\n\n\tJSR LoadCharacterSelectCHRBanks\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyCharacterStatsAndStuff\n\n\tJSR ResetScreenForTitleCard\n\n\tLDA CharacterSelectBankSwitch\n\tCMP #$A5\n\tBEQ loc_BANKF_E2B2\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tLDA #$A5\n\tSTA CharacterSelectBankSwitch\n\nloc_BANKF_E2B2:\n\tJSR EnableNMI_PauseTitleCard\n\n\tJSR DisableNMI\n\n\tLDA #Music1_CharacterSelect\n\tSTA MusicQueue1\n\tLDA CurrentCharacter\n\tSTA PreviousCharacter\n\tLDA CurrentWorld\n\tSTA PreviousWorld\n\tLDY #$3F\n\nloc_BANKF_E2CA:\n\tLDA PlayerSelectMarioSprites1, Y\n\tSTA SpriteDMAArea + $10, Y\n\tDEY\n\tBPL loc_BANKF_E2CA\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDX CurrentWorld\n\tLDY CurrentLevel\n\tJSR DisplayLevelTitleCardText\n\n\tJSR WaitForNMI\n\n\tJMP loc_BANKF_E311\n\n","htmlComment":"<p>Runs the Character Select menu</p>\n","htmlContent":"DoCharacterSelectMenu:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\n\t<span class=\"token opcode property\">JSR</span> LoadCharacterSelectCHRBanks\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_A_B\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> CopyCharacterStatsAndStuff\n\n\t<span class=\"token opcode property\">JSR</span> ResetScreenForTitleCard\n\n\t<span class=\"token opcode property\">LDA</span> CharacterSelectBankSwitch\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$A5</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">2</span>B<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_A_B\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$A5</span>\n\t<span class=\"token opcode property\">STA</span> CharacterSelectBankSwitch\n\nloc_BANKF_E<span class=\"token decimalnumber string\">2</span>B<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">JSR</span> EnableNMI_PauseTitleCard\n\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">1</span>_CharacterSelect\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">STA</span> PreviousCharacter\n\t<span class=\"token opcode property\">LDA</span> CurrentWorld\n\t<span class=\"token opcode property\">STA</span> PreviousWorld\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$3F</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">2</span>CA:\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectMarioSprites<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$10</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">2</span>CA\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDX</span> CurrentWorld\n\t<span class=\"token opcode property\">LDY</span> CurrentLevel\n\t<span class=\"token opcode property\">JSR</span> DisplayLevelTitleCardText\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">311</span>\n\n","line":613},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E2E8:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Right | ControllerInput_Left\n\tBNE CharacterSelect_ChangeCharacter\n\n\tJMP CharacterSelectMenuLoop\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">2</span>E<span class=\"token decimalnumber string\">8</span>:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Right | ControllerInput_Left\n\t<span class=\"token opcode property\">BNE</span> CharacterSelect_ChangeCharacter\n\n\t<span class=\"token opcode property\">JMP</span> CharacterSelectMenuLoop\n\n","line":671},{"comment":"---------------------------------------------------------------------------","content":"CharacterSelect_ChangeCharacter:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Right\n\tBEQ loc_BANKF_E2FE\n\n\tDEC CurrentCharacter\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\nloc_BANKF_E2FE:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Left\n\tBEQ loc_BANKF_E30B\n\n\tINC CurrentCharacter\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\nloc_BANKF_E30B:\n\tLDA CurrentCharacter\n\tAND #$03\n\tSTA CurrentCharacter\n\nloc_BANKF_E311:\n\tLDY #$00\n\tLDA #$21\n\tSTA PPUBuffer_301\n\tLDA #$C9\n\tSTA PPUBuffer_301 + 1\n\tLDA #$4F\n\tSTA PPUBuffer_301 + 2\n\tLDA #$FB\n\tSTA PPUBuffer_301 + 3\n\tLDA #$21\n\tSTA PPUBuffer_301 + 4\n\tLDA #$E9\n\tSTA PPUBuffer_301 + 5\n\tLDA #$4F\n\tSTA PPUBuffer_301 + 6\n\tLDA #$FB\n\tSTA PPUBuffer_301 + 7\n\tLDY CurrentCharacter\n\tLDA #$21\n\tSTA PPUBuffer_301 + 8\n\tLDA PlayerSelectArrowTop, Y\n\tSTA PPUBuffer_301 + 9\n\tLDA #$02\n\tSTA PPUBuffer_301 + 10\n\tLDA #$BE\n\tSTA PPUBuffer_301 + 11\n\tLDA #$C0\n\tSTA PPUBuffer_301 + 12\n\tLDA #$21\n\tSTA PPUBuffer_301 + 13\n\tLDA PlayerSelectArrowBottom, Y\n\tSTA PPUBuffer_301 + 14\n\tLDA #$02\n\tSTA PPUBuffer_301 + 15\n\tLDA #$BF\n\tSTA PPUBuffer_301 + 16\n\tLDA #$C1\n\tSTA PPUBuffer_301 + 17\n\tLDA #$00\n\tSTA PPUBuffer_301 + 18\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDX #$12\n\tLDY #$00\n\nloc_BANKF_E37D:\n\tLDA PlayerSelectSpritePalettesDark, Y\n\tSTA PPUBuffer_301, Y\n\tINY\n\tDEX\n\tBPL loc_BANKF_E37D\n\n\tLDA #$06\n\tSTA byte_RAM_A\n\tLDX CurrentCharacter\n\tLDA PlayerSelectPaletteOffsets, X\n\tTAX\n\nloc_BANKF_E391:\n\tLDA PlayerSelectSpritePalettes, X\n\tSTA PPUBuffer_301, Y\n\tINY\n\tINX\n\tDEC byte_RAM_A\n\tBPL loc_BANKF_E391\n\n\tLDA #$00\n\tSTA PPUBuffer_301, Y\n\nCharacterSelectMenuLoop:\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_A\n\tBNE loc_BANKF_E3AE\n\n\tJMP loc_BANKF_E2E8\n\n","htmlComment":"<hr>\n","htmlContent":"CharacterSelect_ChangeCharacter:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Right\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">2</span>FE\n\n\t<span class=\"token opcode property\">DEC</span> CurrentCharacter\n\t<span class=\"token opcode property\">LDA</span> #SoundEffect<span class=\"token decimalnumber string\">1</span>_CherryGet\n\t<span class=\"token opcode property\">STA</span> SoundEffectQueue<span class=\"token decimalnumber string\">1</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">2</span>FE:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Left\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">30</span>B\n\n\t<span class=\"token opcode property\">INC</span> CurrentCharacter\n\t<span class=\"token opcode property\">LDA</span> #SoundEffect<span class=\"token decimalnumber string\">1</span>_CherryGet\n\t<span class=\"token opcode property\">STA</span> SoundEffectQueue<span class=\"token decimalnumber string\">1</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">30</span>B:\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> CurrentCharacter\n\nloc_BANKF_E<span class=\"token decimalnumber string\">311</span>:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$21</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$C9</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$4F</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FB</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$21</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$E9</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$4F</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FB</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDY</span> CurrentCharacter\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$21</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectArrowTop, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$BE</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">11</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$C0</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">12</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$21</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">13</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectArrowBottom, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">14</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">15</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$BF</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">16</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$C1</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">17</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span> + <span class=\"token decimalnumber string\">18</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$12</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">37</span>D:\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectSpritePalettesDark, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">37</span>D\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_A\n\t<span class=\"token opcode property\">LDX</span> CurrentCharacter\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectPaletteOffsets, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">TAX</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">391</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectSpritePalettes, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_A\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">391</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>, <span class=\"token register variable\">Y</span>\n\nCharacterSelectMenuLoop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_A\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">3</span>AE\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">2</span>E<span class=\"token decimalnumber string\">8</span>\n\n","line":680},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E3AE:\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\tLDX CurrentWorld\n\tLDY CurrentLevel\n\tJSR DisplayLevelTitleCardText\n\n\tLDA #$40\n\tSTA byte_RAM_10\n\tJSR WaitForNMI\n\n\tLDX #$F\n\tLDA CurrentCharacter\n\tTAY\n\tLDA PlayerSelectSpriteIndexes, Y\n\tTAY\n\nloc_BANKF_E3CC:\n\tLDA PlayerSelectMarioSprites2, Y\n\tSTA SpriteDMAArea + $10, Y\n\tINY\n\tDEX\n\tBPL loc_BANKF_E3CC\n\nloc_BANKF_E3D6:\n\tJSR WaitForNMI\n\n\tDEC byte_RAM_10\n\tBPL loc_BANKF_E3D6\n\n\tLDY #$3F\n\nloc_BANKF_E3DF:\n\tLDA PlayerSelectMarioSprites1, Y\n\tSTA SpriteDMAArea + $10, Y\n\tDEY\n\tBPL loc_BANKF_E3DF\n\n\tLDA #$40\n\tSTA byte_RAM_10\n\nloc_BANKF_E3EC:\n\tJSR WaitForNMI\n\n\tDEC byte_RAM_10\n\tBPL loc_BANKF_E3EC\n\n\tLDA #Music2_StopMusic\n\tSTA MusicQueue2\n\tRTS\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">3</span>AE:\n\t<span class=\"token opcode property\">LDA</span> #SoundEffect<span class=\"token decimalnumber string\">1</span>_CherryGet\n\t<span class=\"token opcode property\">STA</span> SoundEffectQueue<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDX</span> CurrentWorld\n\t<span class=\"token opcode property\">LDY</span> CurrentLevel\n\t<span class=\"token opcode property\">JSR</span> DisplayLevelTitleCardText\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$40</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDX</span> #$F\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectSpriteIndexes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">TAY</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">3</span>CC:\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectMarioSprites<span class=\"token decimalnumber string\">2</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$10</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">3</span>CC\n\nloc_BANKF_E<span class=\"token decimalnumber string\">3</span>D<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">3</span>D<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$3F</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">3</span>DF:\n\t<span class=\"token opcode property\">LDA</span> PlayerSelectMarioSprites<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$10</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">3</span>DF\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$40</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">3</span>EC:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">3</span>EC\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_StopMusic\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":784},{"comment":"\nThis starts the game once RESET has done its thing.\nWe also come here after choosing \"RETRY\" from the game over menu.\n","content":"StartGame:\n\tLDA #$00\n\tSTA PPUMASK\n\tJSR DisableNMI\n\n\tLDA #PRGBank_0_1\n\tSTA GameMilestoneCounter\n\tJSR ChangeMappedPRGBank\n\n\tJSR TitleScreen ; The whole title screen is a subroutine, lol\n\n\tINC GameMilestoneCounter\nSetNumContinues:\n\tLDA #$02 ; Number of continues on start\n\tSTA Continues\n","htmlComment":"<p>This starts the game once RESET has done its thing.\nWe also come here after choosing \"RETRY\" from the game over menu.</p>\n","htmlContent":"StartGame:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> GameMilestoneCounter\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> TitleScreen <span class=\"token comment\">; The whole title screen is a subroutine, lol</span>\n\n\t<span class=\"token opcode property\">INC</span> GameMilestoneCounter\nSetNumContinues:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span> <span class=\"token comment\">; Number of continues on start</span>\n\t<span class=\"token opcode property\">STA</span> Continues\n","line":841},{"comment":"We return here after picking \"CONTINUE\" from the game over menu.","content":"ContinueGame:\n\tLDA #$03 ; Number of lives to start\n\tSTA ExtraLives\n\nStartCharacterSelectMenu:\n\tLDX CurrentWorld\n\tLDY WorldStartingLevel, X\n\tSTY CurrentLevel\n\tSTY CurrentLevel_Init\n\tJSR DoCharacterSelectMenu\n\n\tJSR InitializeSomeLevelStuff\n\n\tJSR DisplayLevelTitleCardAndMore\n\n\tLDA #$FF\n\tSTA CurrentMusicIndex\n\tBNE StartLevel ; Branch always\n\nCharacterSelectMenu:\n\tJSR DoCharacterSelectMenu\n\nStartLevelAfterTitleCard:\n\tJSR DisplayLevelTitleCardAndMore\n\nStartLevel:\n\tJSR WaitForNMI_TurnOffPPU\n\n\tLDA #$B0\n\tORA byte_RAM_C9\n\tLDY IsHorizontalLevel\n\tBNE StartLevel_SetPPUCtrlMirror\n\n\tAND #$FE\n\tORA byte_RAM_C8\n\nStartLevel_SetPPUCtrlMirror:\n\tSTA PPUCtrlMirror\n\tSTA PPUCTRL\n\tLDA #Stack100_Transition\n\tSTA StackArea\n\tLDA #PRGBank_8_9\n\tJSR ChangeMappedPRGBank\n\n\tJSR GetLevelPointers\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentArea\n\n\tJSR LoadCurrentPalette\n\nIFDEF AREA_HEADER_TILESET\n\tJSR LoadWorldCHRBanks\nENDIF\n\n\tJSR HideAllSprites\n\n\tJSR WaitForNMI\n\n\tJSR SetStack100Gameplay\n\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCtrlMirror\n\n\tLDA IsHorizontalLevel\n\tBEQ StartLevel_Vertical_Loop\n\nStartLevel_Horizontal_Loop:\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR InitializeAreaHorizontal\n\n\tJSR EnsureCorrectMusic\n\n\tLDA BreakStartLevelLoop\n\tBEQ StartLevel_Horizontal_Loop\n\n\tLDA #$00\n\tSTA BreakStartLevelLoop\n\tJSR WaitForNMI_TurnOnPPU\n\nloc_BANKF_E491:\n\tJSR WaitForNMI\n\n\tLDA NeedVerticalScroll\n\tAND #$04\n\tBNE loc_BANKF_E4A3\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBEQ loc_BANKF_E4A3\n\n\tJMP ShowPauseScreen\n\n","htmlComment":"<p>We return here after picking \"CONTINUE\" from the game over menu.</p>\n","htmlContent":"ContinueGame:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$03</span> <span class=\"token comment\">; Number of lives to start</span>\n\t<span class=\"token opcode property\">STA</span> ExtraLives\n\nStartCharacterSelectMenu:\n\t<span class=\"token opcode property\">LDX</span> CurrentWorld\n\t<span class=\"token opcode property\">LDY</span> WorldStartingLevel, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STY</span> CurrentLevel\n\t<span class=\"token opcode property\">STY</span> CurrentLevel_Init\n\t<span class=\"token opcode property\">JSR</span> DoCharacterSelectMenu\n\n\t<span class=\"token opcode property\">JSR</span> InitializeSomeLevelStuff\n\n\t<span class=\"token opcode property\">JSR</span> DisplayLevelTitleCardAndMore\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">STA</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">BNE</span> StartLevel <span class=\"token comment\">; Branch always</span>\n\nCharacterSelectMenu:\n\t<span class=\"token opcode property\">JSR</span> DoCharacterSelectMenu\n\nStartLevelAfterTitleCard:\n\t<span class=\"token opcode property\">JSR</span> DisplayLevelTitleCardAndMore\n\nStartLevel:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$B0</span>\n\t<span class=\"token opcode property\">ORA</span> byte_RAM_C<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">LDY</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> StartLevel_SetPPUCtrlMirror\n\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$FE</span>\n\t<span class=\"token opcode property\">ORA</span> byte_RAM_C<span class=\"token decimalnumber string\">8</span>\n\nStartLevel_SetPPUCtrlMirror:\n\t<span class=\"token opcode property\">STA</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Transition\n\t<span class=\"token opcode property\">STA</span> StackArea\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">8</span>_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> GetLevelPointers\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> LoadCurrentArea\n\n\t<span class=\"token opcode property\">JSR</span> LoadCurrentPalette\n\nIFDEF AREA_HEADER_TILESET\n\t<span class=\"token opcode property\">JSR</span> LoadWorldCHRBanks\nENDIF\n\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> SetStack<span class=\"token decimalnumber string\">100</span>Gameplay\n\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIEnabled\n\t<span class=\"token opcode property\">STA</span> PPUCtrlMirror\n\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BEQ</span> StartLevel_Vertical_Loop\n\nStartLevel_Horizontal_Loop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> InitializeAreaHorizontal\n\n\t<span class=\"token opcode property\">JSR</span> EnsureCorrectMusic\n\n\t<span class=\"token opcode property\">LDA</span> BreakStartLevelLoop\n\t<span class=\"token opcode property\">BEQ</span> StartLevel_Horizontal_Loop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> BreakStartLevelLoop\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\nloc_BANKF_E<span class=\"token decimalnumber string\">491</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> NeedVerticalScroll\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">3</span>\n\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Start\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">3</span>\n\n\t<span class=\"token opcode property\">JMP</span> ShowPauseScreen\n\n","line":858},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E4A3:\n\tLDA InSubspaceOrJar\n\tBEQ loc_BANKF_E4AB\n\n\tJMP loc_BANKF_E5A0\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">4</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span>AB\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">5</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">0</span>\n","line":958},{"comment":"---------------------------------------------------------------------------","content":"","htmlComment":"<hr>\n","htmlContent":"","line":966},{"comment":"horizontal level","content":"loc_BANKF_E4AB:\n\tJSR HideAllSprites\n\n\tJSR sub_BANKF_F11E\n\n\tLDY GameMode\n\tBEQ loc_BANKF_E4B9\n\n\tJMP loc_BANKF_E665\n\n","htmlComment":"<p>horizontal level</p>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">4</span>AB:\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">11</span>E\n\n\t<span class=\"token opcode property\">LDY</span> GameMode\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">9</span>\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">665</span>\n\n","line":968},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E4B9:\n\tLDA DoAreaTransition\n\tBEQ loc_BANKF_E491\n\n\tJSR sub_BANKF_F6A1\n\n\tJSR sub_BANKF_F1AE\n\n\tLDA #$00\n\tSTA DoAreaTransition\n\tJMP StartLevel\n\nStartLevel_Vertical_Loop:\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR InitializeAreaVertical\n\n\tJSR EnsureCorrectMusic\n\n\tLDA BreakStartLevelLoop\n\tBEQ StartLevel_Vertical_Loop\n\n\tLDA #$00\n\tSTA BreakStartLevelLoop\n\tJSR WaitForNMI_TurnOnPPU\n\nloc_BANKF_E4E5:\n\tJSR WaitForNMI\n\n\tLDA NeedVerticalScroll\n\tAND #$04\n\tBNE loc_BANKF_E4F4\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBNE ShowPauseScreen\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">9</span>:\n\t<span class=\"token opcode property\">LDA</span> DoAreaTransition\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">491</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">6</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">1</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">1</span>AE\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> DoAreaTransition\n\t<span class=\"token opcode property\">JMP</span> StartLevel\n\nStartLevel_Vertical_Loop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> InitializeAreaVertical\n\n\t<span class=\"token opcode property\">JSR</span> EnsureCorrectMusic\n\n\t<span class=\"token opcode property\">LDA</span> BreakStartLevelLoop\n\t<span class=\"token opcode property\">BEQ</span> StartLevel_Vertical_Loop\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> BreakStartLevelLoop\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\nloc_BANKF_E<span class=\"token decimalnumber string\">4</span>E<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> NeedVerticalScroll\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span>F<span class=\"token decimalnumber string\">4</span>\n\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Start\n\t<span class=\"token opcode property\">BNE</span> ShowPauseScreen\n","line":979},{"comment":"vertical level","content":"loc_BANKF_E4F4:\n\tJSR HideAllSprites\n\n\tJSR sub_BANKF_F17E\n\n\tLDY GameMode\n\tBEQ loc_BANKF_E502\n\n\tJMP loc_BANKF_E665\n\n","htmlComment":"<p>vertical level</p>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">4</span>F<span class=\"token decimalnumber string\">4</span>:\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">17</span>E\n\n\t<span class=\"token opcode property\">LDY</span> GameMode\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">502</span>\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">665</span>\n\n","line":1021},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E502:\n\tLDA DoAreaTransition\n\tBEQ loc_BANKF_E4E5\n\n\tJSR sub_BANKF_F6A1\n\n\tJSR sub_BANKF_F1AE\n\n\tLDA #$00\n\tSTA DoAreaTransition\n\tJMP StartLevel\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">502</span>:\n\t<span class=\"token opcode property\">LDA</span> DoAreaTransition\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span>E<span class=\"token decimalnumber string\">5</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">6</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">1</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">1</span>AE\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> DoAreaTransition\n\t<span class=\"token opcode property\">JMP</span> StartLevel\n\n","line":1032},{"comment":"\nPauses the game\n","content":"ShowPauseScreen:\n\tJSR PauseScreen_ExtraLife\n","htmlComment":"<p>Pauses the game</p>\n","htmlContent":"ShowPauseScreen:\n\t<span class=\"token opcode property\">JSR</span> PauseScreen_ExtraLife\n","line":1049},{"comment":"used when running sound queues","content":"\tLDA #Stack100_Pause\n\tSTA StackArea\n\nPauseScreenLoop:\n\tLDA #$0E\n\tSTA byte_RAM_6\n\nDoSuicideCheatCheck:\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDA PlayerState ; Check if the player is already dying\n\tCMP #PlayerState_Dying\n\tBEQ PauseScreenExitCheck ; If so, skip the suicide code check\n\n\tLDA Player2JoypadHeld ; Check for suicide code\n\tCMP #ControllerInput_Up | ControllerInput_B | ControllerInput_A ; Up + A + B\n\tBNE PauseScreenExitCheck ; Not being held! Nothing to see here\n\n\tJSR KillPlayer ; KILL THYSELF\n\nPauseScreenExitCheck:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBNE HidePauseScreen\n\n\tDEC byte_RAM_6\n\tBPL DoSuicideCheatCheck\n\n\tINC byte_RAM_7\n\tLDA byte_RAM_7\n\tAND #$01\n\tCLC\n\tADC #$0D ; Will use either $0D or $0E from the update index pointers\n\tSTA ScreenUpdateIndex ; @TODO I assume this is what blinks \"PAUSE\"\n\tJMP PauseScreenLoop\n","htmlComment":"<p>used when running sound queues</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Pause\n\t<span class=\"token opcode property\">STA</span> StackArea\n\nPauseScreenLoop:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0E</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\nDoSuicideCheatCheck:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">LDA</span> PlayerState <span class=\"token comment\">; Check if the player is already dying</span>\n\t<span class=\"token opcode property\">CMP</span> #PlayerState_Dying\n\t<span class=\"token opcode property\">BEQ</span> PauseScreenExitCheck <span class=\"token comment\">; If so, skip the suicide code check</span>\n\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">2</span>JoypadHeld <span class=\"token comment\">; Check for suicide code</span>\n\t<span class=\"token opcode property\">CMP</span> #ControllerInput_Up | ControllerInput_B | ControllerInput_A <span class=\"token comment\">; Up + A + B</span>\n\t<span class=\"token opcode property\">BNE</span> PauseScreenExitCheck <span class=\"token comment\">; Not being held! Nothing to see here</span>\n\n\t<span class=\"token opcode property\">JSR</span> KillPlayer <span class=\"token comment\">; KILL THYSELF</span>\n\nPauseScreenExitCheck:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Start\n\t<span class=\"token opcode property\">BNE</span> HidePauseScreen\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">BPL</span> DoSuicideCheatCheck\n\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$0D</span> <span class=\"token comment\">; Will use either $0D or $0E from the update index pointers</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex <span class=\"token comment\">; @TODO I assume this is what blinks \"PAUSE\"</span>\n\t<span class=\"token opcode property\">JMP</span> PauseScreenLoop\n","line":1053},{"comment":"\nUnpauses the game\n","content":"HidePauseScreen:\n\tJSR WaitForNMI_TurnOffPPU\n\nIFDEF RESET_CHR_LATCH\n\tLDA #$00\n\tSTA ResetCHRLatch\nENDIF\n\n\tJSR LoadWorldCHRBanks\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentPalette\n\n\tJSR WaitForNMI\n\n\tJSR SetStack100Gameplay\n\n\tJSR HideAllSprites\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR RestoreScreenScrollPosition\n\n\tLDA IsHorizontalLevel\n\tBNE HidePauseScreen_Horizontal\n\nHidePauseScreen_Vertical:\n\tLDA #HMirror\n\tJSR ChangeNametableMirroring\n\n\tJSR sub_BANK0_81FE\n\nHidePauseScreen_Vertical_Loop:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_823D\n\n\tLDA byte_RAM_537\n\tBEQ HidePauseScreen_Vertical_Loop\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJMP loc_BANKF_E4E5\n\nHidePauseScreen_Horizontal:\n\tLDA #VMirror\n\tJSR ChangeNametableMirroring\n\n\tJSR sub_BANK0_8785\n\nHidePauseScreen_Horizontal_Loop:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_87AA\n\n\tLDA byte_RAM_537\n\tBEQ HidePauseScreen_Horizontal_Loop\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJMP loc_BANKF_E491\n\n","htmlComment":"<p>Unpauses the game</p>\n","htmlContent":"HidePauseScreen:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\nIFDEF RESET_CHR_LATCH\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> ResetCHRLatch\nENDIF\n\n\t<span class=\"token opcode property\">JSR</span> LoadWorldCHRBanks\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> LoadCurrentPalette\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> SetStack<span class=\"token decimalnumber string\">100</span>Gameplay\n\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> RestoreScreenScrollPosition\n\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> HidePauseScreen_Horizontal\n\nHidePauseScreen_Vertical:\n\t<span class=\"token opcode property\">LDA</span> #HMirror\n\t<span class=\"token opcode property\">JSR</span> ChangeNametableMirroring\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">81</span>FE\n\nHidePauseScreen_Vertical_Loop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">823</span>D\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">537</span>\n\t<span class=\"token opcode property\">BEQ</span> HidePauseScreen_Vertical_Loop\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">4</span>E<span class=\"token decimalnumber string\">5</span>\n\nHidePauseScreen_Horizontal:\n\t<span class=\"token opcode property\">LDA</span> #VMirror\n\t<span class=\"token opcode property\">JSR</span> ChangeNametableMirroring\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">8785</span>\n\nHidePauseScreen_Horizontal_Loop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">87</span>AA\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">537</span>\n\t<span class=\"token opcode property\">BEQ</span> HidePauseScreen_Horizontal_Loop\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">491</span>\n\n","line":1092},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E5A0:\n\tJSR ClearNametablesAndSprites\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tLDA #$00\n\tSTA SubspaceCoins\n\tLDA InSubspaceOrJar\n\tCMP #$02\n\tBEQ loc_BANKF_E5D4\n\n\tLDA #PRGBank_8_9\n\tJSR ChangeMappedPRGBank\n\n\tJSR GetJarPointers\n\n\tJSR GetEnemyPointers\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR ClearSubAreaTileLayout\n\n\tLDA #Music1_Inside\n\tSTA MusicQueue1\n\tLDA #$01\n\tSTA CurrentMusicIndex\n\tJMP loc_BANKF_E5E1\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">5</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">0</span>:\n\t<span class=\"token opcode property\">JSR</span> ClearNametablesAndSprites\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> SubspaceCoins\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">5</span>D<span class=\"token decimalnumber string\">4</span>\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">8</span>_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> GetJarPointers\n\n\t<span class=\"token opcode property\">JSR</span> GetEnemyPointers\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> ClearSubAreaTileLayout\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">1</span>_Inside\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">5</span>E<span class=\"token decimalnumber string\">1</span>\n\n","line":1158},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E5D4:\n\tJSR GenerateSubspaceArea\n\n\tLDA #Music1_Subspace\n\tSTA MusicQueue1\n\tLDA #$04\n\tSTA CurrentMusicIndex\n\nloc_BANKF_E5E1:\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR sub_BANK0_870C\n\n\tJSR EnableNMI\n\nloc_BANKF_E5EC:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_87AA\n\n\tLDA byte_RAM_537\n\tBEQ loc_BANKF_E5EC\n\n\tLDA InSubspaceOrJar\n\tCMP #$02\n\tBEQ loc_BANKF_E606\n\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentPalette\n\nloc_BANKF_E606:\n\tJSR WaitForNMI_TurnOnPPU\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">5</span>D<span class=\"token decimalnumber string\">4</span>:\n\t<span class=\"token opcode property\">JSR</span> GenerateSubspaceArea\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">1</span>_Subspace\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">STA</span> CurrentMusicIndex\n\nloc_BANKF_E<span class=\"token decimalnumber string\">5</span>E<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">870</span>C\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\nloc_BANKF_E<span class=\"token decimalnumber string\">5</span>EC:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">87</span>AA\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">537</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">5</span>EC\n\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">606</span>\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> LoadCurrentPalette\n\nloc_BANKF_E<span class=\"token decimalnumber string\">606</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n","line":1190},{"comment":"subspace","content":"loc_BANKF_E609:\n\tJSR WaitForNMI\n\n\tJSR HideAllSprites\n\n\tJSR sub_BANKF_F0F9\n\n\tLDY GameMode\n\tBEQ loc_BANKF_E61A\n\n\tJMP loc_BANKF_E665\n\n","htmlComment":"<p>subspace</p>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">609</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">0</span>F<span class=\"token decimalnumber string\">9</span>\n\n\t<span class=\"token opcode property\">LDY</span> GameMode\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">61</span><span class=\"token register variable\">A</span>\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">665</span>\n\n","line":1228},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E61A:\n\tLDA InSubspaceOrJar\n\tBNE loc_BANKF_E609\n\n\tLDA SubspaceCoins\n\tBEQ loc_BANKF_E627\n\n\tINC SubspaceVisits\n\nloc_BANKF_E627:\n\tLDA CurrentLevelAreaCopy\n\tSTA CurrentLevelArea\n\tLDA #PRGBank_6_7\n\tJSR ChangeMappedPRGBank\n\n\tJSR LoadCurrentPalette\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR HideAllSprites\n\n\tLDY CompareMusicIndex\n\tSTY CurrentMusicIndex\n\tLDA StarInvincibilityTimer\n\tBNE loc_BANKF_E64C\n\n\tLDA LevelMusicIndexes, Y\n\tSTA MusicQueue1\n\nloc_BANKF_E64C:\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR sub_BANK0_874C\n\nloc_BANKF_E654:\n\tJSR WaitForNMI\n\n\tJSR sub_BANK0_87AA\n\n\tLDA byte_RAM_537\n\tBEQ loc_BANKF_E654\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tJMP loc_BANKF_E491\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">61</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">609</span>\n\n\t<span class=\"token opcode property\">LDA</span> SubspaceCoins\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">627</span>\n\n\t<span class=\"token opcode property\">INC</span> SubspaceVisits\n\nloc_BANKF_E<span class=\"token decimalnumber string\">627</span>:\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelAreaCopy\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">6</span>_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> LoadCurrentPalette\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> HideAllSprites\n\n\t<span class=\"token opcode property\">LDY</span> CompareMusicIndex\n\t<span class=\"token opcode property\">STY</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">LDA</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">64</span>C\n\n\t<span class=\"token opcode property\">LDA</span> LevelMusicIndexes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">64</span>C:\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">874</span>C\n\nloc_BANKF_E<span class=\"token decimalnumber string\">654</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">87</span>AA\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">537</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">654</span>\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">491</span>\n\n","line":1241},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E665:\n\tJSR DoAreaReset\n\n\tLDY GameMode\n\tLDA #GameMode_InGame\n\tSTA GameMode\n\tSTA StarInvincibilityTimer\n\tSTA BigVeggiesPulled\n\tSTA CherryCount\n\tSTA StopwatchTimer\n\tDEY\n\tBNE loc_BANKF_E69F\n\n\tSTY PlayerCurrentSize\n\tJSR LevelInitialization\n\n\tLDA #$FF\n\tSTA CurrentMusicIndex","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">665</span>:\n\t<span class=\"token opcode property\">JSR</span> DoAreaReset\n\n\t<span class=\"token opcode property\">LDY</span> GameMode\n\t<span class=\"token opcode property\">LDA</span> #GameMode_InGame\n\t<span class=\"token opcode property\">STA</span> GameMode\n\t<span class=\"token opcode property\">STA</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">STA</span> BigVeggiesPulled\n\t<span class=\"token opcode property\">STA</span> CherryCount\n\t<span class=\"token opcode property\">STA</span> StopwatchTimer\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">69</span>F\n\n\t<span class=\"token opcode property\">STY</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">JSR</span> LevelInitialization\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">STA</span> CurrentMusicIndex","line":1290},{"comment":"this looks like an address","content":"\tLDA #$25\n\tSTA byte_RAM_7180\n\tLDA #$48\n\tSTA byte_RAM_7181\n\tLDA #ScreenUpdateBuffer_TitleCard\n\tSTA CardScreenUpdateIndex\n\tJSR PauseScreen_Card\n\nAfterDeathJump:\nIFNDEF CHARACTER_SELECT_AFTER_DEATH\n\tJMP StartLevelAfterTitleCard\nENDIF\nIFDEF CHARACTER_SELECT_AFTER_DEATH\n\tJMP CharacterSelectMenu\nENDIF\n\n","htmlComment":"<p>this looks like an address</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$25</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7180</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$48</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7181</span>\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_TitleCard\n\t<span class=\"token opcode property\">STA</span> CardScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> PauseScreen_Card\n\nAfterDeathJump:\nIFNDEF CHARACTER_SELECT_AFTER_DEATH\n\t<span class=\"token opcode property\">JMP</span> StartLevelAfterTitleCard\nENDIF\nIFDEF CHARACTER_SELECT_AFTER_DEATH\n\t<span class=\"token opcode property\">JMP</span> CharacterSelectMenu\nENDIF\n\n","line":1310},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E69F:\n\tLDA #PlayerHealth_2_HP\n\tSTA PlayerHealth\n\tLDA #$00\n\tSTA PlayerMaxHealth\n\tSTA KeyUsed\n\tSTA Mushroom1upPulled\n\tSTA Mushroom1Pulled\n\tSTA Mushroom2Pulled\n\tSTA SubspaceVisits\n\tSTA EnemiesKilledForHeart\n\tDEY\n\tBEQ DoGameOverStuff\n\n\tJMP loc_BANKF_E75A\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">69</span>F:\n\t<span class=\"token opcode property\">LDA</span> #PlayerHealth_<span class=\"token decimalnumber string\">2</span>_HP\n\t<span class=\"token opcode property\">STA</span> PlayerHealth\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PlayerMaxHealth\n\t<span class=\"token opcode property\">STA</span> KeyUsed\n\t<span class=\"token opcode property\">STA</span> Mushroom<span class=\"token decimalnumber string\">1</span>upPulled\n\t<span class=\"token opcode property\">STA</span> Mushroom<span class=\"token decimalnumber string\">1</span>Pulled\n\t<span class=\"token opcode property\">STA</span> Mushroom<span class=\"token decimalnumber string\">2</span>Pulled\n\t<span class=\"token opcode property\">STA</span> SubspaceVisits\n\t<span class=\"token opcode property\">STA</span> EnemiesKilledForHeart\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BEQ</span> DoGameOverStuff\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">75</span><span class=\"token register variable\">A</span>\n\n","line":1327},{"comment":"---------------------------------------------------------------------------","content":"DoGameOverStuff:\n\tSTY PlayerCurrentSize\n\tLDA #Music2_GameOver\n\tSTA MusicQueue2\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR ChangeTitleCardCHR\n\n\tJSR ClearNametablesAndSprites\n\n\tJSR SetBlackAndWhitePalette\n\n\tJSR SetScrollXYTo0\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI_TurnOnPPU\n\n\tLDA #ScreenUpdateBuffer_Text_Game_Over\n\tSTA ScreenUpdateIndex\n\tLDA #$C0\n\tSTA byte_RAM_6\n\nloc_BANKF_E6E6:\n\tJSR WaitForNMI\n\n\tDEC byte_RAM_6\n\tBNE loc_BANKF_E6E6\n\n\tLDY #$28\n\nloc_BANKF_E6EF:\n\tLDA Text_Continue, Y\n\tSTA PPUBuffer_67B, Y\n\tDEY\n\tBPL loc_BANKF_E6EF\n\n\tLDA #$FB\n\tSTA byte_RAM_68F\n\tLDA Continues\n\tCLC\n\tADC #$D0\n\tSTA byte_RAM_67E\n\tLDA #$00\n\tSTA byte_RAM_8\n\tLDA #ScreenUpdateBuffer_RAM_67B\n\tDEC Continues\n\tBPL loc_BANKF_E717\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\tLDA #ScreenUpdateBuffer_Text_Retry\n\nloc_BANKF_E717:\n\tSTA ScreenUpdateIndex\n\nloc_BANKF_E719:\n\tJSR WaitForNMI\n\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Select\n\tBEQ loc_BANKF_E747\n\n\tLDA byte_RAM_8\n\tEOR #$01\n\tSTA byte_RAM_8\n\tLDY Continues\n\tCPY #$FF\n\tBNE loc_BANKF_E733\n\n\tLDA #$01\n\tSTA byte_RAM_8\n\nloc_BANKF_E733:\n\tASL A\n\tASL A\n\tTAY\n\tLDA #$FB\n\tSTA byte_RAM_71AB\n\tSTA byte_RAM_71AF\n\tLDA #$F6\n\tSTA byte_RAM_71AB, Y\n\tLDA #ScreenUpdateBuffer_RAM_71a8\n\tSTA ScreenUpdateIndex\n\nloc_BANKF_E747:\n\tLDA Player1JoypadPress\n\tAND #ControllerInput_Start\n\tBEQ loc_BANKF_E719\n\n\tLDA byte_RAM_8\n\tBNE GameOver_Retry\n\n\tSTA SlotMachineCoins\n\tJMP ContinueGame\n\n","htmlComment":"<hr>\n","htmlContent":"DoGameOverStuff:\n\t<span class=\"token opcode property\">STY</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_GameOver\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> ChangeTitleCardCHR\n\n\t<span class=\"token opcode property\">JSR</span> ClearNametablesAndSprites\n\n\t<span class=\"token opcode property\">JSR</span> SetBlackAndWhitePalette\n\n\t<span class=\"token opcode property\">JSR</span> SetScrollXYTo<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_Text_Game_Over\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$C0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">6</span>E<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">6</span>E<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$28</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">6</span>EF:\n\t<span class=\"token opcode property\">LDA</span> Text_Continue, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">67</span>B, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">6</span>EF\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FB</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">68</span>F\n\t<span class=\"token opcode property\">LDA</span> Continues\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">67</span>E\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">67</span>B\n\t<span class=\"token opcode property\">DEC</span> Continues\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">717</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_Text_Retry\n\nloc_BANKF_E<span class=\"token decimalnumber string\">717</span>:\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\nloc_BANKF_E<span class=\"token decimalnumber string\">719</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Select\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">747</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">EOR</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDY</span> Continues\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">733</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">733</span>:\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FB</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">71</span>AB\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">71</span>AF\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$F6</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">71</span>AB, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">71</span><span class=\"token register variable\">a</span><span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\nloc_BANKF_E<span class=\"token decimalnumber string\">747</span>:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">AND</span> #ControllerInput_Start\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">719</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">BNE</span> GameOver_Retry\n\n\t<span class=\"token opcode property\">STA</span> SlotMachineCoins\n\t<span class=\"token opcode property\">JMP</span> ContinueGame\n\n","line":1345},{"comment":"---------------------------------------------------------------------------","content":"GameOver_Retry:\n\tJMP StartGame\n\n","htmlComment":"<hr>\n","htmlContent":"GameOver_Retry:\n\t<span class=\"token opcode property\">JMP</span> StartGame\n\n","line":1443},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E75A:\n\tDEY\n\tBEQ EndOfLevel\n\n\tLDY CurrentWorld\n\tSTY PreviousWorld\n\tLDA WarpDestinations, Y\n\tSTA CurrentWorld\n\tTAY\n\tLDX CurrentCharacter\n\tLDA WorldStartingLevel, Y\n\tSTA CurrentLevel\n\tSTA CurrentLevel_Init\n\tINY\n\tTYA\n\tORA #$D0\n\tSTA byte_RAM_71A6\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR SetScrollXYTo0\n\n\tJSR ClearNametablesAndSprites\n\n\tJSR SetBlackAndWhitePalette\n\n\tJSR EnableNMI\n\n\tJSR ChangeTitleCardCHR\n\n\tLDA #ScreenUpdateBuffer_RAM_7194\n\tSTA ScreenUpdateIndex\n\tLDA #Music2_SlotWarpFanfare\n\tSTA MusicQueue2\n\tJSR Delay160Frames\n\n\tJSR InitializeSomeLevelStuff\n\n\tJMP CharacterSelectMenu\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">75</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BEQ</span> EndOfLevel\n\n\t<span class=\"token opcode property\">LDY</span> CurrentWorld\n\t<span class=\"token opcode property\">STY</span> PreviousWorld\n\t<span class=\"token opcode property\">LDA</span> WarpDestinations, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentWorld\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDX</span> CurrentCharacter\n\t<span class=\"token opcode property\">LDA</span> WorldStartingLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevel\n\t<span class=\"token opcode property\">STA</span> CurrentLevel_Init\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">71</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> SetScrollXYTo<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">JSR</span> ClearNametablesAndSprites\n\n\t<span class=\"token opcode property\">JSR</span> SetBlackAndWhitePalette\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> ChangeTitleCardCHR\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">7194</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_SlotWarpFanfare\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">JSR</span> Delay<span class=\"token decimalnumber string\">160</span>Frames\n\n\t<span class=\"token opcode property\">JSR</span> InitializeSomeLevelStuff\n\n\t<span class=\"token opcode property\">JMP</span> CharacterSelectMenu\n\n","line":1448},{"comment":"---------------------------------------------------------------------------","content":"EndOfLevel:","htmlComment":"<hr>\n","htmlContent":"EndOfLevel:","line":1489},{"comment":"Stop the music","content":"\tLDA #Music2_StopMusic ; Stop music\n\tSTA MusicQueue2\n","htmlComment":"<p>Stop the music</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_StopMusic <span class=\"token comment\">; Stop music</span>\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n","line":1492},{"comment":"Increase current characters \"contribution\" counter","content":"\tLDX CurrentCharacter\n\tINC CharacterLevelsCompleted, X\n","htmlComment":"<p>Increase current characters \"contribution\" counter</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> CurrentCharacter\n\t<span class=\"token opcode property\">INC</span> CharacterLevelsCompleted, <span class=\"token register variable\">X</span>\n","line":1496},{"comment":"Check if we've completed the final level","content":"\tLDA CurrentLevel\n\tCMP #$13\nIFNDEF DISABLE_BONUS_CHANCE","htmlComment":"<p>Check if we've completed the final level</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> CurrentLevel\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$13</span>\nIFNDEF DISABLE_BONUS_CHANCE","line":1500},{"comment":"If not, go to bonus chance and proceed to the next level","content":"EndOfLevelJump:\n\tBNE EndOfLevelSlotMachine\nENDIF\nIFDEF DISABLE_BONUS_CHANCE\n\tSTY PlayerCurrentSize\nEndOfLevelJump:\n\tBNE GoToNextLevel\nENDIF","htmlComment":"<p>If not, go to bonus chance and proceed to the next level</p>\n","htmlContent":"EndOfLevelJump:\n\t<span class=\"token opcode property\">BNE</span> EndOfLevelSlotMachine\nENDIF\nIFDEF DISABLE_BONUS_CHANCE\n\t<span class=\"token opcode property\">STY</span> PlayerCurrentSize\nEndOfLevelJump:\n\t<span class=\"token opcode property\">BNE</span> GoToNextLevel\nENDIF","line":1504},{"comment":"Otherwise, display the ending","content":"\tJMP EndingSceneRoutine\n\nEndOfLevelSlotMachine:\n\tSTY PlayerCurrentSize\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR ClearNametablesAndSprites\n\nIFDEF REV_A\n\tJSR EnableNMI\n\tJSR WaitForNMI\nENDIF\n\n\tJSR LoadBonusChanceCHRBanks\n\nIFNDEF BONUS_CHANCE_RAM_CLEANUP\n\tJSR CopyUnusedCoinSpriteToSpriteArea\nENDIF\n\n\tLDA #PRGBank_A_B\n\tJSR ChangeMappedPRGBank\n\n\tJSR CopyBonusChanceLayoutToRAM\n\n\tLDA #ScreenUpdateBuffer_RAM_BonusChanceLayout\n\tSTA ScreenUpdateIndex\n\tLDA #Stack100_Menu\n\tSTA StackArea\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDA #Stack100_Gameplay\n\tSTA StackArea\n\tJSR DisableNMI\n\n\tJSR sub_BANKF_EA33\n\n\tLDA #Music2_SlotWarpFanfare\n\tSTA MusicQueue2\n\tLDA SlotMachineCoins\n\tBNE loc_BANKF_E7F2\n\n\tJMP NoCoinsForSlotMachine\n\n","htmlComment":"<p>Otherwise, display the ending</p>\n","htmlContent":"\t<span class=\"token opcode property\">JMP</span> EndingSceneRoutine\n\nEndOfLevelSlotMachine:\n\t<span class=\"token opcode property\">STY</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> ClearNametablesAndSprites\n\nIFDEF REV_A\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\nENDIF\n\n\t<span class=\"token opcode property\">JSR</span> LoadBonusChanceCHRBanks\n\nIFNDEF BONUS_CHANCE_RAM_CLEANUP\n\t<span class=\"token opcode property\">JSR</span> CopyUnusedCoinSpriteToSpriteArea\nENDIF\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_A_B\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> CopyBonusChanceLayoutToRAM\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_BonusChanceLayout\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Menu\n\t<span class=\"token opcode property\">STA</span> StackArea\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Gameplay\n\t<span class=\"token opcode property\">STA</span> StackArea\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EA<span class=\"token decimalnumber string\">33</span>\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_SlotWarpFanfare\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDA</span> SlotMachineCoins\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">7</span>F<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">JMP</span> NoCoinsForSlotMachine\n\n","line":1513},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E7F2:\n\tLDA #$03\n\tSTA ObjectXLo + 3\n\tSTA ObjectXLo + 4\n\tSTA ObjectXLo + 5\n\tJSR WaitForNMI_TurnOnPPU\n\nloc_BANKF_E7FD:\n\tLDA SlotMachineCoins\n\tBNE StartSlotMachine\n\nGoToNextLevel:\n\tLDY CurrentWorld\n\tLDA WorldStartingLevel + 1, Y\n\tSEC\n\tSBC #$01\n\tCMP CurrentLevel\n\tBNE loc_BANKF_E81E\n\n\tJSR SetStack100Gameplay\n\n\tLDA #$FF\n\tSTA CurrentMusicIndex\n\tINC CurrentWorld\n\tJMP StartCharacterSelectMenu\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">7</span>F<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\nloc_BANKF_E<span class=\"token decimalnumber string\">7</span>FD:\n\t<span class=\"token opcode property\">LDA</span> SlotMachineCoins\n\t<span class=\"token opcode property\">BNE</span> StartSlotMachine\n\nGoToNextLevel:\n\t<span class=\"token opcode property\">LDY</span> CurrentWorld\n\t<span class=\"token opcode property\">LDA</span> WorldStartingLevel + <span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">CMP</span> CurrentLevel\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">81</span>E\n\n\t<span class=\"token opcode property\">JSR</span> SetStack<span class=\"token decimalnumber string\">100</span>Gameplay\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">STA</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">INC</span> CurrentWorld\n\t<span class=\"token opcode property\">JMP</span> StartCharacterSelectMenu\n\n","line":1559},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_E81E:\n\tJSR sub_BANKF_F6A1\n\n\tLDA CurrentLevel\n\tLDY #$00\n\nloc_BANKF_E826:\n\tINY\n\tCMP WorldStartingLevel, Y\n\tBCS loc_BANKF_E826\n\n\tDEY\n\tSTY CurrentWorld ; I am sure this is important somehow, but... why\n\tLDY CurrentWorld\n\tLDA CurrentLevel\n\tSEC\n\tSBC WorldStartingLevel, Y\n\tSTA CurrentLevelRelative\n\tLDA CurrentLevel\n\tSTA CurrentLevel_Init\n\tLDA CurrentLevelArea\n\tSTA CurrentLevelArea_Init\n\tLDA CurrentLevelEntryPage\n\tSTA CurrentLevelEntryPage_Init\n\tLDY #$00\n\tSTY PlayerState_Init\n\tSTY TransitionType\n\tSTY TransitionType_Init\n\tDEY\n\tSTY CurrentMusicIndex\n\tJSR SetStack100Gameplay\n\n\tJMP CharacterSelectMenu\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_E<span class=\"token decimalnumber string\">81</span>E:\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">6</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">1</span>\n\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">826</span>:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CMP</span> WorldStartingLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_E<span class=\"token decimalnumber string\">826</span>\n\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">STY</span> CurrentWorld <span class=\"token comment\">; I am sure this is important somehow, but... why</span>\n\t<span class=\"token opcode property\">LDY</span> CurrentWorld\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> WorldStartingLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelRelative\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel\n\t<span class=\"token opcode property\">STA</span> CurrentLevel_Init\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea_Init\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelEntryPage\n\t<span class=\"token opcode property\">STA</span> CurrentLevelEntryPage_Init\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STY</span> PlayerState_Init\n\t<span class=\"token opcode property\">STY</span> TransitionType\n\t<span class=\"token opcode property\">STY</span> TransitionType_Init\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">STY</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">JSR</span> SetStack<span class=\"token decimalnumber string\">100</span>Gameplay\n\n\t<span class=\"token opcode property\">JMP</span> CharacterSelectMenu\n\n","line":1587},{"comment":"---------------------------------------------------------------------------","content":"StartSlotMachine:\n\tDEC SlotMachineCoins\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_EA68\n\n\tLDA #$01 ; Set all reel timers\n\tSTA ObjectXLo\n\tSTA ObjectXLo + 1\n\tSTA ObjectXLo + 2\n\tLSR A ; Set all reels to the first position\n\tSTA ObjectXLo + 6\n\tSTA ObjectXLo + 7\n\tSTA ObjectXLo + 8\n\nDoSlotMachineSpinnyShit:\n\tJSR WaitForNMI ; $2C-$2E: Reel change timer\n","htmlComment":"<hr>\n","htmlContent":"StartSlotMachine:\n\t<span class=\"token opcode property\">DEC</span> SlotMachineCoins\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EA<span class=\"token decimalnumber string\">68</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span> <span class=\"token comment\">; Set all reel timers</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span> <span class=\"token comment\">; Set all reels to the first position</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">8</span>\n\nDoSlotMachineSpinnyShit:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI <span class=\"token comment\">; $2C-$2E: Reel change timer</span>\n","line":1623},{"comment":"$2F-$31: Current reel icon","content":"\tLDA #SoundEffect2_Climbing ; Play \"reel sound\" sound effect\n\tSTA SoundEffectQueue2\n\tJSR sub_BANKF_EAC2\n\n\tJSR sub_BANKF_EADC\n\n\tJSR sub_BANKF_EAF6\n\n\tJSR sub_BANKF_E916\n\n\tLDA byte_BANKF_E9DF, Y\n\tSTA ScreenUpdateIndex\n\tINC byte_RAM_6\n\tLDA ObjectXLo ; Reel 1 still active?\n\tORA ObjectXLo + 1 ; Reel 2 still active?\n\tORA ObjectXLo + 2 ; Reel 3 still active?\n\tBNE DoSlotMachineSpinnyShit ; If any are still active, go back to waiting\n\n\tLDA #ScreenUpdateBuffer_RAM_6df\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tLDY #$00\n\tLDX ObjectXLo + 6 ; Load reel 1\n\tLDA SlotMachineReelOrder1RAM, X\n\tBNE CheckReel2Symbol ; Is this reel a cherry?\n\n\tINY ; Yes; add one life\n\nCheckReel2Symbol:\n\tLDX ObjectXLo + 7 ; Load reel 2\n\tCMP SlotMachineReelOrder2RAM, X\n\tBNE AddSlotMachineExtraLives ; Does this match the previous symbol?\n\n\tCMP #$00 ; Yes; are they both cherries?\n\tBNE CheckReel3Symbol ; If no, skip to third reel\n\n\tINY ; They are both cherries, add another life or something\n\nCheckReel3Symbol:\n\tLDX ObjectXLo + 8 ; Load reel 3\n\tCMP SlotMachineReelOrder3RAM, X ; Does reel 3 match the previous two?\n\tBNE AddSlotMachineExtraLives ; No, fuck you\n\n\tINY ; They all match! Yay! Add a life.","htmlComment":"<p>$2F-$31: Current reel icon</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #SoundEffect<span class=\"token decimalnumber string\">2</span>_Climbing <span class=\"token comment\">; Play \"reel sound\" sound effect</span>\n\t<span class=\"token opcode property\">STA</span> SoundEffectQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EAC<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EADC\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EAF<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_E<span class=\"token decimalnumber string\">916</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_BANKF_E<span class=\"token decimalnumber string\">9</span>DF, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDA</span> ObjectXLo <span class=\"token comment\">; Reel 1 still active?</span>\n\t<span class=\"token opcode property\">ORA</span> ObjectXLo + <span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; Reel 2 still active?</span>\n\t<span class=\"token opcode property\">ORA</span> ObjectXLo + <span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; Reel 3 still active?</span>\n\t<span class=\"token opcode property\">BNE</span> DoSlotMachineSpinnyShit <span class=\"token comment\">; If any are still active, go back to waiting</span>\n\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>df\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDX</span> ObjectXLo + <span class=\"token decimalnumber string\">6</span> <span class=\"token comment\">; Load reel 1</span>\n\t<span class=\"token opcode property\">LDA</span> SlotMachineReelOrder<span class=\"token decimalnumber string\">1</span>RAM, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> CheckReel<span class=\"token decimalnumber string\">2</span>Symbol <span class=\"token comment\">; Is this reel a cherry?</span>\n\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; Yes; add one life</span>\n\nCheckReel<span class=\"token decimalnumber string\">2</span>Symbol:\n\t<span class=\"token opcode property\">LDX</span> ObjectXLo + <span class=\"token decimalnumber string\">7</span> <span class=\"token comment\">; Load reel 2</span>\n\t<span class=\"token opcode property\">CMP</span> SlotMachineReelOrder<span class=\"token decimalnumber string\">2</span>RAM, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> AddSlotMachineExtraLives <span class=\"token comment\">; Does this match the previous symbol?</span>\n\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$00</span> <span class=\"token comment\">; Yes; are they both cherries?</span>\n\t<span class=\"token opcode property\">BNE</span> CheckReel<span class=\"token decimalnumber string\">3</span>Symbol <span class=\"token comment\">; If no, skip to third reel</span>\n\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; They are both cherries, add another life or something</span>\n\nCheckReel<span class=\"token decimalnumber string\">3</span>Symbol:\n\t<span class=\"token opcode property\">LDX</span> ObjectXLo + <span class=\"token decimalnumber string\">8</span> <span class=\"token comment\">; Load reel 3</span>\n\t<span class=\"token opcode property\">CMP</span> SlotMachineReelOrder<span class=\"token decimalnumber string\">3</span>RAM, <span class=\"token register variable\">X</span> <span class=\"token comment\">; Does reel 3 match the previous two?</span>\n\t<span class=\"token opcode property\">BNE</span> AddSlotMachineExtraLives <span class=\"token comment\">; No, fuck you</span>\n\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; They all match! Yay! Add a life.</span>","line":1642},{"comment":"Cherry count: 3 / Non-cherry: 1","content":"\tCMP #$00 ; Were they all cherries?\n\tBNE AddSlotMachineExtraLives ; Nope, all done\n\n\tINY ; Yes, add 2 more extra lives\n\tINY\n\nAddSlotMachineExtraLives:\n\tTYA ; Y contains extra lives to add\n\tCLC\n\tADC ExtraLives ; Add won extra lives to current lives\n\tBCC loc_BANKF_E8D3 ; Check if adding extra lives has wrapped the counter\n\n\tLDA #$FF ; If so, set extra lives to 255 (#$FF)\n\nloc_BANKF_E8D3:\n\tSTA ExtraLives\n\tTYA ; Did we actually win any lives?\n\tBEQ SlotMachineLoseFanfare ; No, play lose sound effect\n\n\tORA #$D0\n\tSTA byte_RAM_6C8\n\tLDA #Music2_CrystalGetFanfare ; Play winner jingle\n\tSTA MusicQueue2\n\tLDA #$A0\n\tSTA byte_RAM_6\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_EA68\n\nloc_BANKF_E8ED:\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_E916\n\n\tLDA byte_BANKF_E9E3, Y\n\tSTA ScreenUpdateIndex\n\tDEC byte_RAM_6\n\tBNE loc_BANKF_E8ED\n\n\tBEQ loc_BANKF_E90C\n\nSlotMachineLoseFanfare:\n\tLDA #Music2_DeathJingle\n\tSTA MusicQueue2\n\tJSR WaitForNMI\n\n\tJSR sub_BANKF_EA68\n\n\tJSR Delay160Frames\n\nloc_BANKF_E90C:\n\tLDA #ScreenUpdateBuffer_RAM_6e4\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\tJMP loc_BANKF_E7FD\n\n","htmlComment":"<p>Cherry count: 3 / Non-cherry: 1</p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$00</span> <span class=\"token comment\">; Were they all cherries?</span>\n\t<span class=\"token opcode property\">BNE</span> AddSlotMachineExtraLives <span class=\"token comment\">; Nope, all done</span>\n\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; Yes, add 2 more extra lives</span>\n\t<span class=\"token opcode property\">INY</span>\n\nAddSlotMachineExtraLives:\n\t<span class=\"token opcode property\">TYA</span> <span class=\"token comment\">; Y contains extra lives to add</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> ExtraLives <span class=\"token comment\">; Add won extra lives to current lives</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANKF_E<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">3</span> <span class=\"token comment\">; Check if adding extra lives has wrapped the counter</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span> <span class=\"token comment\">; If so, set extra lives to 255 (#$FF)</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">8</span>D<span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token opcode property\">STA</span> ExtraLives\n\t<span class=\"token opcode property\">TYA</span> <span class=\"token comment\">; Did we actually win any lives?</span>\n\t<span class=\"token opcode property\">BEQ</span> SlotMachineLoseFanfare <span class=\"token comment\">; No, play lose sound effect</span>\n\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>C<span class=\"token decimalnumber string\">8</span>\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_CrystalGetFanfare <span class=\"token comment\">; Play winner jingle</span>\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$A0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EA<span class=\"token decimalnumber string\">68</span>\n\nloc_BANKF_E<span class=\"token decimalnumber string\">8</span>ED:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_E<span class=\"token decimalnumber string\">916</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_BANKF_E<span class=\"token decimalnumber string\">9</span>E<span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">8</span>ED\n\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_E<span class=\"token decimalnumber string\">90</span>C\n\nSlotMachineLoseFanfare:\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_DeathJingle\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EA<span class=\"token decimalnumber string\">68</span>\n\n\t<span class=\"token opcode property\">JSR</span> Delay<span class=\"token decimalnumber string\">160</span>Frames\n\nloc_BANKF_E<span class=\"token decimalnumber string\">90</span>C:\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>e<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_E<span class=\"token decimalnumber string\">7</span>FD\n\n","line":1689},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_E916:\n\tLDA byte_RAM_6\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tAND #$01\n\tTAY\n\tRTS\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_E<span class=\"token decimalnumber string\">916</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":1747},{"comment":"End of function sub_BANKF_E916","content":"\n","htmlComment":"<p>End of function sub_BANKF_E916</p>\n","htmlContent":"\n","line":1759},{"comment":"---------------------------------------------------------------------------","content":"NoCoinsForSlotMachine:\n\tJSR Delay80Frames\n\n\tLDA #Music2_DeathJingle\n\tSTA MusicQueue2\n\nIFDEF EXPAND_MUSIC\n\tLDA #$08\nENDIF\n\tSTA byte_RAM_6\nloc_BANKF_E92A:\n\tLDA byte_RAM_6\n\tAND #$01\n\tTAY\n\tLDA byte_BANKF_E9E1, Y\n\tSTA ScreenUpdateIndex\n\n\tLDA #$0A\n\tSTA byte_RAM_7\nloc_BANKF_E938:\n\tJSR WaitForNMI_TurnOnPPU\n\tDEC byte_RAM_7\n\tBNE loc_BANKF_E938\n\n\tDEC byte_RAM_6\n\tBPL loc_BANKF_E92A\n\n\tJMP GoToNextLevel\n\n\nDelay80Frames:\n\tLDA #$50\n\tBNE DelayFrames\n\nDelay160Frames:\n\tLDA #$A0\n\nDelayFrames:\n\tSTA byte_RAM_7\nDelayFrames_Loop:\n\tJSR WaitForNMI_TurnOnPPU\n\tDEC byte_RAM_7\n\tBNE DelayFrames_Loop\n\n\tRTS\n\n","htmlComment":"<hr>\n","htmlContent":"NoCoinsForSlotMachine:\n\t<span class=\"token opcode property\">JSR</span> Delay<span class=\"token decimalnumber string\">80</span>Frames\n\n\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_DeathJingle\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>\n\nIFDEF EXPAND_MUSIC\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$08</span>\nENDIF\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\nloc_BANKF_E<span class=\"token decimalnumber string\">92</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> byte_BANKF_E<span class=\"token decimalnumber string\">9</span>E<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\nloc_BANKF_E<span class=\"token decimalnumber string\">938</span>:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_E<span class=\"token decimalnumber string\">938</span>\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_E<span class=\"token decimalnumber string\">92</span><span class=\"token register variable\">A</span>\n\n\t<span class=\"token opcode property\">JMP</span> GoToNextLevel\n\n\nDelay<span class=\"token decimalnumber string\">80</span>Frames:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$50</span>\n\t<span class=\"token opcode property\">BNE</span> DelayFrames\n\nDelay<span class=\"token decimalnumber string\">160</span>Frames:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$A0</span>\n\nDelayFrames:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\nDelayFrames_Loop:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOnPPU\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">BNE</span> DelayFrames_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":1761},{"comment":"\nDo the ending!\n","content":"EndingSceneRoutine:\n\tJSR SetScrollXYTo0\n\n\tLDA #$80","htmlComment":"<p>Do the ending!</p>\n","htmlContent":"EndingSceneRoutine:\n\t<span class=\"token opcode property\">JSR</span> SetScrollXYTo<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$80</span>","line":1812},{"comment":"FDS leftover; $4080 is an old sound register\nThe prototype had two writes to this address!\nIt looks like they missed this one, though.","content":"\tSTA FDS_WAVETABLE_VOL\n\tASL A\n\tSTA SoundEffectPlaying1\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR FreeSubconsScene\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\n\tJSR LoadCelebrationSceneBackgroundCHR\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tINC GameMilestoneCounter\n\n\tJSR ContributorScene\n\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR DisableNMI\n\nSetupMarioSleepingScene:\n\tJSR LoadMarioSleepingCHRBanks\n\n\tJSR EnableNMI\n\n\tJSR WaitForNMI\n\n\tLDA #PRGBank_C_D\n\tJSR ChangeMappedPRGBank\n\n\tINC GameMilestoneCounter\n\tJMP MarioSleepingScene\n\n","htmlComment":"<p>FDS leftover; $4080 is an old sound register\nThe prototype had two writes to this address!\nIt looks like they missed this one, though.</p>\n","htmlContent":"\t<span class=\"token opcode property\">STA</span> FDS_WAVETABLE_VOL\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> SoundEffectPlaying<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> FreeSubconsScene\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\n\t<span class=\"token opcode property\">JSR</span> LoadCelebrationSceneBackgroundCHR\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">INC</span> GameMilestoneCounter\n\n\t<span class=\"token opcode property\">JSR</span> ContributorScene\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> DisableNMI\n\nSetupMarioSleepingScene:\n\t<span class=\"token opcode property\">JSR</span> LoadMarioSleepingCHRBanks\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_C_D\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">INC</span> GameMilestoneCounter\n\t<span class=\"token opcode property\">JMP</span> MarioSleepingScene\n\n","line":1819},{"comment":"=============== S U B R O U T I N E =======================================","content":"DisableNMI:\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIDisabled\n\tSTA PPUCTRL\n\tSTA PPUCtrlMirror\n\tRTS\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"DisableNMI:\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIDisabled\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">STA</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">RTS</span>\n","line":1862},{"comment":"End of function DisableNMI","content":"","htmlComment":"<p>End of function DisableNMI</p>\n","htmlContent":"","line":1870},{"comment":"---------------------------------------------------------------------------","content":"PPUBuffer_Text_Game_Over:\n\t.db $21, $CB, $0A, $E0, $DA, $E6, $DE, $FB, $FB, $E8, $EF, $DE\n\t.db $EB, $00 ; $C ; \"GAME OVER\"\nText_Continue:\n\t.db $21, $75, $01, $00 ; (Placeholder for continue count)","htmlComment":"<hr>\n","htmlContent":"PPUBuffer_Text_Game_Over:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$CB</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$E0</span>, <span class=\"token hexnumber string\">$DA</span>, <span class=\"token hexnumber string\">$E6</span>, <span class=\"token hexnumber string\">$DE</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$E8</span>, <span class=\"token hexnumber string\">$EF</span>, <span class=\"token hexnumber string\">$DE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$EB</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $C ; \"GAME OVER\"</span>\nText_Continue:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$75</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; (Placeholder for continue count)</span>","line":1872},{"comment":"This is loaded manually and drawn so the count\ncan be patched in\n* CONTINUE","content":"\t.db $21, $6A, $0A, $F6, $FB, $DC, $E8, $E7, $ED, $E2, $E7, $EE\n\t.db $DE ; $C\nPPUBuffer_Text_Retry:\n\t.db $21, $AA, $07, $F6, $FB, $EB, $DE, $ED, $EB, $F2 ; * RETRY\n\t.db $21, $CB, $0A, $FB, $FB, $FB, $FB, $FB, $FB, $FB, $FB, $FB ; Blank, erases \"GAME OVER\"\n\t.db $FB, $00 ; $C\n\t.db $09\n\t.db $0F\nbyte_BANKF_E9DF:\n\t.db ScreenUpdateBuffer_RAM_6ab\n\t.db ScreenUpdateBuffer_RAM_6df\nbyte_BANKF_E9E1:\n\t.db ScreenUpdateBuffer_RAM_693\n\t.db ScreenUpdateBuffer_RAM_6da\nbyte_BANKF_E9E3:\n\t.db ScreenUpdateBuffer_RAM_6bd\n\t.db ScreenUpdateBuffer_RAM_6da\n","htmlComment":"<p>This is loaded manually and drawn so the count\ncan be patched in</p>\n<ul>\n<li>CONTINUE</li>\n</ul>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$6A</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$F6</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$DC</span>, <span class=\"token hexnumber string\">$E8</span>, <span class=\"token hexnumber string\">$E7</span>, <span class=\"token hexnumber string\">$ED</span>, <span class=\"token hexnumber string\">$E2</span>, <span class=\"token hexnumber string\">$E7</span>, <span class=\"token hexnumber string\">$EE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$DE</span> <span class=\"token comment\">; $C</span>\nPPUBuffer_Text_Retry:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$AA</span>, <span class=\"token hexnumber string\">$07</span>, <span class=\"token hexnumber string\">$F6</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$EB</span>, <span class=\"token hexnumber string\">$DE</span>, <span class=\"token hexnumber string\">$ED</span>, <span class=\"token hexnumber string\">$EB</span>, <span class=\"token hexnumber string\">$F2</span> <span class=\"token comment\">; * RETRY</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$21</span>, <span class=\"token hexnumber string\">$CB</span>, <span class=\"token hexnumber string\">$0A</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; Blank, erases \"GAME OVER\"</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>, <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>\nbyte_BANKF_E<span class=\"token decimalnumber string\">9</span>DF:\n\t<span class=\"token directive keyword\">.db</span> ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>ab\n\t<span class=\"token directive keyword\">.db</span> ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>df\nbyte_BANKF_E<span class=\"token decimalnumber string\">9</span>E<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">693</span>\n\t<span class=\"token directive keyword\">.db</span> ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>da\nbyte_BANKF_E<span class=\"token decimalnumber string\">9</span>E<span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token directive keyword\">.db</span> ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>bd\n\t<span class=\"token directive keyword\">.db</span> ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">6</span>da\n","line":1880},{"comment":"=============== S U B R O U T I N E =======================================","content":"","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"","line":1899},{"comment":"\nDisplays extra life info on the pause screen\n","content":"PauseScreen_ExtraLife:\n\tLDA #ScreenUpdateBuffer_PauseExtraLife\n\tSTA CardScreenUpdateIndex\n\tLDA #$26\n\tSTA byte_RAM_7180\n\tLDA #$C8\n\tSTA byte_RAM_7181\n","htmlComment":"<p>Displays extra life info on the pause screen</p>\n","htmlContent":"PauseScreen_ExtraLife:\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_PauseExtraLife\n\t<span class=\"token opcode property\">STA</span> CardScreenUpdateIndex\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$26</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7180</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$C8</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">7181</span>\n","line":1903},{"comment":"\nLoads the palette and graphics for the pause screen to display\n","content":"PauseScreen_Card:\n\tJSR WaitForNMI_TurnOffPPU\n\n\tJSR ChangeTitleCardCHR\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR StashScreenScrollPosition\n","htmlComment":"<p>Loads the palette and graphics for the pause screen to display</p>\n","htmlContent":"PauseScreen_Card:\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI_TurnOffPPU\n\n\t<span class=\"token opcode property\">JSR</span> ChangeTitleCardCHR\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> StashScreenScrollPosition\n","line":1914},{"comment":"Load title card palette","content":"\tLDY #$23\nPauseScreen_Card_Loop:\n\tLDA TitleCardPalettes, Y\n\tSTA PPUBuffer_55F, Y\n\tDEY\n\tBPL PauseScreen_Card_Loop\n\nPauseScreen_Card_ScreenReset:\n\tJSR ResetScreenForTitleCard\n\n\tJSR EnableNMI_PauseTitleCard\n\n\tLDX CurrentWorld\n\tLDY CurrentLevel\n\tJSR DisplayLevelTitleCardText\n\n\tLDA #$FF\n\tSTA PPUScrollXMirror\n\tJSR WaitForNMI\n\n\tLDA CardScreenUpdateIndex\n\tSTA ScreenUpdateIndex\n\tJSR WaitForNMI\n\n\nEnableNMI:\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCtrlMirror\n\tSTA PPUCTRL\n\tRTS\n\n\n","htmlComment":"<p>Load title card palette</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$23</span>\nPauseScreen_Card_Loop:\n\t<span class=\"token opcode property\">LDA</span> TitleCardPalettes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">55</span>F, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> PauseScreen_Card_Loop\n\nPauseScreen_Card_ScreenReset:\n\t<span class=\"token opcode property\">JSR</span> ResetScreenForTitleCard\n\n\t<span class=\"token opcode property\">JSR</span> EnableNMI_PauseTitleCard\n\n\t<span class=\"token opcode property\">LDX</span> CurrentWorld\n\t<span class=\"token opcode property\">LDY</span> CurrentLevel\n\t<span class=\"token opcode property\">JSR</span> DisplayLevelTitleCardText\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">STA</span> PPUScrollXMirror\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\t<span class=\"token opcode property\">LDA</span> CardScreenUpdateIndex\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> WaitForNMI\n\n\nEnableNMI:\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIEnabled\n\t<span class=\"token opcode property\">STA</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":1925},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_EA33:\n\tJSR SetScrollXYTo0\n\n\tLDA PPUSTATUS\n\tLDY #$00\n\tLDA #$3F\n\tSTA PPUADDR\n\tSTY PPUADDR\n\nloc_BANKF_EA43:\n\tLDA unk_RAM_59C, Y\n\tSTA PPUDATA\n\tINY\n\tCPY #$10\n\tBCC loc_BANKF_EA43\n\n\tLDY #$00\n\tLDA PPUSTATUS\n\tLDA #$3F\n\tSTA PPUADDR\n\tLDA #$10\n\tSTA PPUADDR\n\nSetBonusChancePalette:\n\tLDA BonusChanceSpritePalettes, Y\n\tSTA PPUDATA\n\tINY\n\tCPY #$10\n\tBCC SetBonusChancePalette\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_EA<span class=\"token decimalnumber string\">33</span>:\n\t<span class=\"token opcode property\">JSR</span> SetScrollXYTo<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$3F</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">STY</span> PPUADDR\n\nloc_BANKF_EA<span class=\"token decimalnumber string\">43</span>:\n\t<span class=\"token opcode property\">LDA</span> unk_RAM_<span class=\"token decimalnumber string\">59</span>C, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANKF_EA<span class=\"token decimalnumber string\">43</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$3F</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\nSetBonusChancePalette:\n\t<span class=\"token opcode property\">LDA</span> BonusChanceSpritePalettes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">BCC</span> SetBonusChancePalette\n","line":1958},{"comment":"End of function sub_BANKF_EA33","content":"\n","htmlComment":"<p>End of function sub_BANKF_EA33</p>\n","htmlContent":"\n","line":1990},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_EA68:\n\tLDY ExtraLives\n\tDEY\n\tTYA\n\tJSR GetTwoDigitNumberTiles\n\n\tSTY byte_RAM_599\n\tSTA byte_RAM_59A\n\tLDA SlotMachineCoins\n\tCLC\n\tADC #$D0\n\tSTA byte_RAM_588\n\tLDA #ScreenUpdateBuffer_RAM_583\n\tSTA ScreenUpdateIndex\n\tLDA #Stack100_Menu\n\tSTA StackArea\n\tJSR EnableNMI\n\n\tJMP WaitForNMI\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_EA<span class=\"token decimalnumber string\">68</span>:\n\t<span class=\"token opcode property\">LDY</span> ExtraLives\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">JSR</span> GetTwoDigitNumberTiles\n\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">599</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">59</span><span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LDA</span> SlotMachineCoins\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">588</span>\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">583</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">LDA</span> #Stack<span class=\"token decimalnumber string\">100</span>_Menu\n\t<span class=\"token opcode property\">STA</span> StackArea\n\t<span class=\"token opcode property\">JSR</span> EnableNMI\n\n\t<span class=\"token opcode property\">JMP</span> WaitForNMI\n","line":1992},{"comment":"End of function sub_BANKF_EA68","content":"","htmlComment":"<p>End of function sub_BANKF_EA68</p>\n","htmlContent":"","line":2014},{"comment":"=============== S U B R O U T I N E =======================================","content":"","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"","line":2016},{"comment":"\nConverts a number to numerical tiles with space for 2 digits\n\nInput\nA = number to display\nOutput\nA = second digit of the number (ones)\nY = first digit of the number (tens)\n","content":"GetTwoDigitNumberTiles:\n\tLDY #$D0 ; zero\n\nGetTwoDigitNumberTiles_TensLoop:","htmlComment":"<p>Converts a number to numerical tiles with space for 2 digits</p>\n<p>Input\nA = number to display\nOutput\nA = second digit of the number (ones)\nY = first digit of the number (tens)</p>\n","htmlContent":"GetTwoDigitNumberTiles:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$D0</span> <span class=\"token comment\">; zero</span>\n\nGetTwoDigitNumberTiles_TensLoop:","line":2026},{"comment":"Count up the tens digit until A < 10","content":"\tCMP #$0A\n\tBCC GetTwoDigitNumberTiles_Ones\n\n\tSBC #$0A\n\tINY\n\tJMP GetTwoDigitNumberTiles_TensLoop\n\nGetTwoDigitNumberTiles_Ones:\n\tORA #$D0\n\tCPY #$D0\n\tBNE GetTwoDigitNumberTiles_Exit\n\n\tLDY #$FB\n\nGetTwoDigitNumberTiles_Exit:\n\tRTS\n\n\nWaitForNMI_TurnOffPPU:\n\tLDA #$00\n\tBEQ _WaitForNMI_StuffPPUMask ; Branch always\n\nWaitForNMI_TurnOnPPU:\n\tLDA #PPUMask_ShowLeft8Pixels_BG | PPUMask_ShowLeft8Pixels_SPR | PPUMask_ShowBackground | PPUMask_ShowSprites\n\n_WaitForNMI_StuffPPUMask:\n\tSTA PPUMaskMirror\n\nWaitForNMI:\n\tLDA ScreenUpdateIndex\n\tASL A\n\tTAX\n\tLDA ScreenUpdateBufferPointers, X\n\tSTA RAM_PPUDataBufferPointer\n\tLDA ScreenUpdateBufferPointers + 1, X\n\tSTA RAM_PPUDataBufferPointer + 1\n\tLDA #$00\n\tSTA NMIWaitFlag ; Start waiting for NMI to finish\n\nWaitForNMILoop:\n\tLDA NMIWaitFlag ; Has the NMI routine set the flag yet?\n\tBPL WaitForNMILoop ; If no, wait some more\n\n\tRTS ; If yes, go back to what we were doing\n","htmlComment":"<p>Count up the tens digit until A &#x3C; 10</p>\n","htmlContent":"\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">BCC</span> GetTwoDigitNumberTiles_Ones\n\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">JMP</span> GetTwoDigitNumberTiles_TensLoop\n\nGetTwoDigitNumberTiles_Ones:\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$D0</span>\n\t<span class=\"token opcode property\">BNE</span> GetTwoDigitNumberTiles_Exit\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$FB</span>\n\nGetTwoDigitNumberTiles_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n\nWaitForNMI_TurnOffPPU:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">BEQ</span> _WaitForNMI_StuffPPUMask <span class=\"token comment\">; Branch always</span>\n\nWaitForNMI_TurnOnPPU:\n\t<span class=\"token opcode property\">LDA</span> #PPUMask_ShowLeft<span class=\"token decimalnumber string\">8</span>Pixels_BG | PPUMask_ShowLeft<span class=\"token decimalnumber string\">8</span>Pixels_SPR | PPUMask_ShowBackground | PPUMask_ShowSprites\n\n_WaitForNMI_StuffPPUMask:\n\t<span class=\"token opcode property\">STA</span> PPUMaskMirror\n\nWaitForNMI:\n\t<span class=\"token opcode property\">LDA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> ScreenUpdateBufferPointers, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> RAM_PPUDataBufferPointer\n\t<span class=\"token opcode property\">LDA</span> ScreenUpdateBufferPointers + <span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> RAM_PPUDataBufferPointer + <span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> NMIWaitFlag <span class=\"token comment\">; Start waiting for NMI to finish</span>\n\nWaitForNMILoop:\n\t<span class=\"token opcode property\">LDA</span> NMIWaitFlag <span class=\"token comment\">; Has the NMI routine set the flag yet?</span>\n\t<span class=\"token opcode property\">BPL</span> WaitForNMILoop <span class=\"token comment\">; If no, wait some more</span>\n\n\t<span class=\"token opcode property\">RTS</span> <span class=\"token comment\">; If yes, go back to what we were doing</span>\n","line":2031},{"comment":"End of function WaitForNMI","content":"\n","htmlComment":"<p>End of function WaitForNMI</p>\n","htmlContent":"\n","line":2077},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_EAC2:\n\tLDA Player1JoypadPress\n\tBPL locret_BANKF_EAD1\n\n\tLDX #$00\n\nloc_BANKF_EAC8:\n\tLDA ObjectXLo, X\n\tBNE loc_BANKF_EAD2\n\n\tINX\n\tCPX #$03\n\tBCC loc_BANKF_EAC8\n\nlocret_BANKF_EAD1:\n\tRTS\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_EAC<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">BPL</span> locret_BANKF_EAD<span class=\"token decimalnumber string\">1</span>\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$00</span>\n\nloc_BANKF_EAC<span class=\"token decimalnumber string\">8</span>:\n\t<span class=\"token opcode property\">LDA</span> ObjectXLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EAD<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANKF_EAC<span class=\"token decimalnumber string\">8</span>\n\nlocret_BANKF_EAD<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2079},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_EAD2:\n\tLDA #$00\n\tSTA ObjectXLo, X\n\tLDA #SoundEffect1_CherryGet\n\tSTA SoundEffectQueue1\n\tRTS\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_EAD<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">LDA</span> #SoundEffect<span class=\"token decimalnumber string\">1</span>_CherryGet\n\t<span class=\"token opcode property\">STA</span> SoundEffectQueue<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":2098},{"comment":"End of function sub_BANKF_EAC2","content":"\n","htmlComment":"<p>End of function sub_BANKF_EAC2</p>\n","htmlContent":"\n","line":2107},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_EADC:\n\tLDX #$02\n\nloc_BANKF_EADE:\n\tLDA ObjectXLo, X\n\tBEQ loc_BANKF_EAF2\n\n\tDEC ObjectXLo + 3, X\n\tBNE loc_BANKF_EAF2\n\n\tLDA #$04\n\tSTA ObjectXLo + 3, X\n\tDEC ObjectXLo + 6, X\n\tBPL loc_BANKF_EAF2\n\n\tLDA #$07\n\tSTA ObjectXLo + 6, X\n\nloc_BANKF_EAF2:\n\tDEX\n\tBPL loc_BANKF_EADE\n\n\tRTS\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_EADC:\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$02</span>\n\nloc_BANKF_EADE:\n\t<span class=\"token opcode property\">LDA</span> ObjectXLo, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_EAF<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">DEC</span> ObjectXLo + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EAF<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">DEC</span> ObjectXLo + <span class=\"token decimalnumber string\">6</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_EAF<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXLo + <span class=\"token decimalnumber string\">6</span>, <span class=\"token register variable\">X</span>\n\nloc_BANKF_EAF<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_EADE\n\n\t<span class=\"token opcode property\">RTS</span>\n","line":2109},{"comment":"End of function sub_BANKF_EADC","content":"\n","htmlComment":"<p>End of function sub_BANKF_EADC</p>\n","htmlContent":"\n","line":2135},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_EAF6:\n\tLDA #$02\n\tSTA byte_RAM_0\n\nloc_BANKF_EAFA:\n\tLDA byte_RAM_0\n\tTAY\n\tASL A\n\tASL A\n\tASL A\n\tTAX\n\tADC ObjectXLo + 6, Y\n\tTAY\n\tLDA SlotMachineReelOrder1RAM, Y\n\tTAY\n\tLDA #$07\n\tSTA byte_RAM_1\n\nloc_BANKF_EB0D:\n\tLDA BonusChanceCherrySprite, Y\n\tSTA SpriteDMAArea + $10, X\n\tINX\n\tINY\n\tDEC byte_RAM_1\n\tBPL loc_BANKF_EB0D\n\n\tDEC byte_RAM_0\n\tBPL loc_BANKF_EAFA\n\n\tLDX #$17\n\nloc_BANKF_EB1F:\n\tTXA\n\tAND #$18\n\tASL A\n\tASL A\n\tADC SpriteDMAArea + $10, X\n\tSTA SpriteDMAArea + $10, X\n\tDEX\n\tDEX\n\tDEX\n\tDEX\n\tBPL loc_BANKF_EB1F\n\n\tRTS\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_EAF<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\nloc_BANKF_EAFA:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">ADC</span> ObjectXLo + <span class=\"token decimalnumber string\">6</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> SlotMachineReelOrder<span class=\"token decimalnumber string\">1</span>RAM, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\nloc_BANKF_EB<span class=\"token decimalnumber string\">0</span>D:\n\t<span class=\"token opcode property\">LDA</span> BonusChanceCherrySprite, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$10</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">INX</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_EB<span class=\"token decimalnumber string\">0</span>D\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_EAFA\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$17</span>\n\nloc_BANKF_EB<span class=\"token decimalnumber string\">1</span>F:\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$18</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ADC</span> SpriteDMAArea + <span class=\"token hexnumber string\">$10</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$10</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_EB<span class=\"token decimalnumber string\">1</span>F\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":2137},{"comment":"End of function sub_BANKF_EAF6","content":"IFNDEF BONUS_CHANCE_RAM_CLEANUP","htmlComment":"<p>End of function sub_BANKF_EAF6</p>\n","htmlContent":"IFNDEF BONUS_CHANCE_RAM_CLEANUP","line":2185},{"comment":"\nCopies the unused coin sprite from memory into the sprite DMA area at $200\n","content":"CopyUnusedCoinSpriteToSpriteArea:\n\tLDY #$00\n\nCopyUnusedCoinSpriteToSpriteArea_Loop:\n\tLDA unk_RAM_653, Y ; Copy two sprites from memory to memory.\n\tSTA SpriteDMAArea + $28, Y ; This is definitely efficient.\n\tINY ; Two sprites for each half of the coin.\n\tCPY #$08 ; Four bytes per sprite * 2 sprites = 8 bytes\n\tBCC CopyUnusedCoinSpriteToSpriteArea_Loop\n\n\tRTS\nENDIF\n\nloc_BANKF_EB3F:\n\tLDA #$00\n\tSTA OAMADDR\n\tLDA #$02\n\tSTA OAM_DMA\n\tJSR ChangeCHRBanks\n\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tJSR DoSoundProcessing\n\n\tLDA PPUCtrlMirror\n\tSTA PPUCTRL\n\tDEC NMIWaitFlag\n\tJMP loc_BANKF_EC61\n\n","htmlComment":"<p>Copies the unused coin sprite from memory into the sprite DMA area at $200</p>\n","htmlContent":"CopyUnusedCoinSpriteToSpriteArea:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\nCopyUnusedCoinSpriteToSpriteArea_Loop:\n\t<span class=\"token opcode property\">LDA</span> unk_RAM_<span class=\"token decimalnumber string\">653</span>, <span class=\"token register variable\">Y</span> <span class=\"token comment\">; Copy two sprites from memory to memory.</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$28</span>, <span class=\"token register variable\">Y</span> <span class=\"token comment\">; This is definitely efficient.</span>\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; Two sprites for each half of the coin.</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$08</span> <span class=\"token comment\">; Four bytes per sprite * 2 sprites = 8 bytes</span>\n\t<span class=\"token opcode property\">BCC</span> CopyUnusedCoinSpriteToSpriteArea_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\nloc_BANKF_EB<span class=\"token decimalnumber string\">3</span>F:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> OAMADDR\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> OAM_DMA\n\t<span class=\"token opcode property\">JSR</span> ChangeCHRBanks\n\n\t<span class=\"token opcode property\">LDA</span> PPUMaskMirror\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">JSR</span> DoSoundProcessing\n\n\t<span class=\"token opcode property\">LDA</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">DEC</span> NMIWaitFlag\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_EC<span class=\"token decimalnumber string\">61</span>\n\n","line":2190},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_EB5E:\n\tLDA #$00\n\tSTA PPUMASK\n\tSTA OAMADDR\n\tLDA #$02\n\tSTA OAM_DMA\n\tJSR ChangeCHRBanks\n\n\tJSR UpdatePPUFromBufferWithOptions\n\n\tJSR sub_BANKF_EC68\n\n\tLDA PPUScrollXMirror\n\tSTA PPUSCROLL\n\tLDA #$00\n\tSTA PPUSCROLL\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tJMP loc_BANKF_EC4B\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_EB<span class=\"token decimalnumber string\">5</span>E:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">STA</span> OAMADDR\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> OAM_DMA\n\t<span class=\"token opcode property\">JSR</span> ChangeCHRBanks\n\n\t<span class=\"token opcode property\">JSR</span> UpdatePPUFromBufferWithOptions\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EC<span class=\"token decimalnumber string\">68</span>\n\n\t<span class=\"token opcode property\">LDA</span> PPUScrollXMirror\n\t<span class=\"token opcode property\">STA</span> PPUSCROLL\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUSCROLL\n\t<span class=\"token opcode property\">LDA</span> PPUMaskMirror\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_EC<span class=\"token decimalnumber string\">4</span>B\n\n","line":2220},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_EB86:\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tJMP loc_BANKF_EC5E\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_EB<span class=\"token decimalnumber string\">86</span>:\n\t<span class=\"token opcode property\">LDA</span> PPUMaskMirror\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_EC<span class=\"token decimalnumber string\">5</span>E\n\n","line":2242},{"comment":"public NMI","content":"NMI:\n\tPHP\n\tPHA\n\tTXA\n\tPHA\n\tTYA\n\tPHA\n\tBIT StackArea\n\tBPL loc_BANKF_EB5E ; branch if bit 7 was 0\n\n\tBVC loc_BANKF_EB3F ; branch if bit 6 was 0\n\n\tLDA #$00\n\tSTA PPUMASK\n\tSTA OAMADDR\n\tLDA #$02\n\tSTA OAM_DMA\n\tJSR ChangeCHRBanks\n\n\tLDA NMIWaitFlag\n\tBNE loc_BANKF_EB86\n\n\tLDA IsHorizontalLevel\n\tBEQ loc_BANKF_EC1F\n\n\tLDA byte_RAM_51C\n\tBEQ loc_BANKF_EBE8\n\n\tLDA #$00\n\tSTA byte_RAM_51C\n\tLDX #$1E\n\tLDY #$00\n\tLDA PPUSTATUS\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteVertical | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCTRL\n\nloc_BANKF_EBC9:\n\tLDA_abs byte_RAM_D1\n\tSTA PPUADDR\n\tLDA_abs byte_RAM_D2\n\tSTA PPUADDR\n\nloc_BANKF_EBD5:\n\tLDA unk_RAM_380, Y\n\tSTA PPUDATA\n\tINY\n\tDEX\n\tBNE loc_BANKF_EBD5\n\n\tLDX #$1E\n\tINC_abs byte_RAM_D2\n\n\tCPY #$3C\n\tBNE loc_BANKF_EBC9\n\nloc_BANKF_EBE8:\n\tLDA byte_RAM_3BC\n\tBEQ loc_BANKF_EC1F\n\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteVertical | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCTRL\n\tLDY #$00\n\tLDX #$04\n\nloc_BANKF_EBF6:\n\tLDA PPUSTATUS\n\tLDA byte_RAM_3BC\n\tSTA PPUADDR\n\tLDA byte_RAM_3BD\n\tSTA PPUADDR\n\nloc_BANKF_EC05:\n\tLDA unk_RAM_3BE, Y\n\tSTA PPUDATA\n\tINY\n\tTYA\n\tLSR A\n\tBCS loc_BANKF_EC05\n\n\tLDA byte_RAM_3BD\n\tCLC\n\tADC #$08\n\tSTA byte_RAM_3BD\n\tDEX\n\tBNE loc_BANKF_EBF6\n\n\tSTX byte_RAM_3BC\n\nloc_BANKF_EC1F:\n\tJSR UpdatePPUFromBufferNMI\n\n\tJSR sub_BANKF_EC68\n\n\tLDA #$B0\n\tORA byte_RAM_C9\n\tLDY IsHorizontalLevel\n\tBNE loc_BANKF_EC31\n\n\tAND #$FE\n\tORA byte_RAM_C8\n\nloc_BANKF_EC31:\n\tSTA PPUCTRL\n\tSTA PPUCtrlMirror\n\tLDA PPUScrollXMirror\n\tSTA PPUSCROLL\n\tLDA PPUScrollYMirror\n\tCLC\n\tADC BackgroundYOffset\n\tSTA PPUSCROLL\n\tLDA PPUMaskMirror\n\tSTA PPUMASK\n\tINC byte_RAM_10\n\nloc_BANKF_EC4B:\n\tLDA ScreenUpdateIndex\n\tBNE loc_BANKF_EC55\n\n\tSTA byte_RAM_300\n\tSTA PPUBuffer_301\n\nloc_BANKF_EC55:\n\tLDA #ScreenUpdateBuffer_RAM_301\n\tSTA ScreenUpdateIndex\n\tJSR UpdateJoypads\n\n\tDEC NMIWaitFlag\n\nloc_BANKF_EC5E:\n\tJSR DoSoundProcessing\n\nIFDEF DEBUG\nDebugHook:","htmlComment":"<p>public NMI</p>\n","htmlContent":"NMI:\n\t<span class=\"token opcode property\">PHP</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">BIT</span> StackArea\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_EB<span class=\"token decimalnumber string\">5</span>E <span class=\"token comment\">; branch if bit 7 was 0</span>\n\n\t<span class=\"token opcode property\">BVC</span> loc_BANKF_EB<span class=\"token decimalnumber string\">3</span>F <span class=\"token comment\">; branch if bit 6 was 0</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">STA</span> OAMADDR\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> OAM_DMA\n\t<span class=\"token opcode property\">JSR</span> ChangeCHRBanks\n\n\t<span class=\"token opcode property\">LDA</span> NMIWaitFlag\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EB<span class=\"token decimalnumber string\">86</span>\n\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_EC<span class=\"token decimalnumber string\">1</span>F\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">51</span>C\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_EBE<span class=\"token decimalnumber string\">8</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">51</span>C\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$1E</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteVertical | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIEnabled\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\nloc_BANKF_EBC<span class=\"token decimalnumber string\">9</span>:\n\tLDA_abs byte_RAM_D<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\tLDA_abs byte_RAM_D<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\nloc_BANKF_EBD<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">LDA</span> unk_RAM_<span class=\"token decimalnumber string\">380</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EBD<span class=\"token decimalnumber string\">5</span>\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$1E</span>\n\tINC_abs byte_RAM_D<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$3C</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EBC<span class=\"token decimalnumber string\">9</span>\n\nloc_BANKF_EBE<span class=\"token decimalnumber string\">8</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>BC\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_EC<span class=\"token decimalnumber string\">1</span>F\n\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteVertical | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIEnabled\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$04</span>\n\nloc_BANKF_EBF<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>BC\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>BD\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">05</span>:\n\t<span class=\"token opcode property\">LDA</span> unk_RAM_<span class=\"token decimalnumber string\">3</span>BE, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_EC<span class=\"token decimalnumber string\">05</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>BD\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>BD\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EBF<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">STX</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>BC\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">1</span>F:\n\t<span class=\"token opcode property\">JSR</span> UpdatePPUFromBufferNMI\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_EC<span class=\"token decimalnumber string\">68</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$B0</span>\n\t<span class=\"token opcode property\">ORA</span> byte_RAM_C<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">LDY</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EC<span class=\"token decimalnumber string\">31</span>\n\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$FE</span>\n\t<span class=\"token opcode property\">ORA</span> byte_RAM_C<span class=\"token decimalnumber string\">8</span>\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">31</span>:\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">STA</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">LDA</span> PPUScrollXMirror\n\t<span class=\"token opcode property\">STA</span> PPUSCROLL\n\t<span class=\"token opcode property\">LDA</span> PPUScrollYMirror\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> BackgroundYOffset\n\t<span class=\"token opcode property\">STA</span> PPUSCROLL\n\t<span class=\"token opcode property\">LDA</span> PPUMaskMirror\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">4</span>B:\n\t<span class=\"token opcode property\">LDA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EC<span class=\"token decimalnumber string\">55</span>\n\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">300</span>\n\t<span class=\"token opcode property\">STA</span> PPUBuffer_<span class=\"token decimalnumber string\">301</span>\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">55</span>:\n\t<span class=\"token opcode property\">LDA</span> #ScreenUpdateBuffer_RAM_<span class=\"token decimalnumber string\">301</span>\n\t<span class=\"token opcode property\">STA</span> ScreenUpdateIndex\n\t<span class=\"token opcode property\">JSR</span> UpdateJoypads\n\n\t<span class=\"token opcode property\">DEC</span> NMIWaitFlag\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">5</span>E:\n\t<span class=\"token opcode property\">JSR</span> DoSoundProcessing\n\nIFDEF DEBUG\nDebugHook:","line":2250},{"comment":"Hook into debug routine if select is pressed","content":"\tLDA Player1JoypadPress\n\tCMP #ControllerInput_Select\n\tBNE loc_BANKF_EC61\n\tLDA #>Debug_Init\n\tPHA\n\tLDA #<Debug_Init\n\tPHA\n\tPHP\n\tRTI\nENDIF\n\nloc_BANKF_EC61:\n\tPLA\n\tTAY\n\tPLA\n\tTAX\n\tPLA\n\tPLP\n\tRTI\n","htmlComment":"<p>Hook into debug routine if select is pressed</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">CMP</span> #ControllerInput_Select\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_EC<span class=\"token decimalnumber string\">61</span>\n\t<span class=\"token opcode property\">LDA</span> #>Debug_Init\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> #&#x3C;Debug_Init\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">PHP</span>\n\t<span class=\"token opcode property\">RTI</span>\nENDIF\n\nloc_BANKF_EC<span class=\"token decimalnumber string\">61</span>:\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">PLP</span>\n\t<span class=\"token opcode property\">RTI</span>\n","line":2384},{"comment":"End of function NMI","content":"\n","htmlComment":"<p>End of function NMI</p>\n","htmlContent":"\n","line":2405},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_EC68:\n\tLDA PPUSTATUS\n\tLDA #$3F\n\tSTA PPUADDR\n\tLDA #$00\n\tSTA PPUADDR\n\tSTA PPUADDR\n\tSTA PPUADDR\n\tRTS\n\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_EC<span class=\"token decimalnumber string\">68</span>:\n\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$3F</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":2407},{"comment":"End of function sub_BANKF_EC68","content":"DoSoundProcessing:\n\tLDA #PRGBank_4_5\n\tJSR ChangeMappedPRGBankWithoutSaving\n\n\tJSR StartProcessingSoundQueue\n\n\tLDA MMC3PRGBankTemp\n\tJMP ChangeMappedPRGBank\n\n\nClearNametablesAndSprites:\n\tLDA #$00\n\tSTA PPUMaskMirror\n\tSTA PPUMASK\n\tLDA #$20\n\tJSR ClearNametableChunk\n\n\tLDA #$24\n\tJSR ClearNametableChunk\n\n\tLDA #$28\n\tJSR ClearNametableChunk\n\n\nHideAllSprites:\n\tLDY #$00\n\tLDA #$F8\n\nHideAllSpritesLoop:\n\tSTA SpriteDMAArea, Y\n\tDEY\n\tDEY\n\tDEY\n\tDEY\n\tBNE HideAllSpritesLoop\n\n\tRTS\n\n\nClearNametableChunk:\n\tLDY PPUSTATUS ; Reset PPU address latch\n\tLDY #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIDisabled\n\tSTY PPUCTRL ; Turn off NMI\n\tSTY PPUCtrlMirror\n\tLDY #$00","htmlComment":"<p>End of function sub_BANKF_EC68</p>\n","htmlContent":"DoSoundProcessing:\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">4</span>_<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBankWithoutSaving\n\n\t<span class=\"token opcode property\">JSR</span> StartProcessingSoundQueue\n\n\t<span class=\"token opcode property\">LDA</span> MMC<span class=\"token decimalnumber string\">3</span>PRGBankTemp\n\t<span class=\"token opcode property\">JMP</span> ChangeMappedPRGBank\n\n\nClearNametablesAndSprites:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PPUMaskMirror\n\t<span class=\"token opcode property\">STA</span> PPUMASK\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$20</span>\n\t<span class=\"token opcode property\">JSR</span> ClearNametableChunk\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$24</span>\n\t<span class=\"token opcode property\">JSR</span> ClearNametableChunk\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$28</span>\n\t<span class=\"token opcode property\">JSR</span> ClearNametableChunk\n\n\nHideAllSprites:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$F8</span>\n\nHideAllSpritesLoop:\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BNE</span> HideAllSpritesLoop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n\nClearNametableChunk:\n\t<span class=\"token opcode property\">LDY</span> PPUSTATUS <span class=\"token comment\">; Reset PPU address latch</span>\n\t<span class=\"token opcode property\">LDY</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIDisabled\n\t<span class=\"token opcode property\">STY</span> PPUCTRL <span class=\"token comment\">; Turn off NMI</span>\n\t<span class=\"token opcode property\">STY</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>","line":2419},{"comment":"A contains the high byte of the PPU address (generally $20, $24, $28)","content":"\tSTA PPUADDR\n\tSTY PPUADDR ; And Y has the low byte ($00)\n\tLDX #$03 ; Do $300 bytes for this loop.\n\tLDA #$FB\n\nClearNametableChunk_Loop:\n\tSTA PPUDATA ; Store the blank tile $300 times\n\tINY\n\tBNE ClearNametableChunk_Loop ; (Loop falls through every $100 bytes)\n\n\tDEX\n\tBNE ClearNametableChunk_Loop ; Loop falls through after $300 bytes\n\nClearNametableChunk_Loop2:","htmlComment":"<p>A contains the high byte of the PPU address (generally $20, $24, $28)</p>\n","htmlContent":"\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">STY</span> PPUADDR <span class=\"token comment\">; And Y has the low byte ($00)</span>\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$03</span> <span class=\"token comment\">; Do $300 bytes for this loop.</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$FB</span>\n\nClearNametableChunk_Loop:\n\t<span class=\"token opcode property\">STA</span> PPUDATA <span class=\"token comment\">; Store the blank tile $300 times</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">BNE</span> ClearNametableChunk_Loop <span class=\"token comment\">; (Loop falls through every $100 bytes)</span>\n\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> ClearNametableChunk_Loop <span class=\"token comment\">; Loop falls through after $300 bytes</span>\n\nClearNametableChunk_Loop<span class=\"token decimalnumber string\">2</span>:","line":2467},{"comment":"Do another loop of $C0 bytes to clear the\nrest of the nametable chunk","content":"\tSTA PPUDATA\n\tINY\n\tCPY #$C0\n\tBNE ClearNametableChunk_Loop2\n\n\tLDA #$00 ; Load A with $00 for clearing the attribute tables\n\nClearNametableChunk_AttributeTableLoop:\n\tSTA PPUDATA ; Clear attribute table...\n\tINY ; Y was $C0 on entry, so write $40 bytes...\n\tBNE ClearNametableChunk_AttributeTableLoop\n\nPPUBufferUpdatesComplete:\n\tRTS ; Woo fucking hoo\n\n","htmlComment":"<p>Do another loop of $C0 bytes to clear the\nrest of the nametable chunk</p>\n","htmlContent":"\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$C0</span>\n\t<span class=\"token opcode property\">BNE</span> ClearNametableChunk_Loop<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span> <span class=\"token comment\">; Load A with $00 for clearing the attribute tables</span>\n\nClearNametableChunk_AttributeTableLoop:\n\t<span class=\"token opcode property\">STA</span> PPUDATA <span class=\"token comment\">; Clear attribute table...</span>\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; Y was $C0 on entry, so write $40 bytes...</span>\n\t<span class=\"token opcode property\">BNE</span> ClearNametableChunk_AttributeTableLoop\n\nPPUBufferUpdatesComplete:\n\t<span class=\"token opcode property\">RTS</span> <span class=\"token comment\">; Woo fucking hoo</span>\n\n","line":2483},{"comment":"\nUsed to update the PPU nametable / palette data during NMI.\n\nThis function can only handle $100 bytes of data\n(actually less).\n\nUnlike UpdatePPUFromBuffer, this one does not support\n$80 or $40 as options, instead treating them as direct length.\nIt also does not increment the buffer pointer, only using Y\nto read further data.\n\nIf Y overflows, it will resume copying again from the beginning,\nand can get into an infinite loop if it doesn't encounter\na terminating $00. Welp!\n","content":"UpdatePPUFromBufferNMI:\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled\n\tSTA PPUCTRL\n\tLDY #$00\n\nUpdatePPUFromBufferNMI_CheckForBuffer:\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tBEQ PPUBufferUpdatesComplete\n\n\tLDX PPUSTATUS\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tTAX\n\nUpdatePPUFromBufferNMI_CopyLoop:\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tSTA PPUDATA\n\tDEX\n\tBNE UpdatePPUFromBufferNMI_CopyLoop\n\n\tINY\n\tJMP UpdatePPUFromBufferNMI_CheckForBuffer\n\n","htmlComment":"<p>Used to update the PPU nametable / palette data during NMI.</p>\n<p>This function can only handle $100 bytes of data\n(actually less).</p>\n<p>Unlike UpdatePPUFromBuffer, this one does not support\n$80 or $40 as options, instead treating them as direct length.\nIt also does not increment the buffer pointer, only using Y\nto read further data.</p>\n<p>If Y overflows, it will resume copying again from the beginning,\nand can get into an infinite loop if it doesn't encounter\na terminating $00. Welp!</p>\n","htmlContent":"UpdatePPUFromBufferNMI:\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIEnabled\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\nUpdatePPUFromBufferNMI_CheckForBuffer:\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BEQ</span> PPUBufferUpdatesComplete\n\n\t<span class=\"token opcode property\">LDX</span> PPUSTATUS\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">TAX</span>\n\nUpdatePPUFromBufferNMI_CopyLoop:\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> UpdatePPUFromBufferNMI_CopyLoop\n\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">JMP</span> UpdatePPUFromBufferNMI_CheckForBuffer\n\n","line":2514},{"comment":"\nThis reads from $F0/$F1 to determine where a \"buffer\" is.\nBasically, a buffer is like this:\n\nPPUADDR  LEN DATA ......\n$20 $04  $03 $E9 $F0 $FB\n$25 $5F  $4F $FB\n$21 $82  $84 $00 $01 $02 $03\n$00\n\nPPUADDR is two bytes (hi,lo) for the address to send to PPUADDR.\nLEN is the length, with the following two bitmasks:\n- $80: Set the \"draw vertically\" option\n- $40: Use ONE tile instead of a string\nDATA is either (LEN) bytes or one byte.\n\nAfter (LEN) bytes have been written, the buffer pointer\nis incremented to (LEN+2) and the function restarts.\nA byte of $00 terminates execution and returns.\n\nThere is a similar function, UpdatePPUFromBufferNMI,\nthat is called during NMI, but unlike this one,\nthat one does NOT use bitmasks, nor increment the pointer.\n","content":"UpdatePPUFromBufferWithOptions:","htmlComment":"<p>This reads from $F0/$F1 to determine where a \"buffer\" is.\nBasically, a buffer is like this:</p>\n<p>PPUADDR  LEN DATA ......\n$20 $04  $03 $E9 $F0 $FB\n$25 $5F  $4F $FB\n$21 $82  $84 $00 $01 $02 $03\n$00</p>\n<p>PPUADDR is two bytes (hi,lo) for the address to send to PPUADDR.\nLEN is the length, with the following two bitmasks:</p>\n<ul>\n<li>$80: Set the \"draw vertically\" option</li>\n<li>$40: Use ONE tile instead of a string\nDATA is either (LEN) bytes or one byte.</li>\n</ul>\n<p>After (LEN) bytes have been written, the buffer pointer\nis incremented to (LEN+2) and the function restarts.\nA byte of $00 terminates execution and returns.</p>\n<p>There is a similar function, UpdatePPUFromBufferNMI,\nthat is called during NMI, but unlike this one,\nthat one does NOT use bitmasks, nor increment the pointer.</p>\n","htmlContent":"UpdatePPUFromBufferWithOptions:","line":2567},{"comment":"First, check if we have anything to send to the PPU","content":"\tLDY #$00\n\tLDA (RAM_PPUDataBufferPointer), Y","htmlComment":"<p>First, check if we have anything to send to the PPU</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span>","line":2569},{"comment":"If the first byte at the buffer address is #$00, we have nothing. We're done here!","content":"\tBEQ PPUBufferUpdatesComplete\n","htmlComment":"<p>If the first byte at the buffer address is #$00, we have nothing. We're done here!</p>\n","htmlContent":"\t<span class=\"token opcode property\">BEQ</span> PPUBufferUpdatesComplete\n","line":2572},{"comment":"Clear address latch","content":"\tLDX PPUSTATUS","htmlComment":"<p>Clear address latch</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDX</span> PPUSTATUS","line":2575},{"comment":"Set the PPU address to the\naddress from the PPU buffer","content":"\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y\n\tSTA PPUADDR\n\tINY\n\tLDA (RAM_PPUDataBufferPointer), Y ; Data segment length byte...\n\tASL A\n\tPHA","htmlComment":"<p>Set the PPU address to the\naddress from the PPU buffer</p>\n","htmlContent":"\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> PPUADDR\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span> <span class=\"token comment\">; Data segment length byte...</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">PHA</span>","line":2578},{"comment":"Enable NMI + Vertical increment + whatever else was already set...","content":"\tLDA PPUCtrlMirror\n\tORA #PPUCtrl_Base2000 | PPUCtrl_WriteVertical | PPUCtrl_Sprite0000 | PPUCtrl_Background0000 | PPUCtrl_SpriteSize8x8 | PPUCtrl_NMIEnabled","htmlComment":"<p>Enable NMI + Vertical increment + whatever else was already set...</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> PPUCtrlMirror\n\t<span class=\"token opcode property\">ORA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteVertical | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">8</span> | PPUCtrl_NMIEnabled","line":2587},{"comment":"...but only if $80 was set in the length byte. Otherwise, turn vertical incrementing back off.","content":"\tBCS UpdatePPUFBWO_EnableVerticalIncrement\n\n\tAND #PPUCtrl_Base2C00 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite1000 | PPUCtrl_Background1000 | PPUCtrl_SpriteSize8x16 | PPUCtrl_NMIEnabled | $40\n\nUpdatePPUFBWO_EnableVerticalIncrement:\n\tSTA PPUCTRL\n\tPLA","htmlComment":"<p>...but only if $80 was set in the length byte. Otherwise, turn vertical incrementing back off.</p>\n","htmlContent":"\t<span class=\"token opcode property\">BCS</span> UpdatePPUFBWO_EnableVerticalIncrement\n\n\t<span class=\"token opcode property\">AND</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2</span>C<span class=\"token decimalnumber string\">00</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">1000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">16</span> | PPUCtrl_NMIEnabled | <span class=\"token hexnumber string\">$40</span>\n\nUpdatePPUFBWO_EnableVerticalIncrement:\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">PLA</span>","line":2590},{"comment":"Check if the second bit ($40) in the length has been set","content":"\tASL A","htmlComment":"<p>Check if the second bit ($40) in the length has been set</p>\n","htmlContent":"\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>","line":2598},{"comment":"If not, we are copying a string of data","content":"\tBCC UpdatePPUFBWO_CopyStringOfTiles\n","htmlComment":"<p>If not, we are copying a string of data</p>\n","htmlContent":"\t<span class=\"token opcode property\">BCC</span> UpdatePPUFBWO_CopyStringOfTiles\n","line":2600},{"comment":"Length (A) is now (A << 2).\nOR in #$02 now if we are copying a single tile;\nThis will be rotated out into register C momentarily","content":"\tORA #$02\n\tINY\n\nUpdatePPUFBWO_CopyStringOfTiles:","htmlComment":"<p>Length (A) is now (A &#x3C;&#x3C; 2).\nOR in #$02 now if we are copying a single tile;\nThis will be rotated out into register C momentarily</p>\n","htmlContent":"\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">INY</span>\n\nUpdatePPUFBWO_CopyStringOfTiles:","line":2605},{"comment":"Restore the data length.\nA = (Length & #$3F)","content":"\tLSR A\n","htmlComment":"<p>Restore the data length.\nA = (Length &#x26; #$3F)</p>\n","htmlContent":"\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n","line":2611},{"comment":"This moves the second bit (used above to signal\n\"one tile mode\") into the Carry register","content":"\tLSR A\n\tTAX ; Copy the length into register X\n\nUpdatePPUFBWO_CopyLoop:","htmlComment":"<p>This moves the second bit (used above to signal\n\"one tile mode\") into the Carry register</p>\n","htmlContent":"\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span> <span class=\"token comment\">; Copy the length into register X</span>\n\nUpdatePPUFBWO_CopyLoop:","line":2615},{"comment":"If Carry is set (from above), we're only copying one tile.\nDo not increment Y to advance copying index","content":"\tBCS UpdatePPUFBWO_CopySingleTileSkip\n\n\tINY\n\nUpdatePPUFBWO_CopySingleTileSkip:\n\tLDA (RAM_PPUDataBufferPointer), Y ; Load data from buffer...\n\tSTA PPUDATA ; ...store it to the PPU.\n\tDEX ; Decrease remaining length.\n\tBNE UpdatePPUFBWO_CopyLoop ; Are we done? If no, copy more stuff\n\n\tINY ; Y contains the amount of copied data now\n\tTYA ; ...and now A does\n\tCLC ; Clear carry bit (from earlier)\n\tADC RAM_PPUDataBufferPointer ; Add the length to the PPU data buffer\n\tSTA RAM_PPUDataBufferPointer\n\tLDA RAM_PPUDataBufferPointer + 1","htmlComment":"<p>If Carry is set (from above), we're only copying one tile.\nDo not increment Y to advance copying index</p>\n","htmlContent":"\t<span class=\"token opcode property\">BCS</span> UpdatePPUFBWO_CopySingleTileSkip\n\n\t<span class=\"token opcode property\">INY</span>\n\nUpdatePPUFBWO_CopySingleTileSkip:\n\t<span class=\"token opcode property\">LDA</span> (RAM_PPUDataBufferPointer), <span class=\"token register variable\">Y</span> <span class=\"token comment\">; Load data from buffer...</span>\n\t<span class=\"token opcode property\">STA</span> PPUDATA <span class=\"token comment\">; ...store it to the PPU.</span>\n\t<span class=\"token opcode property\">DEX</span> <span class=\"token comment\">; Decrease remaining length.</span>\n\t<span class=\"token opcode property\">BNE</span> UpdatePPUFBWO_CopyLoop <span class=\"token comment\">; Are we done? If no, copy more stuff</span>\n\n\t<span class=\"token opcode property\">INY</span> <span class=\"token comment\">; Y contains the amount of copied data now</span>\n\t<span class=\"token opcode property\">TYA</span> <span class=\"token comment\">; ...and now A does</span>\n\t<span class=\"token opcode property\">CLC</span> <span class=\"token comment\">; Clear carry bit (from earlier)</span>\n\t<span class=\"token opcode property\">ADC</span> RAM_PPUDataBufferPointer <span class=\"token comment\">; Add the length to the PPU data buffer</span>\n\t<span class=\"token opcode property\">STA</span> RAM_PPUDataBufferPointer\n\t<span class=\"token opcode property\">LDA</span> RAM_PPUDataBufferPointer + <span class=\"token decimalnumber string\">1</span>","line":2621},{"comment":"If the length overflowed (carry set),\nadd that to the hi byte of the pointer","content":"\tADC #$00\n\tSTA RAM_PPUDataBufferPointer + 1","htmlComment":"<p>If the length overflowed (carry set),\nadd that to the hi byte of the pointer</p>\n","htmlContent":"\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> RAM_PPUDataBufferPointer + <span class=\"token decimalnumber string\">1</span>","line":2639},{"comment":"Start the cycle over again.\n(If the PPU buffer points to a 0, it will terminate after this jump)","content":"\tJMP UpdatePPUFromBufferWithOptions\n\n\nIFDEF DEBUG\n\t.include \"src/extras/debug-f.asm\"\nENDIF\n\nIF INES_MAPPER == MAPPER_FME7\nRESET_FME7:\n\tLDA #$08 ; PRG bank 0\n\tSTA $8000\n\tLDA #%11000000\n\tSTA $A000\n\n\tLDA #$09 ; PRG bank 1\n\tSTA $8000\n\tLDA #$00 ; ROM bank 0\n\tSTA $A000\n\n\tLDA #$0A ; PRG bank 2\n\tSTA $8000\n\tLDA #$01 ; ROM bank 1\n\tSTA $A000\n\n\tLDA #$0B ; PRG bank 3\n\tSTA $8000\n\tLDA #$0E ; ROM bank E\n\tSTA $A000\n\n\tJMP RESET\n\n\nChangeCHRBanks_FME7:\n\tLDY BackgroundCHR1\n\tLDA #$04\n\tSTA $8000\n\tSTY $A000\n\n\tINY\n\tLDA #$05\n\tSTA $8000\n\tSTY $A000\n\n\tLDY BackgroundCHR2\n\tLDA #$06\n\tSTA $8000\n\tSTY $A000\n\n\tINY\n\tLDA #$07\n\tSTA $8000\n\tSTY $A000\n\n\tLDY #$03\nChangeCHRBanks_FME7_Loop:\n\tTYA\n\tORA #$80\n\tSTA $8000\n\tLDA SpriteCHR1, Y\n\tSTA $A000\n\tDEY\n\tBPL ChangeCHRBanks_FME7_Loop\n\n\tRTS\n\nELSEIF INES_MAPPER == MAPPER_MMC5\nRESET_MMC5:","htmlComment":"<p>Start the cycle over again.\n(If the PPU buffer points to a 0, it will terminate after this jump)</p>\n","htmlContent":"\t<span class=\"token opcode property\">JMP</span> UpdatePPUFromBufferWithOptions\n\n\nIFDEF DEBUG\n\t<span class=\"token directive keyword\">.include</span> <a class=\"token string\" href=\"/smb2/src/extras/debug-f.asm\">\"src/extras/debug-f.asm\"</a>\nENDIF\n\nIF INES_MAPPER == MAPPER_FME<span class=\"token decimalnumber string\">7</span>\nRESET_FME<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$08</span> <span class=\"token comment\">; PRG bank 0</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token binarynumber string\">#%11000000</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$09</span> <span class=\"token comment\">; PRG bank 1</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span> <span class=\"token comment\">; ROM bank 0</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span> <span class=\"token comment\">; PRG bank 2</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span> <span class=\"token comment\">; ROM bank 1</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0B</span> <span class=\"token comment\">; PRG bank 3</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0E</span> <span class=\"token comment\">; ROM bank E</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">JMP</span> RESET\n\n\nChangeCHRBanks_FME<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">LDY</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">STY</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$05</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">STY</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">LDY</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">STY</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">STY</span> <span class=\"token hexnumber string\">$A000</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\nChangeCHRBanks_FME<span class=\"token decimalnumber string\">7</span>_Loop:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$80</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> SpriteCHR<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> ChangeCHRBanks_FME<span class=\"token decimalnumber string\">7</span>_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\nELSEIF INES_MAPPER == MAPPER_MMC<span class=\"token decimalnumber string\">5</span>\nRESET_MMC<span class=\"token decimalnumber string\">5</span>:","line":2643},{"comment":"Set PRG mode 3 and CHR mode 3","content":"\tLDA #$03\n\tSTA $5100 ; PRG mode\n\tSTA $5101 ; CHR mode\n","htmlComment":"<p>Set PRG mode 3 and CHR mode 3</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$03</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5100</span> <span class=\"token comment\">; PRG mode</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5101</span> <span class=\"token comment\">; CHR mode</span>\n","line":2711},{"comment":"Enable PRG RAM writing","content":"\tLDA #$02\n\tSTA $5102 ; PRG RAM Protect 1\n\tLDA #$01\n\tSTA $5103 ; PRG RAM Protect 2\n","htmlComment":"<p>Enable PRG RAM writing</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5102</span> <span class=\"token comment\">; PRG RAM Protect 1</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5103</span> <span class=\"token comment\">; PRG RAM Protect 2</span>\n","line":2716},{"comment":"Set nametable mapping","content":"\tLDA #%01010000\n\tSTA $5105\n\n\tLDA #$00\n\tSTA $5113 ; PRG RAM bank\n\tSTA $5130 ; Upper CHR Bank bits\n\n\tLDA #$0F\n\tSTA $5015\n","htmlComment":"<p>Set nametable mapping</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token binarynumber string\">#%01010000</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5105</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5113</span> <span class=\"token comment\">; PRG RAM bank</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5130</span> <span class=\"token comment\">; Upper CHR Bank bits</span>\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5015</span>\n","line":2722},{"comment":"PRG bank 0","content":"\tLDA #$80 ; ROM bank 0\n\tSTA $5114\n","htmlComment":"<p>PRG bank 0</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$80</span> <span class=\"token comment\">; ROM bank 0</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5114</span>\n","line":2733},{"comment":"PRG bank 1","content":"\tLDA #$81 ; ROM bank 1\n\tSTA $5115\n","htmlComment":"<p>PRG bank 1</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$81</span> <span class=\"token comment\">; ROM bank 1</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5115</span>\n","line":2737},{"comment":"PRG bank 2","content":"\tLDA #$8E ; ROM bank E\n\tSTA $5116\n","htmlComment":"<p>PRG bank 2</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$8E</span> <span class=\"token comment\">; ROM bank E</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5116</span>\n","line":2741},{"comment":"PRG bank 3","content":"\tLDA #$8F ; ROM bank F\n\tSTA $5117\n\n\tJMP RESET\n\n\nChangeCHRBanks_MMC5:\n\tLDA SpriteCHR1\n\tSTA $5120\n\n\tLDA SpriteCHR2\n\tSTA $5121\n\n\tLDA SpriteCHR3\n\tSTA $5122\n\n\tLDA SpriteCHR4\n\tSTA $5123\n\n\tLDA BackgroundCHR1\n\tSTA $5124\n\tADC #$01\n\tSTA $5125\n\n\tLDA BackgroundCHR2\n\tSTA $5126\n\tADC #$01\n\tSTA $5127\n\n\tLDA BackgroundCHR1\n\tSTA $5128\n\tADC #$01\n\tSTA $5129\n\n\tLDA BackgroundCHR2\n\tSTA $512A\n\tADC #$01\n\tSTA $512B\n\n\tRTS\nENDIF\n","htmlComment":"<p>PRG bank 3</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$8F</span> <span class=\"token comment\">; ROM bank F</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5117</span>\n\n\t<span class=\"token opcode property\">JMP</span> RESET\n\n\nChangeCHRBanks_MMC<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">LDA</span> SpriteCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5120</span>\n\n\t<span class=\"token opcode property\">LDA</span> SpriteCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5121</span>\n\n\t<span class=\"token opcode property\">LDA</span> SpriteCHR<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5122</span>\n\n\t<span class=\"token opcode property\">LDA</span> SpriteCHR<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5123</span>\n\n\t<span class=\"token opcode property\">LDA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5124</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5125</span>\n\n\t<span class=\"token opcode property\">LDA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5126</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5127</span>\n\n\t<span class=\"token opcode property\">LDA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5128</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5129</span>\n\n\t<span class=\"token opcode property\">LDA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$512A</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$512B</span>\n\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n","line":2745},{"comment":"Unused space in the original ($ED4D - $EFFF)","content":"unusedSpace $F000, $FF\n\n","htmlComment":"<p>Unused space in the original ($ED4D - $EFFF)</p>\n","htmlContent":"unusedSpace <span class=\"token hexnumber string\">$F000</span>, <span class=\"token hexnumber string\">$FF</span>\n\n","line":2788},{"comment":"these seem like they might be pointers, not actual values?","content":"byte_BANKF_F000:\n\t.db $00 ; 0x0\n\t.db $08 ; ??\n\t.db $10 ; ??\n\t.db $18 ; ??\n\t.db $20 ; most 16x16 items, clips in 1px\n\t.db $24 ; most 16x16 enemies, clips in 4px\nbyte_BANKF_F006:\n\t.db $28\n\t.db $2A\n\t.db $29\n\t.db $2B\nbyte_BANKF_F00A:\n\t.db $2C\nbyte_BANKF_F00B:\n\t.db $2E\n\t.db $30 ; 16x32 enemies, clips in 4px (birdo, mouser)\n\t.db $34 ; bullet, clips in 8px\n\t.db $38 ; 16x48 enemies, clips in 4px (tryclde)\n\t.db $3C ; spark, clips in 0px\n\t.db $40 ; flying carpet\n","htmlComment":"<p>these seem like they might be pointers, not actual values?</p>\n","htmlContent":"byte_BANKF_F<span class=\"token decimalnumber string\">000</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; 0x0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; ??</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; ??</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; ??</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; most 16x16 items, clips in 1px</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; most 16x16 enemies, clips in 4px</span>\nbyte_BANKF_F<span class=\"token decimalnumber string\">006</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$29</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2B</span>\nbyte_BANKF_F<span class=\"token decimalnumber string\">00</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2C</span>\nbyte_BANKF_F<span class=\"token decimalnumber string\">00</span>B:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$30</span> <span class=\"token comment\">; 16x32 enemies, clips in 4px (birdo, mouser)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$34</span> <span class=\"token comment\">; bullet, clips in 8px</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span> <span class=\"token comment\">; 16x48 enemies, clips in 4px (tryclde)</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3C</span> <span class=\"token comment\">; spark, clips in 0px</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span> <span class=\"token comment\">; flying carpet</span>\n","line":2792},{"comment":"collision x bounding box","content":"byte_BANKF_F011:\n\t.db $06,$09,$06,$09 ; $00\n\t.db $01,$01,$0E,$0E ; $04\n\t.db $06,$09,$06,$09 ; $08\n\t.db $01,$01,$0E,$0E ; $0C\n\t.db $06,$09,$06,$09 ; $10\n\t.db $01,$01,$0E,$0E ; $14\n\t.db $06,$09,$06,$09 ; $18\n\t.db $01,$01,$0E,$0E ; $1C\n\t.db $08,$08,$00,$0F ; $20\n\t.db $08,$08,$03,$0C ; $24\n\t.db $F8,$18,$F8,$18 ; $28\n\t.db $08,$08,$08,$08 ; $2C\n\t.db $08,$08,$03,$0C ; $30\n\t.db $03,$03,$02,$05 ; $34\n\t.db $08,$08,$03,$0C ; $38\n\t.db $08,$08,$FF,$10 ; $3C\n\t.db $10,$10,$02,$1E ; $40\n","htmlComment":"<p>collision x bounding box</p>\n","htmlContent":"byte_BANKF_F<span class=\"token decimalnumber string\">011</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F8</span>,<span class=\"token hexnumber string\">$18</span>,<span class=\"token hexnumber string\">$F8</span>,<span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$1E</span> <span class=\"token comment\">; $40</span>\n","line":2815},{"comment":"collision y bounding box","content":"byte_BANKF_F055:\n\t.db $07,$07,$20,$20 ; $00\n\t.db $0D,$1C,$0D,$1C ; $04\n\t.db $FF,$FF,$20,$20 ; $08\n\t.db $04,$1C,$04,$1C ; $0C\n\t.db $0F,$0F,$20,$20 ; $10\n\t.db $1C,$1C,$1C,$1C ; $14\n\t.db $07,$07,$20,$20 ; $18\n\t.db $0D,$1C,$0D,$1C ; $1C\n\t.db $00,$10,$09,$09 ; $20\n\t.db $03,$10,$09,$09 ; $24\n\t.db $FF,$FF,$0F,$0F ; $28\n\t.db $0C,$14,$07,$20 ; $2C\n\t.db $FE,$20,$10,$10 ; $30\n\t.db $09,$0A,$08,$08 ; $34\n\t.db $03,$30,$18,$18 ; $38\n\t.db $FF,$10,$08,$08 ; $3C\n\t.db $09,$0A,$08,$08 ; $40\n","htmlComment":"<p>collision y bounding box</p>\n","htmlContent":"byte_BANKF_F<span class=\"token decimalnumber string\">055</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>,<span class=\"token hexnumber string\">$07</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$0D</span>,<span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>,<span class=\"token hexnumber string\">$07</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span>,<span class=\"token hexnumber string\">$1C</span>,<span class=\"token hexnumber string\">$0D</span>,<span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span>,<span class=\"token hexnumber string\">$14</span>,<span class=\"token hexnumber string\">$07</span>,<span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$18</span>,<span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FF</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$0A</span>,<span class=\"token hexnumber string\">$08</span>,<span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $40</span>\n","line":2835},{"comment":"object collision bounding box","content":"byte_BANKF_F099:\n\t.db $02,$02,$03,$00 ; $00\n\t.db $03,$03,$F8,$00 ; $04\n\t.db $03,$01,$F3,$04 ; $08\n\t.db $03,$03,$03,$F2 ; $0C\n\t.db $03,$03,$05,$03 ; $10\n\t.db $0B,$10,$03,$00 ; $14, shy guy y?\n\t.db $03,$03,$F8,$00 ; $18\n\t.db $09,$04,$03,$03 ; $1C\n\t.db $0E,$03,$03,$03 ; $20\n\t.db $F6,$0C,$02,$03 ; $24\n\t.db $0B,$0B,$09,$10 ; $28, shy guy x?\n\t.db $09,$19,$20,$20 ; $2C\n\t.db $03,$1E,$19,$08 ; $30\n\t.db $09,$09,$09,$18 ; $34\n\t.db $09,$1A,$06,$15 ; $38\n\t.db $16,$11,$0D,$10 ; $3C\n\t.db $1A,$19,$24,$10 ; $40\n\t.db $03,$04,$2D,$30 ; $44\n\t.db $0F,$2E,$3E,$1E ; $48\n\t.db $28,$13,$48,$26 ; $4C\n\n\nNextSpriteFlickerSlot:\n\tDEC SpriteFlickerSlot\n\tBPL NextSpriteFlickerSlot_Exit\n\n\tLDA #$08\n\tSTA SpriteFlickerSlot\n\nNextSpriteFlickerSlot_Exit:\n\tRTS\n\n\nLevelMusicIndexes:\n\t.db Music1_Overworld\n\t.db Music1_Inside ; 1 ; Music1 indexes.\n\t.db Music1_Boss ; 2\n\t.db Music1_Wart ; 3\n\t.db Music1_Subspace ; 4\n\n\n","htmlComment":"<p>object collision bounding box</p>\n","htmlContent":"byte_BANKF_F<span class=\"token decimalnumber string\">099</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$F8</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$01</span>,<span class=\"token hexnumber string\">$F3</span>,<span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$F2</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$05</span>,<span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $14, shy guy y?</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$F8</span>,<span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F6</span>,<span class=\"token hexnumber string\">$0C</span>,<span class=\"token hexnumber string\">$02</span>,<span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span>,<span class=\"token hexnumber string\">$0B</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $28, shy guy x?</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$19</span>,<span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$1E</span>,<span class=\"token hexnumber string\">$19</span>,<span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span>,<span class=\"token hexnumber string\">$1A</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$15</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$16</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$0D</span>,<span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span>,<span class=\"token hexnumber string\">$19</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$2D</span>,<span class=\"token hexnumber string\">$30</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span>,<span class=\"token hexnumber string\">$2E</span>,<span class=\"token hexnumber string\">$3E</span>,<span class=\"token hexnumber string\">$1E</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$28</span>,<span class=\"token hexnumber string\">$13</span>,<span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$26</span> <span class=\"token comment\">; $4C</span>\n\n\nNextSpriteFlickerSlot:\n\t<span class=\"token opcode property\">DEC</span> SpriteFlickerSlot\n\t<span class=\"token opcode property\">BPL</span> NextSpriteFlickerSlot_Exit\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">STA</span> SpriteFlickerSlot\n\nNextSpriteFlickerSlot_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n\nLevelMusicIndexes:\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Overworld\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Inside <span class=\"token comment\">; 1 ; Music1 indexes.</span>\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Boss <span class=\"token comment\">; 2</span>\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Wart <span class=\"token comment\">; 3</span>\n\t<span class=\"token directive keyword\">.db</span> Music<span class=\"token decimalnumber string\">1</span>_Subspace <span class=\"token comment\">; 4</span>\n\n\n","line":2855},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F0F9:\n\tJSR NextSpriteFlickerSlot\n\n\tLDA PlayerInRocket\n\tBNE loc_BANKF_F11B\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">0</span>F<span class=\"token decimalnumber string\">9</span>:\n\t<span class=\"token opcode property\">JSR</span> NextSpriteFlickerSlot\n\n\t<span class=\"token opcode property\">LDA</span> PlayerInRocket\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">11</span>B\n","line":2898},{"comment":"boss clear fanfare locks player movement","content":"\tLDA MusicPlaying2\n\tCMP #Music2_BossClearFanfare\n\tBEQ loc_BANKF_F115\n\n\tLDA PlayerLock\n\tBNE loc_BANKF_F115\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR HandlePlayerState\n\nloc_BANKF_F115:\n\tJSR sub_BANKF_F228\n\n\tJSR RenderPlayer\n\nloc_BANKF_F11B:\n\tJMP loc_BANKF_F146\n","htmlComment":"<p>boss clear fanfare locks player movement</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> MusicPlaying<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">CMP</span> #Music<span class=\"token decimalnumber string\">2</span>_BossClearFanfare\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">115</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerLock\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">115</span>\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> HandlePlayerState\n\nloc_BANKF_F<span class=\"token decimalnumber string\">115</span>:\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">228</span>\n\n\t<span class=\"token opcode property\">JSR</span> RenderPlayer\n\nloc_BANKF_F<span class=\"token decimalnumber string\">11</span>B:\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_F<span class=\"token decimalnumber string\">146</span>\n","line":2906},{"comment":"End of function sub_BANKF_F0F9","content":"\n","htmlComment":"<p>End of function sub_BANKF_F0F9</p>\n","htmlContent":"\n","line":2927},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F11E:\n\tJSR NextSpriteFlickerSlot\n\n\tLDA PlayerInRocket\n\tBNE loc_BANKF_F146\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">11</span>E:\n\t<span class=\"token opcode property\">JSR</span> NextSpriteFlickerSlot\n\n\t<span class=\"token opcode property\">LDA</span> PlayerInRocket\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">146</span>\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n","line":2929},{"comment":"boss clear fanfare locks player movement","content":"\tLDA MusicPlaying2\n\tCMP #Music2_BossClearFanfare\n\tBEQ loc_BANKF_F13A\n\n\tLDA PlayerLock\n\tBNE loc_BANKF_F13A\n\n\tJSR HandlePlayerState\n\nloc_BANKF_F13A:","htmlComment":"<p>boss clear fanfare locks player movement</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> MusicPlaying<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">CMP</span> #Music<span class=\"token decimalnumber string\">2</span>_BossClearFanfare\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">13</span><span class=\"token register variable\">A</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerLock\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">13</span><span class=\"token register variable\">A</span>\n\n\t<span class=\"token opcode property\">JSR</span> HandlePlayerState\n\nloc_BANKF_F<span class=\"token decimalnumber string\">13</span><span class=\"token register variable\">A</span>:","line":2940},{"comment":"horizonal scrolling?","content":"\tJSR sub_BANKF_F2C2\n","htmlComment":"<p>horizonal scrolling?</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">2</span>C<span class=\"token decimalnumber string\">2</span>\n","line":2951},{"comment":"horizonal scrolling?","content":"\tJSR sub_BANK0_85EC\n","htmlComment":"<p>horizonal scrolling?</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">85</span>EC\n","line":2954},{"comment":"screen boundary triggers","content":"\tJSR sub_BANKF_F228\n\n\tJSR RenderPlayer\n\nloc_BANKF_F146:\n\tLDA #PRGBank_2_3\n\tJSR ChangeMappedPRGBank\n\n\tJSR AreaMainRoutine\n\n\tJSR AreaSecondaryRoutine\n\nIFDEF CONTROLLER_2_DEBUG\n\tJSR AreaDebugRoutine\nENDIF\n\n\tJSR AnimateCHRRoutine\n\n\tJSR SetAreaStartPage\n\n\tLDX #$03\n\nloc_BANKF_F159:\n\tLDA PlayerStateTimer, X\n\tBEQ loc_BANKF_F15F\n\n\tDEC PlayerStateTimer, X\n\nloc_BANKF_F15F:\n\tDEX\n\tBPL loc_BANKF_F159\n\n\tLDY StarInvincibilityTimer\n\tBEQ locret_BANKF_F17D\n\n\tLDA byte_RAM_10\n\tAND #$07\n\tBNE locret_BANKF_F17D\n\n\tDEC StarInvincibilityTimer\n\tCPY #$08\n\tBNE locret_BANKF_F17D\n\n\tLDY CurrentMusicIndex\n\tLDA LevelMusicIndexes, Y\n\tSTA MusicQueue1\n\nlocret_BANKF_F17D:\n\tRTS\n","htmlComment":"<p>screen boundary triggers</p>\n","htmlContent":"\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">228</span>\n\n\t<span class=\"token opcode property\">JSR</span> RenderPlayer\n\nloc_BANKF_F<span class=\"token decimalnumber string\">146</span>:\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">2</span>_<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> AreaMainRoutine\n\n\t<span class=\"token opcode property\">JSR</span> AreaSecondaryRoutine\n\nIFDEF CONTROLLER_<span class=\"token decimalnumber string\">2</span>_DEBUG\n\t<span class=\"token opcode property\">JSR</span> AreaDebugRoutine\nENDIF\n\n\t<span class=\"token opcode property\">JSR</span> AnimateCHRRoutine\n\n\t<span class=\"token opcode property\">JSR</span> SetAreaStartPage\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$03</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">159</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerStateTimer, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">15</span>F\n\n\t<span class=\"token opcode property\">DEC</span> PlayerStateTimer, <span class=\"token register variable\">X</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">15</span>F:\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_F<span class=\"token decimalnumber string\">159</span>\n\n\t<span class=\"token opcode property\">LDY</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">BEQ</span> locret_BANKF_F<span class=\"token decimalnumber string\">17</span>D\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">BNE</span> locret_BANKF_F<span class=\"token decimalnumber string\">17</span>D\n\n\t<span class=\"token opcode property\">DEC</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">BNE</span> locret_BANKF_F<span class=\"token decimalnumber string\">17</span>D\n\n\t<span class=\"token opcode property\">LDY</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">LDA</span> LevelMusicIndexes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\nlocret_BANKF_F<span class=\"token decimalnumber string\">17</span>D:\n\t<span class=\"token opcode property\">RTS</span>\n","line":2957},{"comment":"End of function sub_BANKF_F11E","content":"\n","htmlComment":"<p>End of function sub_BANKF_F11E</p>\n","htmlContent":"\n","line":3008},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F17E:\n\tJSR NextSpriteFlickerSlot\n\n\tJSR sub_BANKF_F494\n\n\tLDA PlayerInRocket\n\tBNE loc_BANKF_F1AB\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">17</span>E:\n\t<span class=\"token opcode property\">JSR</span> NextSpriteFlickerSlot\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">494</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerInRocket\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">1</span>AB\n","line":3010},{"comment":"boss clear fanfare locks player movement","content":"\tLDA MusicPlaying2\n\tCMP #Music2_BossClearFanfare\n\tBEQ loc_BANKF_F19D\n\n\tLDA PlayerLock\n\tBNE loc_BANKF_F19D\n\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR HandlePlayerState\n\nloc_BANKF_F19D:\n\tLDA #PRGBank_0_1\n\tJSR ChangeMappedPRGBank\n\n\tJSR sub_BANK0_8083\n\n\tJSR sub_BANKF_F228\n\n\tJSR RenderPlayer\n\nloc_BANKF_F1AB:\n\tJMP loc_BANKF_F146\n","htmlComment":"<p>boss clear fanfare locks player movement</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> MusicPlaying<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">CMP</span> #Music<span class=\"token decimalnumber string\">2</span>_BossClearFanfare\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">19</span>D\n\n\t<span class=\"token opcode property\">LDA</span> PlayerLock\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">19</span>D\n\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> HandlePlayerState\n\nloc_BANKF_F<span class=\"token decimalnumber string\">19</span>D:\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANK<span class=\"token decimalnumber string\">0</span>_<span class=\"token decimalnumber string\">8083</span>\n\n\t<span class=\"token opcode property\">JSR</span> sub_BANKF_F<span class=\"token decimalnumber string\">228</span>\n\n\t<span class=\"token opcode property\">JSR</span> RenderPlayer\n\nloc_BANKF_F<span class=\"token decimalnumber string\">1</span>AB:\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_F<span class=\"token decimalnumber string\">146</span>\n","line":3020},{"comment":"End of function sub_BANKF_F17E","content":"\n","htmlComment":"<p>End of function sub_BANKF_F17E</p>\n","htmlContent":"\n","line":3046},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F1AE:\n\tLDA DoAreaTransition\n\tCMP #$02\n\tBEQ locret_BANKF_F1E0\n\n\tLDY #$03\n\nloc_BANKF_F1B7:\n\tLDA CurrentLevel, Y\n\tSTA CurrentLevel_Init, Y\n\tDEY\n\tBPL loc_BANKF_F1B7\n\n\tLDA PlayerXLo\n\tSTA PlayerXLo_Init\n\tLDA PlayerYLo\n\tSTA PlayerYLo_Init\n\tLDA PlayerScreenX\n\tSTA PlayerScreenX_Init\n\tLDA PlayerScreenYLo\n\tSTA PlayerScreenYLo_Init\n\tLDA PlayerYVelocity\n\tSTA PlayerYVelocity_Init\n\tLDA PlayerState\n\tSTA PlayerState_Init\n\nlocret_BANKF_F1E0:\n\tRTS\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">1</span>AE:\n\t<span class=\"token opcode property\">LDA</span> DoAreaTransition\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BEQ</span> locret_BANKF_F<span class=\"token decimalnumber string\">1</span>E<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">1</span>B<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevel_Init, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> loc_BANKF_F<span class=\"token decimalnumber string\">1</span>B<span class=\"token decimalnumber string\">7</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerXLo\n\t<span class=\"token opcode property\">STA</span> PlayerXLo_Init\n\t<span class=\"token opcode property\">LDA</span> PlayerYLo\n\t<span class=\"token opcode property\">STA</span> PlayerYLo_Init\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenX\n\t<span class=\"token opcode property\">STA</span> PlayerScreenX_Init\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">STA</span> PlayerScreenYLo_Init\n\t<span class=\"token opcode property\">LDA</span> PlayerYVelocity\n\t<span class=\"token opcode property\">STA</span> PlayerYVelocity_Init\n\t<span class=\"token opcode property\">LDA</span> PlayerState\n\t<span class=\"token opcode property\">STA</span> PlayerState_Init\n\nlocret_BANKF_F<span class=\"token decimalnumber string\">1</span>E<span class=\"token decimalnumber string\">0</span>:\n\t<span class=\"token opcode property\">RTS</span>\n","line":3048},{"comment":"End of function sub_BANKF_F1AE","content":"","htmlComment":"<p>End of function sub_BANKF_F1AE</p>\n","htmlContent":"","line":3079},{"comment":"=============== S U B R O U T I N E =======================================","content":"","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"","line":3081},{"comment":"\nLevel Initialization\n====================\n\nSets up in-level gameplay (eg. after level card)\n","content":"LevelInitialization:\n\tLDY #$03\n","htmlComment":"<h1>Level Initialization</h1>\n<p>Sets up in-level gameplay (eg. after level card)</p>\n","htmlContent":"LevelInitialization:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$03</span>\n","line":3088},{"comment":"Loop through and set level, area, page, and transition from RAM","content":"LevelInitialization_AreaSetupLoop:\n\tLDA CurrentLevel_Init, Y\n\tSTA CurrentLevel, Y\n\tDEY\n\tBPL LevelInitialization_AreaSetupLoop\n","htmlComment":"<p>Loop through and set level, area, page, and transition from RAM</p>\n","htmlContent":"LevelInitialization_AreaSetupLoop:\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel_Init, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevel, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> LevelInitialization_AreaSetupLoop\n","line":3092},{"comment":"position the player","content":"\tLDA PlayerXLo_Init\n\tSTA PlayerXLo\n\tLDA PlayerYLo_Init\n\tSTA PlayerYLo\n\tLDA PlayerScreenX_Init\n\tSTA PlayerScreenX\n\tLDA PlayerScreenYLo_Init\n\tSTA PlayerScreenYLo\n\tLDA PlayerYVelocity_Init\n\tSTA PlayerYVelocity\n\tLDA PlayerState_Init\n\tSTA PlayerState\n\tLDA #$00\n\tSTA InSubspaceOrJar\n\tSTA InJarType\n\tSTA PlayerInAir\n\tSTA DamageInvulnTime\n\n\nRestorePlayerToFullHealth:\n\tLDY PlayerMaxHealth ; Get player's current max HP\n\tLDA PlayerHealthValueByHeartCount, Y ; Get the health value for this amount of hearts\n\tSTA PlayerHealth\n\tRTS\n\n\nPlayerHealthValueByHeartCount:\n\t.db PlayerHealth_2_HP\n\t.db PlayerHealth_3_HP\n\t.db PlayerHealth_4_HP\n","htmlComment":"<p>position the player</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> PlayerXLo_Init\n\t<span class=\"token opcode property\">STA</span> PlayerXLo\n\t<span class=\"token opcode property\">LDA</span> PlayerYLo_Init\n\t<span class=\"token opcode property\">STA</span> PlayerYLo\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenX_Init\n\t<span class=\"token opcode property\">STA</span> PlayerScreenX\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYLo_Init\n\t<span class=\"token opcode property\">STA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">LDA</span> PlayerYVelocity_Init\n\t<span class=\"token opcode property\">STA</span> PlayerYVelocity\n\t<span class=\"token opcode property\">LDA</span> PlayerState_Init\n\t<span class=\"token opcode property\">STA</span> PlayerState\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">STA</span> InJarType\n\t<span class=\"token opcode property\">STA</span> PlayerInAir\n\t<span class=\"token opcode property\">STA</span> DamageInvulnTime\n\n\nRestorePlayerToFullHealth:\n\t<span class=\"token opcode property\">LDY</span> PlayerMaxHealth <span class=\"token comment\">; Get player's current max HP</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerHealthValueByHeartCount, <span class=\"token register variable\">Y</span> <span class=\"token comment\">; Get the health value for this amount of hearts</span>\n\t<span class=\"token opcode property\">STA</span> PlayerHealth\n\t<span class=\"token opcode property\">RTS</span>\n\n\nPlayerHealthValueByHeartCount:\n\t<span class=\"token directive keyword\">.db</span> PlayerHealth_<span class=\"token decimalnumber string\">2</span>_HP\n\t<span class=\"token directive keyword\">.db</span> PlayerHealth_<span class=\"token decimalnumber string\">3</span>_HP\n\t<span class=\"token directive keyword\">.db</span> PlayerHealth_<span class=\"token decimalnumber string\">4</span>_HP\n","line":3099},{"comment":"Max hearts = (hearts - 2), value is 0,$01,2\nThis table determines what the player's HP is set to","content":"ClimbSpeed:\n\t.db $00\nClimbSpeedDown:\n\t.db $20\nClimbSpeedUp:\n\t.db $F0","htmlComment":"<p>Max hearts = (hearts - 2), value is 0,$01,2\nThis table determines what the player's HP is set to</p>\n","htmlContent":"ClimbSpeed:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\nClimbSpeedDown:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>\nClimbSpeedUp:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F0</span>","line":3131},{"comment":"Bug: The climb speed index is determined by checking the up/down flags in\nPlayer1JoypadHeld. If both are enabled, the index it out of bounds and uses\nthe LDA ($A5) below, which zips the player up the vine!","content":"IFDEF FIX_CLIMB_ZIP\n\t.db $00\nENDIF\n","htmlComment":"<p>Bug: The climb speed index is determined by checking the up/down flags in\nPlayer1JoypadHeld. If both are enabled, the index it out of bounds and uses\nthe LDA ($A5) below, which zips the player up the vine!</p>\n","htmlContent":"IFDEF FIX_CLIMB_ZIP\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\nENDIF\n","line":3141},{"comment":"=============== S U B R O U T I N E =======================================","content":"","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"","line":3146},{"comment":"Bottomless pit check","content":"sub_BANKF_F228:\n\tLDA PlayerXLo\n\tSEC\n\tSBC ScreenBoundaryLeftLo\n\tSTA PlayerScreenX\n\tLDA PlayerYLo\n\tCLC\n\tSBC ScreenYLo\n\tSTA PlayerScreenYLo\n\tLDA PlayerYHi\n\tSBC ScreenYHi\n\tSTA PlayerScreenYHi\n\tLDA PlayerState\n\tCMP #PlayerState_Lifting\n\tBCS locret_BANKF_F297\n\n\tLDA PlayerScreenYHi\n\tBEQ loc_BANKF_F298\n\n\tBMI loc_BANKF_F254\n","htmlComment":"<p>Bottomless pit check</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">228</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerXLo\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> ScreenBoundaryLeftLo\n\t<span class=\"token opcode property\">STA</span> PlayerScreenX\n\t<span class=\"token opcode property\">LDA</span> PlayerYLo\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">SBC</span> ScreenYLo\n\t<span class=\"token opcode property\">STA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">LDA</span> PlayerYHi\n\t<span class=\"token opcode property\">SBC</span> ScreenYHi\n\t<span class=\"token opcode property\">STA</span> PlayerScreenYHi\n\t<span class=\"token opcode property\">LDA</span> PlayerState\n\t<span class=\"token opcode property\">CMP</span> #PlayerState_Lifting\n\t<span class=\"token opcode property\">BCS</span> locret_BANKF_F<span class=\"token decimalnumber string\">297</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYHi\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">298</span>\n\n\t<span class=\"token opcode property\">BMI</span> loc_BANKF_F<span class=\"token decimalnumber string\">254</span>\n","line":3148},{"comment":"bottomless pit","content":"\tLDA #$00\n\tSTA PlayerStateTimer\n\tJMP KillPlayer\n\n","htmlComment":"<p>bottomless pit</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> PlayerStateTimer\n\t<span class=\"token opcode property\">JMP</span> KillPlayer\n\n","line":3170},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_F254:\n\tLDA PlayerYHi\n\tBPL locret_BANKF_F297\n\n\tLDA InJarType\n\tBEQ loc_BANKF_F298\n\n\tLDA PlayerYLo\n\tCMP #$F0\n\tBCS locret_BANKF_F297\n\n\tJSR DoAreaReset\n\n\tPLA\n\tPLA\n\tLDY #$00\n\tSTY PlayerDucking\n\tSTY PlayerYVelocity\n\tSTY PlayerXVelocity\n\tLDA #PlayerState_ExitingJar\n\tSTA PlayerState\n\tLDA #SpriteAnimation_Ducking\n\tSTA PlayerAnimationFrame\n\tLDA InJarType\n\tSTY InJarType\n\tCMP #$02\n\tBNE loc_BANKF_F286\n\n\tSTA DoAreaTransition\n\tRTS\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_F<span class=\"token decimalnumber string\">254</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerYHi\n\t<span class=\"token opcode property\">BPL</span> locret_BANKF_F<span class=\"token decimalnumber string\">297</span>\n\n\t<span class=\"token opcode property\">LDA</span> InJarType\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">298</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerYLo\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCS</span> locret_BANKF_F<span class=\"token decimalnumber string\">297</span>\n\n\t<span class=\"token opcode property\">JSR</span> DoAreaReset\n\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STY</span> PlayerDucking\n\t<span class=\"token opcode property\">STY</span> PlayerYVelocity\n\t<span class=\"token opcode property\">STY</span> PlayerXVelocity\n\t<span class=\"token opcode property\">LDA</span> #PlayerState_ExitingJar\n\t<span class=\"token opcode property\">STA</span> PlayerState\n\t<span class=\"token opcode property\">LDA</span> #SpriteAnimation_Ducking\n\t<span class=\"token opcode property\">STA</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">LDA</span> InJarType\n\t<span class=\"token opcode property\">STY</span> InJarType\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">286</span>\n\n\t<span class=\"token opcode property\">STA</span> DoAreaTransition\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3175},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_F286:\n\tSTY InSubspaceOrJar\n\tLDA CurrentLevelAreaCopy\n\tSTA CurrentLevelArea\n\tLDA #PRGBank_8_9\n\tJSR ChangeMappedPRGBank\n\n\tJMP GetEnemyPointers\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_F<span class=\"token decimalnumber string\">286</span>:\n\t<span class=\"token opcode property\">STY</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelAreaCopy\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">LDA</span> #PRGBank_<span class=\"token decimalnumber string\">8</span>_<span class=\"token decimalnumber string\">9</span>\n\t<span class=\"token opcode property\">JSR</span> ChangeMappedPRGBank\n\n\t<span class=\"token opcode property\">JMP</span> GetEnemyPointers\n\n","line":3208},{"comment":"---------------------------------------------------------------------------","content":"locret_BANKF_F297:\n\tRTS\n\n","htmlComment":"<hr>\n","htmlContent":"locret_BANKF_F<span class=\"token decimalnumber string\">297</span>:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3219},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_F298:\n\tLDA PlayerState\n\tCMP #PlayerState_Climbing\n\tBNE locret_BANKF_F297\n\n\tLDA InSubspaceOrJar\n\tCMP #$02\n\tBEQ locret_BANKF_F297\n\n\tLDA ClimbSpeedUp\n\tLDY PlayerYHi\n\tBMI loc_BANKF_F2BB\n\n\tLDA PlayerScreenYLo\n\tCMP #$B8\n\tBCC locret_BANKF_F297\n\n\tLSR PlayerYLo\n\tSEC\n\tROL PlayerYLo\n\tLDA ClimbSpeedDown\n\nloc_BANKF_F2BB:\n\tSTA PlayerYVelocity\n\tLDA #PlayerState_ClimbingAreaTransition\n\tSTA PlayerState\n\tRTS\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_F<span class=\"token decimalnumber string\">298</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerState\n\t<span class=\"token opcode property\">CMP</span> #PlayerState_Climbing\n\t<span class=\"token opcode property\">BNE</span> locret_BANKF_F<span class=\"token decimalnumber string\">297</span>\n\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$02</span>\n\t<span class=\"token opcode property\">BEQ</span> locret_BANKF_F<span class=\"token decimalnumber string\">297</span>\n\n\t<span class=\"token opcode property\">LDA</span> ClimbSpeedUp\n\t<span class=\"token opcode property\">LDY</span> PlayerYHi\n\t<span class=\"token opcode property\">BMI</span> loc_BANKF_F<span class=\"token decimalnumber string\">2</span>BB\n\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$B8</span>\n\t<span class=\"token opcode property\">BCC</span> locret_BANKF_F<span class=\"token decimalnumber string\">297</span>\n\n\t<span class=\"token opcode property\">LSR</span> PlayerYLo\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">ROL</span> PlayerYLo\n\t<span class=\"token opcode property\">LDA</span> ClimbSpeedDown\n\nloc_BANKF_F<span class=\"token decimalnumber string\">2</span>BB:\n\t<span class=\"token opcode property\">STA</span> PlayerYVelocity\n\t<span class=\"token opcode property\">LDA</span> #PlayerState_ClimbingAreaTransition\n\t<span class=\"token opcode property\">STA</span> PlayerState\n\t<span class=\"token opcode property\">RTS</span>\n","line":3224},{"comment":"End of function sub_BANKF_F228","content":"\n","htmlComment":"<p>End of function sub_BANKF_F228</p>\n","htmlContent":"\n","line":3254},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F2C2:\n\tLDA #$00\n\tLDY ScrollXLock\n\tBNE loc_BANKF_F2D2\n\n\tLDA PlayerXLo\n\tSEC\n\tSBC #$78\n\tSEC\n\tSBC ScreenBoundaryLeftLo\n\nloc_BANKF_F2D2:\n\tSTA byte_RAM_BA\n\tRTS\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">2</span>C<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDY</span> ScrollXLock\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">2</span>D<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerXLo\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> <span class=\"token hexnumber string\">#$78</span>\n\t<span class=\"token opcode property\">SEC</span>\n\t<span class=\"token opcode property\">SBC</span> ScreenBoundaryLeftLo\n\nloc_BANKF_F<span class=\"token decimalnumber string\">2</span>D<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_BA\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3256},{"comment":"End of function sub_BANKF_F2C2","content":"","htmlComment":"<p>End of function sub_BANKF_F2C2</p>\n","htmlContent":"","line":3273},{"comment":"Tiles to use for eye sprite. If $00, this will use the character-specific table","content":"CharacterFrameEyeTiles:\n\t.db $00 ; Walk1\n\t.db $00 ; Carry1\n\t.db $00 ; Walk2\n\t.db $00 ; Carry2\n\t.db $FB ; Duck\n\t.db $FB ; DuckCarry\n\t.db $00 ; Jump\n\t.db $FB ; Death\n\t.db $FB ; Lift\n\t.db $00 ; Throw\n\t.db $FB ; Climb\n","htmlComment":"<p>Tiles to use for eye sprite. If $00, this will use the character-specific table</p>\n","htmlContent":"CharacterFrameEyeTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; Walk1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; Carry1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; Walk2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; Carry2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; Duck</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; DuckCarry</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; Jump</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; Death</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; Lift</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; Throw</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; Climb</span>\n","line":3276},{"comment":"Specific to each character","content":"CharacterEyeTiles:\n\t.db $D5 ; Mario\n\t.db $D9 ; Luigi\n\t.db $FB ; Toad\n\t.db $D7 ; Princess\n\nCharacterTiles_Walk1:\n\t.db $00\n\t.db $02\n\t.db $04 ; $00 - start of relative character tile offets, for some reason\n\t.db $06 ; $01\n\nCharacterTiles_Carry1:\n\t.db $0C ; $02\n\t.db $0E ; $03\n\t.db $10 ; $04\n\t.db $12 ; $05\n\nCharacterTiles_Walk2:\n\t.db $00 ; $06\n\t.db $02 ; $07\n\t.db $08 ; $08\n\t.db $0A ; $09\n\nCharacterTiles_Carry2:\n\t.db $0C ; $0a\n\t.db $0E ; $0b\n\t.db $14 ; $0c\n\t.db $16 ; $0d\n\nCharacterTiles_Duck:\n\t.db $FB ; $0e\n\t.db $FB ; $0f\n\t.db $2C ; $10\n\t.db $2C ; $11\n\nCharacterTiles_DuckCarry:\n\t.db $FB ; $12\n\t.db $FB ; $13\n\t.db $2E ; $14\n\t.db $2E ; $15\n\nCharacterTiles_Jump:\n\t.db $0C ; $16\n\t.db $0E ; $17\n\t.db $10 ; $18\n\t.db $12 ; $19\n\nCharacterTiles_Death:\n\t.db $30 ; $1a\n\t.db $30 ; $1b\n\t.db $32 ; $1c\n\t.db $32 ; $1d\n\nCharacterTiles_Lift:\n\t.db $20 ; $1e\n\t.db $22 ; $1f\n\t.db $24 ; $20\n\t.db $26 ; $21\n\nCharacterTiles_Throw:\n\t.db $00 ; $22\n\t.db $02 ; $23\n\t.db $28 ; $24\n\t.db $2A ; $25\n\nCharacterTiles_Climb:\n\t.db $18 ; $26\n\t.db $1A ; $27\n\t.db $1C ; $28\n\t.db $1E ; $29\n\nCharacterTiles_PrincessJumpBody:\n\t.db $B4 ; $2a\n\t.db $B6 ; $2b\n\nDamageInvulnBlinkFrames:\n\t.db $01, $01, $01, $02, $02, $04, $04, $04\n\nIFDEF CONTROLLER_2_DEBUG\nChangePlayerPoofTiles:\n\t.db $5E\n\t.db $3A\n\t.db $3A\n\t.db $3A\n\t.db $38\n\t.db $38\n\t.db $38\n\t.db $36\n\t.db $34\nENDIF\n","htmlComment":"<p>Specific to each character</p>\n","htmlContent":"CharacterEyeTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D5</span> <span class=\"token comment\">; Mario</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D9</span> <span class=\"token comment\">; Luigi</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; Toad</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D7</span> <span class=\"token comment\">; Princess</span>\n\nCharacterTiles_Walk<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $00 - start of relative character tile offets, for some reason</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span> <span class=\"token comment\">; $01</span>\n\nCharacterTiles_Carry<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; $05</span>\n\nCharacterTiles_Walk<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; $09</span>\n\nCharacterTiles_Carry<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $0a</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $0b</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$14</span> <span class=\"token comment\">; $0c</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$16</span> <span class=\"token comment\">; $0d</span>\n\nCharacterTiles_Duck:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $0e</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $0f</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2C</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2C</span> <span class=\"token comment\">; $11</span>\n\nCharacterTiles_DuckCarry:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2E</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2E</span> <span class=\"token comment\">; $15</span>\n\nCharacterTiles_Jump:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $16</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $17</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; $19</span>\n\nCharacterTiles_Death:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$30</span> <span class=\"token comment\">; $1a</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$30</span> <span class=\"token comment\">; $1b</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span> <span class=\"token comment\">; $1c</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span> <span class=\"token comment\">; $1d</span>\n\nCharacterTiles_Lift:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span> <span class=\"token comment\">; $1e</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span> <span class=\"token comment\">; $1f</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$26</span> <span class=\"token comment\">; $21</span>\n\nCharacterTiles_Throw:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $22</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $23</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$28</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2A</span> <span class=\"token comment\">; $25</span>\n\nCharacterTiles_Climb:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$18</span> <span class=\"token comment\">; $26</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1A</span> <span class=\"token comment\">; $27</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1C</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$1E</span> <span class=\"token comment\">; $29</span>\n\nCharacterTiles_PrincessJumpBody:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B4</span> <span class=\"token comment\">; $2a</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B6</span> <span class=\"token comment\">; $2b</span>\n\nDamageInvulnBlinkFrames:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$01</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$02</span>, <span class=\"token hexnumber string\">$04</span>, <span class=\"token hexnumber string\">$04</span>, <span class=\"token hexnumber string\">$04</span>\n\nIFDEF CONTROLLER_<span class=\"token decimalnumber string\">2</span>_DEBUG\nChangePlayerPoofTiles:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$36</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$34</span>\nENDIF\n","line":3290},{"comment":"\nRenders the player sprite\n","content":"RenderPlayer:\nIFDEF CONTROLLER_2_DEBUG\n\tLDA ChangeCharacterPoofTimer\n\tBEQ RenderPlayer_AfterChangeCharacterPoof\n\n\tDEC ChangeCharacterPoofTimer\n","htmlComment":"<p>Renders the player sprite</p>\n","htmlContent":"RenderPlayer:\nIFDEF CONTROLLER_<span class=\"token decimalnumber string\">2</span>_DEBUG\n\t<span class=\"token opcode property\">LDA</span> ChangeCharacterPoofTimer\n\t<span class=\"token opcode property\">BEQ</span> RenderPlayer_AfterChangeCharacterPoof\n\n\t<span class=\"token opcode property\">DEC</span> ChangeCharacterPoofTimer\n","line":3385},{"comment":"tile","content":"\tLDY ChangeCharacterPoofTimer\n\tLDA ChangePlayerPoofTiles, Y\n\tSTA SpriteDMAArea + $01\n\tSTA SpriteDMAArea + $05\n\tSTA SpriteDMAArea + $09\n\tSTA SpriteDMAArea + $0D\n","htmlComment":"<p>tile</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> ChangeCharacterPoofTimer\n\t<span class=\"token opcode property\">LDA</span> ChangePlayerPoofTiles, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$05</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$09</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$0D</span>\n","line":3393},{"comment":"attributes","content":"\tLDA #ObjAttrib_Palette1\n\tSTA SpriteDMAArea + $02\n\tSTA SpriteDMAArea + $0A\n\tLDA #ObjAttrib_Palette1 | ObjAttrib_16x32\n\tSTA SpriteDMAArea + $06\n\tSTA SpriteDMAArea + $0E\n","htmlComment":"<p>attributes</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$02</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$0A</span>\n\t<span class=\"token opcode property\">LDA</span> #ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$06</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$0E</span>\n","line":3401},{"comment":"y-position","content":"\tLDA PlayerScreenYLo\n\tSTA SpriteDMAArea + $00\n\tSTA SpriteDMAArea + $04\n\tCLC\n\tADC #$10\n\tSTA SpriteDMAArea + $08\n\tSTA SpriteDMAArea + $0C\n","htmlComment":"<p>y-position</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$08</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$0C</span>\n","line":3409},{"comment":"x-position","content":"\tLDA PlayerScreenX\n\tSTA SpriteDMAArea + $03\n\tSTA SpriteDMAArea + $0B\n\tCLC\n\tADC #$08\n\tSTA SpriteDMAArea + $07\n\tSTA SpriteDMAArea + $0F\n\nRenderPlayer_AfterChangeCharacterPoof:\nENDIF\n\n\tLDY_abs PlayerState\n\tCPY #PlayerState_ChangingSize\n\tBEQ loc_BANKF_F337\n\n\tLDY StarInvincibilityTimer\n\tBNE loc_BANKF_F337\n\n\tLDA DamageInvulnTime ; Determine if the player is invincible from damage,","htmlComment":"<p>x-position</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> PlayerScreenX\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$03</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$0B</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$07</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$0F</span>\n\nRenderPlayer_AfterChangeCharacterPoof:\nENDIF\n\n\tLDY_abs PlayerState\n\t<span class=\"token opcode property\">CPY</span> #PlayerState_ChangingSize\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">337</span>\n\n\t<span class=\"token opcode property\">LDY</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">337</span>\n\n\t<span class=\"token opcode property\">LDA</span> DamageInvulnTime <span class=\"token comment\">; Determine if the player is invincible from damage,</span>","line":3418},{"comment":"and if so, if they should be visible","content":"\tBEQ loc_BANKF_F345\n\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tTAY\n\tLDA DamageInvulnTime\n\tAND DamageInvulnBlinkFrames, Y\n\tBNE loc_BANKF_F345\n\n\tRTS\n\n","htmlComment":"<p>and if so, if they should be visible</p>\n","htmlContent":"\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">345</span>\n\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> DamageInvulnTime\n\t<span class=\"token opcode property\">AND</span> DamageInvulnBlinkFrames, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">345</span>\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":3438},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_F337:\n\tLDA byte_RAM_10\n\tCPY #$18\n\tBCS loc_BANKF_F33F\n\n\tLSR A\n\tLSR A\n\nloc_BANKF_F33F:\n\tAND #ObjAttrib_Palette\n\tORA PlayerAttributes\n\tSTA PlayerAttributes\n\nloc_BANKF_F345:\n\tLDA QuicksandDepth\n\tBEQ loc_BANKF_F350\n\n\tLDA #ObjAttrib_BehindBackground\n\tORA PlayerAttributes\n\tSTA PlayerAttributes\n\nloc_BANKF_F350:\n\tLDA PlayerScreenX\n\tSTA SpriteDMAArea + $23\n\tSTA SpriteDMAArea + $2B\n\tCLC\n\tADC #$08\n\tSTA SpriteDMAArea + $27\n\tSTA SpriteDMAArea + $2F\n\tLDA PlayerScreenYLo\n\tSTA byte_RAM_0\n\tLDA PlayerScreenYHi\n\tSTA byte_RAM_1\n\tLDY PlayerAnimationFrame\n\tCPY #$04\n\tBEQ loc_BANKF_F382\n\n\tLDA PlayerCurrentSize\n\tBEQ loc_BANKF_F382\n\n\tLDA byte_RAM_0\n\tCLC\n\tADC #$08\n\tSTA byte_RAM_0\n\tBCC loc_BANKF_F382\n\n\tINC byte_RAM_1\n\nloc_BANKF_F382:\n\tLDA CurrentCharacter\n\tCMP #Character_Princess\n\tBEQ loc_BANKF_F394\n\n\tCPY #$00\n\tBNE loc_BANKF_F394\n\n\tLDA byte_RAM_0\n\tBNE loc_BANKF_F392\n\n\tDEC byte_RAM_1\n\nloc_BANKF_F392:\n\tDEC byte_RAM_0\n\nloc_BANKF_F394:\n\tJSR FindSpriteSlot\n\n\tLDA byte_RAM_1\n\tBNE loc_BANKF_F3A6\n\n\tLDA byte_RAM_0\n\tSTA SpriteDMAArea, Y\n\tSTA SpriteDMAArea + $20\n\tSTA SpriteDMAArea + $24\n\nloc_BANKF_F3A6:\n\tLDA byte_RAM_0\n\tCLC\n\tADC #$10\n\tSTA byte_RAM_0\n\tLDA byte_RAM_1\n\tADC #$00\n\tBNE loc_BANKF_F3BB\n\n\tLDA byte_RAM_0\n\tSTA SpriteDMAArea + $28\n\tSTA SpriteDMAArea + $2C\n\nloc_BANKF_F3BB:\n\tLDA CrouchJumpTimer\n\tCMP #$3C\n\tBCC loc_BANKF_F3CA\n\n\tLDA byte_RAM_10\n\tAND #ObjAttrib_Palette1\n\tORA PlayerAttributes\n\tSTA PlayerAttributes\n\nloc_BANKF_F3CA:\n\tLDA PlayerDirection\n\tLSR A\n\tROR A\n\tROR A\n\tORA PlayerAttributes\n\tAND #%11111100\n\tORA #ObjAttrib_Palette1\n\tSTA SpriteDMAArea + 2, Y\n\tLDX PlayerAnimationFrame\n\tCPX #$07\n\tBEQ loc_BANKF_F3E2\n\n\tCPX #$04\n\tBNE loc_BANKF_F3EE\n\nloc_BANKF_F3E2:\n\tLDA PlayerAttributes\n\tSTA SpriteDMAArea + $22\n\tSTA SpriteDMAArea + $2A\n\tORA #$40\n\tBNE loc_BANKF_F3F8\n\nloc_BANKF_F3EE:\n\tAND #$FC\n\tORA PlayerAttributes\n\tSTA SpriteDMAArea + $22\n\tSTA SpriteDMAArea + $2A\n\nloc_BANKF_F3F8:\n\tSTA SpriteDMAArea + $26\n\tSTA SpriteDMAArea + $2E\n\tLDA CharacterFrameEyeTiles, X\n\tBNE loc_BANKF_F408\n\n\tLDX CurrentCharacter\n\tLDA CharacterEyeTiles, X\n\nloc_BANKF_F408:\n\tSTA SpriteDMAArea + 1, Y\n\tLDA PlayerAnimationFrame\n\tCMP #$06\n\tBCS loc_BANKF_F413\n\n\tORA HoldingItem\n\nloc_BANKF_F413:\n\tASL A\n\tASL A\n\tTAX\n\tLDA PlayerDirection\n\tBNE loc_BANKF_F44A\n\n\tLDA SpriteDMAArea + $23\n\tSTA SpriteDMAArea + 3, Y\n\tLDA CharacterTiles_Walk1, X\n\tSTA SpriteDMAArea + $21\n\tLDA CharacterTiles_Walk1 + 1, X\n\tSTA SpriteDMAArea + $25\n\tLDA PlayerCurrentSize\n\tBNE loc_BANKF_F43F\n\n\tLDA CurrentCharacter\n\tCMP #Character_Princess\n\tBNE loc_BANKF_F43F\n\n\tLDA PlayerAnimationFrame\n\tCMP #SpriteAnimation_Jumping\n\tBNE loc_BANKF_F43F\n\n\tLDX #$2A\n\nloc_BANKF_F43F:\n\tLDA CharacterTiles_Walk1 + 2, X\n\tSTA SpriteDMAArea + $29\n\tLDA CharacterTiles_Walk1 + 3, X\n\tBNE loc_BANKF_F478\n\nloc_BANKF_F44A:\n\tLDA SpriteDMAArea + $27\n\tSTA SpriteDMAArea + 3, Y\n\tLDA CharacterTiles_Walk1 + 1, X\n\tSTA SpriteDMAArea + $21\n\tLDA CharacterTiles_Walk1, X\n\tSTA SpriteDMAArea + $25\n\tLDA PlayerCurrentSize\n\tBNE loc_BANKF_F46F\n\n\tLDA CurrentCharacter\n\tCMP #Character_Princess\n\tBNE loc_BANKF_F46F\n\n\tLDA PlayerAnimationFrame\n\tCMP #SpriteAnimation_Jumping\n\tBNE loc_BANKF_F46F\n\n\tLDX #$2A\n\nloc_BANKF_F46F:\n\tLDA CharacterTiles_Walk1 + 3, X\n\tSTA SpriteDMAArea + $29\n\tLDA CharacterTiles_Walk1 + 2, X\n\nloc_BANKF_F478:\n\tSTA SpriteDMAArea + $2D\n\tRTS\n\n\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_F<span class=\"token decimalnumber string\">337</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$18</span>\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_F<span class=\"token decimalnumber string\">33</span>F\n\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">33</span>F:\n\t<span class=\"token opcode property\">AND</span> #ObjAttrib_Palette\n\t<span class=\"token opcode property\">ORA</span> PlayerAttributes\n\t<span class=\"token opcode property\">STA</span> PlayerAttributes\n\nloc_BANKF_F<span class=\"token decimalnumber string\">345</span>:\n\t<span class=\"token opcode property\">LDA</span> QuicksandDepth\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">350</span>\n\n\t<span class=\"token opcode property\">LDA</span> #ObjAttrib_BehindBackground\n\t<span class=\"token opcode property\">ORA</span> PlayerAttributes\n\t<span class=\"token opcode property\">STA</span> PlayerAttributes\n\nloc_BANKF_F<span class=\"token decimalnumber string\">350</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenX\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$23</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2B</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$27</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2F</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYHi\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDY</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">382</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">382</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANKF_F<span class=\"token decimalnumber string\">382</span>\n\n\t<span class=\"token opcode property\">INC</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">382</span>:\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">CMP</span> #Character_Princess\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">394</span>\n\n\t<span class=\"token opcode property\">CPY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">394</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">392</span>\n\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">392</span>:\n\t<span class=\"token opcode property\">DEC</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">394</span>:\n\t<span class=\"token opcode property\">JSR</span> FindSpriteSlot\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">3</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$20</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$24</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">3</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">3</span>BB\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$28</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2C</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">3</span>BB:\n\t<span class=\"token opcode property\">LDA</span> CrouchJumpTimer\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$3C</span>\n\t<span class=\"token opcode property\">BCC</span> loc_BANKF_F<span class=\"token decimalnumber string\">3</span>CA\n\n\t<span class=\"token opcode property\">LDA</span> byte_RAM_<span class=\"token decimalnumber string\">10</span>\n\t<span class=\"token opcode property\">AND</span> #ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">ORA</span> PlayerAttributes\n\t<span class=\"token opcode property\">STA</span> PlayerAttributes\n\nloc_BANKF_F<span class=\"token decimalnumber string\">3</span>CA:\n\t<span class=\"token opcode property\">LDA</span> PlayerDirection\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ORA</span> PlayerAttributes\n\t<span class=\"token opcode property\">AND</span> <span class=\"token binarynumber string\">#%11111100</span>\n\t<span class=\"token opcode property\">ORA</span> #ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token decimalnumber string\">2</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDX</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$07</span>\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">3</span>E<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">CPX</span> <span class=\"token hexnumber string\">#$04</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">3</span>EE\n\nloc_BANKF_F<span class=\"token decimalnumber string\">3</span>E<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">LDA</span> PlayerAttributes\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$22</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2A</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$40</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">3</span>F<span class=\"token decimalnumber string\">8</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">3</span>EE:\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$FC</span>\n\t<span class=\"token opcode property\">ORA</span> PlayerAttributes\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$22</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2A</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">3</span>F<span class=\"token decimalnumber string\">8</span>:\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$26</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2E</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterFrameEyeTiles, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">408</span>\n\n\t<span class=\"token opcode property\">LDX</span> CurrentCharacter\n\t<span class=\"token opcode property\">LDA</span> CharacterEyeTiles, <span class=\"token register variable\">X</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">408</span>:\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$06</span>\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_F<span class=\"token decimalnumber string\">413</span>\n\n\t<span class=\"token opcode property\">ORA</span> HoldingItem\n\nloc_BANKF_F<span class=\"token decimalnumber string\">413</span>:\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerDirection\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">44</span><span class=\"token register variable\">A</span>\n\n\t<span class=\"token opcode property\">LDA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$23</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$21</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$25</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">43</span>F\n\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">CMP</span> #Character_Princess\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">43</span>F\n\n\t<span class=\"token opcode property\">LDA</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">CMP</span> #SpriteAnimation_Jumping\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">43</span>F\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$2A</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">43</span>F:\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">2</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$29</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">478</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">44</span><span class=\"token register variable\">A</span>:\n\t<span class=\"token opcode property\">LDA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$27</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$21</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$25</span>\n\t<span class=\"token opcode property\">LDA</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">46</span>F\n\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">CMP</span> #Character_Princess\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">46</span>F\n\n\t<span class=\"token opcode property\">LDA</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">CMP</span> #SpriteAnimation_Jumping\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">46</span>F\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$2A</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">46</span>F:\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">3</span>, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$29</span>\n\t<span class=\"token opcode property\">LDA</span> CharacterTiles_Walk<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">2</span>, <span class=\"token register variable\">X</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">478</span>:\n\t<span class=\"token opcode property\">STA</span> SpriteDMAArea + <span class=\"token hexnumber string\">$2D</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":3452},{"comment":"=============== S U B R O U T I N E =======================================","content":"SetAreaStartPage:\n\tLDA IsHorizontalLevel\n\tBNE SetAreaStartPage_HorizontalLevel\n\n\tLDY PlayerYHi\n\tLDA PlayerYLo\n\tJSR GetVerticalAreaStartPage\n\n\tTYA\n\tBPL SetAreaStartPage_SetAndExit\n\tLDA #$00\n\tBEQ SetAreaStartPage_SetAndExit\n\nSetAreaStartPage_HorizontalLevel:\n\tLDA PlayerXHi\n\nSetAreaStartPage_SetAndExit:\n\tSTA CurrentLevelPage\n\tRTS\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"SetAreaStartPage:\n\t<span class=\"token opcode property\">LDA</span> IsHorizontalLevel\n\t<span class=\"token opcode property\">BNE</span> SetAreaStartPage_HorizontalLevel\n\n\t<span class=\"token opcode property\">LDY</span> PlayerYHi\n\t<span class=\"token opcode property\">LDA</span> PlayerYLo\n\t<span class=\"token opcode property\">JSR</span> GetVerticalAreaStartPage\n\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">BPL</span> SetAreaStartPage_SetAndExit\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">BEQ</span> SetAreaStartPage_SetAndExit\n\nSetAreaStartPage_HorizontalLevel:\n\t<span class=\"token opcode property\">LDA</span> PlayerXHi\n\nSetAreaStartPage_SetAndExit:\n\t<span class=\"token opcode property\">STA</span> CurrentLevelPage\n\t<span class=\"token opcode property\">RTS</span>\n","line":3660},{"comment":"End of function SetAreaStartPage","content":"\n","htmlComment":"<p>End of function SetAreaStartPage</p>\n","htmlContent":"\n","line":3682},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F494:\n\tLDX NeedVerticalScroll\n\tBNE locret_BANKF_F4C2\n\n\tLDA PlayerState\n\tCMP #PlayerState_Lifting\n\tBCS locret_BANKF_F4C2\n\n\tLDA PlayerScreenYLo\n\tLDY PlayerScreenYHi\n\tBMI loc_BANKF_F4B0\n\n\tBNE loc_BANKF_F4B6\n\n\tCMP #$B4\n\tBCS loc_BANKF_F4B6\n\n\tCMP #$21\n\tBCS loc_BANKF_F4B8\n\nloc_BANKF_F4B0:\n\tLDY PlayerInAir\n\tBNE loc_BANKF_F4B8\n\n\tBEQ loc_BANKF_F4B7\n\nloc_BANKF_F4B6:\n\tINX\n\nloc_BANKF_F4B7:\n\tINX\n\nloc_BANKF_F4B8:\n\tLDA VerticalScrollDirection\n\tSTX VerticalScrollDirection\n\tBNE locret_BANKF_F4C2\n\n\tSTX NeedVerticalScroll\n\nlocret_BANKF_F4C2:\n\tRTS\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">494</span>:\n\t<span class=\"token opcode property\">LDX</span> NeedVerticalScroll\n\t<span class=\"token opcode property\">BNE</span> locret_BANKF_F<span class=\"token decimalnumber string\">4</span>C<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerState\n\t<span class=\"token opcode property\">CMP</span> #PlayerState_Lifting\n\t<span class=\"token opcode property\">BCS</span> locret_BANKF_F<span class=\"token decimalnumber string\">4</span>C<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDA</span> PlayerScreenYLo\n\t<span class=\"token opcode property\">LDY</span> PlayerScreenYHi\n\t<span class=\"token opcode property\">BMI</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">0</span>\n\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$B4</span>\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">6</span>\n\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$21</span>\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">8</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">0</span>:\n\t<span class=\"token opcode property\">LDY</span> PlayerInAir\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">8</span>\n\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">7</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">6</span>:\n\t<span class=\"token opcode property\">INX</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">7</span>:\n\t<span class=\"token opcode property\">INX</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">4</span>B<span class=\"token decimalnumber string\">8</span>:\n\t<span class=\"token opcode property\">LDA</span> VerticalScrollDirection\n\t<span class=\"token opcode property\">STX</span> VerticalScrollDirection\n\t<span class=\"token opcode property\">BNE</span> locret_BANKF_F<span class=\"token decimalnumber string\">4</span>C<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">STX</span> NeedVerticalScroll\n\nlocret_BANKF_F<span class=\"token decimalnumber string\">4</span>C<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token opcode property\">RTS</span>\n","line":3684},{"comment":"End of function sub_BANKF_F494","content":"","htmlComment":"<p>End of function sub_BANKF_F494</p>\n","htmlContent":"","line":3728},{"comment":"=============== S U B R O U T I N E =======================================","content":"","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"","line":3730},{"comment":"Determines start page for vertical area","content":"GetVerticalAreaStartPage:\n\tSTA byte_RAM_F\n\tTYA\n\tBMI locret_BANKF_F4D9\n\n\tASL A\n\tASL A\n\tASL A\n\tASL A\n\tCLC\n\tADC byte_RAM_F\n\tBCS loc_BANKF_F4D5\n\n\tCMP #$F0\n\tBCC locret_BANKF_F4D9\n\nloc_BANKF_F4D5:\n\tCLC\n\tADC #$10\n\tINY\n\nlocret_BANKF_F4D9:\n\tRTS\n\n\n","htmlComment":"<p>Determines start page for vertical area</p>\n","htmlContent":"GetVerticalAreaStartPage:\n\t<span class=\"token opcode property\">STA</span> byte_RAM_F\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">BMI</span> locret_BANKF_F<span class=\"token decimalnumber string\">4</span>D<span class=\"token decimalnumber string\">9</span>\n\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> byte_RAM_F\n\t<span class=\"token opcode property\">BCS</span> loc_BANKF_F<span class=\"token decimalnumber string\">4</span>D<span class=\"token decimalnumber string\">5</span>\n\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F0</span>\n\t<span class=\"token opcode property\">BCC</span> locret_BANKF_F<span class=\"token decimalnumber string\">4</span>D<span class=\"token decimalnumber string\">9</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">4</span>D<span class=\"token decimalnumber string\">5</span>:\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> <span class=\"token hexnumber string\">#$10</span>\n\t<span class=\"token opcode property\">INY</span>\n\nlocret_BANKF_F<span class=\"token decimalnumber string\">4</span>D<span class=\"token decimalnumber string\">9</span>:\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":3732},{"comment":"End of function GetVerticalAreaStartPage","content":"SpriteFlickerDMAOffset:\n\t.db $C0\n\t.db $70\n\t.db $80\n\t.db $50\n\t.db $A0\n\t.db $40\n\t.db $B0\n\t.db $60\n\t.db $90\n\t.db $C0\n\t.db $70\n\t.db $80\n\t.db $50\n\t.db $A0\n\t.db $40\n\t.db $B0\n\t.db $60\n","htmlComment":"<p>End of function GetVerticalAreaStartPage</p>\n","htmlContent":"SpriteFlickerDMAOffset:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span>\n","line":3757},{"comment":"Sprite display configuration","content":"ObjectAttributeTable:\n\t.db ObjAttrib_Palette1 ; $00 Enemy_Heart\n\t.db ObjAttrib_Palette1 ; $01 Enemy_ShyguyRed\n\t.db ObjAttrib_Palette1 ; $02 Enemy_Tweeter\n\t.db ObjAttrib_Palette3 ; $03 Enemy_ShyguyPink\n\t.db ObjAttrib_Palette2 ; $04 Enemy_Porcupo\n\t.db ObjAttrib_Palette1 ; $05 Enemy_SnifitRed\n\t.db ObjAttrib_Palette2 ; $06 Enemy_SnifitGray\n\t.db ObjAttrib_Palette3 ; $07 Enemy_SnifitPink\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $08 Enemy_Ostro\n\t.db ObjAttrib_Palette1 ; $09 Enemy_BobOmb\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $0A Enemy_AlbatossCarryingBobOmb\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $0B Enemy_AlbatossStartRight\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $0C Enemy_AlbatossStartLeft\n\t.db ObjAttrib_Palette1 ; $0D Enemy_NinjiRunning\n\t.db ObjAttrib_Palette1 ; $0E Enemy_NinjiJumping\n\t.db ObjAttrib_Palette1 ; $0F Enemy_BeezoDiving\n\t.db ObjAttrib_Palette2 ; $10 Enemy_BeezoStraight\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $11 Enemy_WartBubble\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_FrontFacing ; $12 Enemy_Pidgit\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $13 Enemy_Trouter\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $14 Enemy_Hoopstar\n\t.db ObjAttrib_Palette0 ; $15 Enemy_JarGeneratorShyguy\n\t.db ObjAttrib_Palette0 ; $16 Enemy_JarGeneratorBobOmb\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $17 Enemy_Phanto\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 | ObjAttrib_UpsideDown ; $18 Enemy_CobratJar\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $19 Enemy_CobratSand\n\t.db ObjAttrib_Palette2 | ObjAttrib_FrontFacing ; $1A Enemy_Pokey\n\t.db ObjAttrib_Palette2 | ObjAttrib_FrontFacing ; $1B Enemy_Bullet\n\t.db ObjAttrib_Palette2 | ObjAttrib_16x32 ; $1C Enemy_Birdo\n\t.db ObjAttrib_Palette3 | ObjAttrib_16x32 ; $1D Enemy_Mouser\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $1E Enemy_Egg\n\t.db ObjAttrib_Palette2 | ObjAttrib_FrontFacing ; $1F Enemy_Tryclyde\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $20 Enemy_Fireball\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $21 Enemy_Clawgrip\n\t.db ObjAttrib_Palette2 ; $22 Enemy_ClawgripRock\n\t.db ObjAttrib_Palette1 ; $23 Enemy_PanserStationaryFiresAngled\n\t.db ObjAttrib_Palette3 ; $24 Enemy_PanserWalking\n\t.db ObjAttrib_Palette2 ; $25 Enemy_PanserStationaryFiresUp\n\t.db ObjAttrib_Palette1 ; $26 Enemy_Autobomb\n\t.db ObjAttrib_Palette1 ; $27 Enemy_AutobombFire\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $28 Enemy_WhaleSpout\n\t.db ObjAttrib_Palette1 ; $29 Enemy_Flurry\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $2A Enemy_Fryguy\n\t.db ObjAttrib_Palette1 ; $2B Enemy_FryguySplit\n\t.db ObjAttrib_Palette3 | ObjAttrib_Horizontal | ObjAttrib_FrontFacing | ObjAttrib_16x32 ; $2C Enemy_Wart\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $2D Enemy_HawkmouthBoss\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $2E Enemy_Spark1\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $2F Enemy_Spark2\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $30 Enemy_Spark3\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $31 Enemy_Spark4\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $32 Enemy_VegetableSmall\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $33 Enemy_VegetableLarge\n\t.db ObjAttrib_Palette2 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $34 Enemy_VegetableWart\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $35 Enemy_Shell\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $36 Enemy_Coin\n\t.db ObjAttrib_Palette1 | ObjAttrib_UpsideDown ; $37 Enemy_Bomb\n\t.db ObjAttrib_Palette1 | ObjAttrib_UpsideDown ; $38 Enemy_Rocket\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $39 Enemy_MushroomBlock\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown ; $3A Enemy_POWBlock\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_FrontFacing | ObjAttrib_16x32 ; $3B Enemy_FallingLogs\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $3C Enemy_SubspaceDoor\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing ; $3D Enemy_Key\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown ; $3E Enemy_SubspacePotion\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $3F Enemy_Mushroom\n\t.db ObjAttrib_Palette1 | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown ; $40 Enemy_Mushroom1up\n\t.db ObjAttrib_Palette1 | ObjAttrib_Horizontal | ObjAttrib_16x32 ; $41 Enemy_FlyingCarpet\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $42 Enemy_HawkmouthRight\n\t.db ObjAttrib_Palette1 | ObjAttrib_16x32 ; $43 Enemy_HawkmouthLeft\n\t.db ObjAttrib_Palette1 | ObjAttrib_Mirrored ; $44 Enemy_CrystalBall\n\t.db ObjAttrib_Palette2 | ObjAttrib_Mirrored ; $45 Enemy_Starman\n\t.db ObjAttrib_Palette2 | ObjAttrib_Mirrored | ObjAttrib_UpsideDown ; $46 Enemy_Stopwatch\n","htmlComment":"<p>Sprite display configuration</p>\n","htmlContent":"ObjectAttributeTable:\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $00 Enemy_Heart</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $01 Enemy_ShyguyRed</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $02 Enemy_Tweeter</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">3</span> <span class=\"token comment\">; $03 Enemy_ShyguyPink</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; $04 Enemy_Porcupo</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $05 Enemy_SnifitRed</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; $06 Enemy_SnifitGray</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">3</span> <span class=\"token comment\">; $07 Enemy_SnifitPink</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $08 Enemy_Ostro</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $09 Enemy_BobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Horizontal | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $0A Enemy_AlbatossCarryingBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Horizontal | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $0B Enemy_AlbatossStartRight</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Horizontal | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $0C Enemy_AlbatossStartLeft</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $0D Enemy_NinjiRunning</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $0E Enemy_NinjiJumping</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $0F Enemy_BeezoDiving</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; $10 Enemy_BeezoStraight</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $11 Enemy_WartBubble</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Horizontal | ObjAttrib_FrontFacing <span class=\"token comment\">; $12 Enemy_Pidgit</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $13 Enemy_Trouter</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $14 Enemy_Hoopstar</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">0</span> <span class=\"token comment\">; $15 Enemy_JarGeneratorShyguy</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">0</span> <span class=\"token comment\">; $16 Enemy_JarGeneratorBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $17 Enemy_Phanto</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> | ObjAttrib_UpsideDown <span class=\"token comment\">; $18 Enemy_CobratJar</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $19 Enemy_CobratSand</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $1A Enemy_Pokey</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $1B Enemy_Bullet</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $1C Enemy_Birdo</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">3</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $1D Enemy_Mouser</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $1E Enemy_Egg</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $1F Enemy_Tryclyde</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $20 Enemy_Fireball</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $21 Enemy_Clawgrip</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; $22 Enemy_ClawgripRock</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $23 Enemy_PanserStationaryFiresAngled</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">3</span> <span class=\"token comment\">; $24 Enemy_PanserWalking</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> <span class=\"token comment\">; $25 Enemy_PanserStationaryFiresUp</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $26 Enemy_Autobomb</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $27 Enemy_AutobombFire</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $28 Enemy_WhaleSpout</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $29 Enemy_Flurry</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $2A Enemy_Fryguy</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> <span class=\"token comment\">; $2B Enemy_FryguySplit</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">3</span> | ObjAttrib_Horizontal | ObjAttrib_FrontFacing | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $2C Enemy_Wart</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $2D Enemy_HawkmouthBoss</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $2E Enemy_Spark1</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $2F Enemy_Spark2</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $30 Enemy_Spark3</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $31 Enemy_Spark4</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored | ObjAttrib_UpsideDown <span class=\"token comment\">; $32 Enemy_VegetableSmall</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored | ObjAttrib_UpsideDown <span class=\"token comment\">; $33 Enemy_VegetableLarge</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_Mirrored | ObjAttrib_UpsideDown <span class=\"token comment\">; $34 Enemy_VegetableWart</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored | ObjAttrib_UpsideDown <span class=\"token comment\">; $35 Enemy_Shell</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored | ObjAttrib_UpsideDown <span class=\"token comment\">; $36 Enemy_Coin</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_UpsideDown <span class=\"token comment\">; $37 Enemy_Bomb</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_UpsideDown <span class=\"token comment\">; $38 Enemy_Rocket</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $39 Enemy_MushroomBlock</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown <span class=\"token comment\">; $3A Enemy_POWBlock</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Horizontal | ObjAttrib_FrontFacing | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $3B Enemy_FallingLogs</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $3C Enemy_SubspaceDoor</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing <span class=\"token comment\">; $3D Enemy_Key</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown <span class=\"token comment\">; $3E Enemy_SubspacePotion</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $3F Enemy_Mushroom</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_FrontFacing | ObjAttrib_UpsideDown <span class=\"token comment\">; $40 Enemy_Mushroom1up</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Horizontal | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $41 Enemy_FlyingCarpet</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $42 Enemy_HawkmouthRight</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_<span class=\"token decimalnumber string\">16</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">32</span> <span class=\"token comment\">; $43 Enemy_HawkmouthLeft</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">1</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $44 Enemy_CrystalBall</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_Mirrored <span class=\"token comment\">; $45 Enemy_Starman</span>\n\t<span class=\"token directive keyword\">.db</span> ObjAttrib_Palette<span class=\"token decimalnumber string\">2</span> | ObjAttrib_Mirrored | ObjAttrib_UpsideDown <span class=\"token comment\">; $46 Enemy_Stopwatch</span>\n","line":3779},{"comment":"\nEnemy Behavior 46E\n\nbit 7 ($80) - uses mirrored sprite for animation\nbit 6 ($40) - double speed\nbit 5 ($20) - wider sprite? used for mouser\nbit 4 ($10) - use tilemap 2\nbit 3 ($08) - squawk on death (prevents despawning offscreen?)\nbit 2 ($04) - disable collision with other enemies\nbit 1 ($02) - unliftable\nbit 0 ($01) - hurts when touched from above","content":"EnemyArray_46E_Data:\n\t.db %00000100 ; $00 Enemy_Heart\n\t.db %00000000 ; $01 Enemy_ShyguyRed\n\t.db %00000000 ; $02 Enemy_Tweeter\n\t.db %00000000 ; $03 Enemy_ShyguyPink\n\t.db %00000011 ; $04 Enemy_Porcupo\n\t.db %00000000 ; $05 Enemy_SnifitRed\n\t.db %00000000 ; $06 Enemy_SnifitGray\n\t.db %00000000 ; $07 Enemy_SnifitPink\n\t.db %01010000 ; $08 Enemy_Ostro\n\t.db %01000000 ; $09 Enemy_BobOmb\n\t.db %01000010 ; $0A Enemy_AlbatossCarryingBobOmb\n\t.db %01000010 ; $0B Enemy_AlbatossStartRight\n\t.db %01000010 ; $0C Enemy_AlbatossStartLeft\n\t.db %01000000 ; $0D Enemy_NinjiRunning\n\t.db %01000000 ; $0E Enemy_NinjiJumping\n\t.db %01000000 ; $0F Enemy_BeezoDiving\n\t.db %01000000 ; $10 Enemy_BeezoStraight\n\t.db %00010011 ; $11 Enemy_WartBubble\n\t.db %11010000 ; $12 Enemy_Pidgit\n\t.db %10000000 ; $13 Enemy_Trouter\n\t.db %00000000 ; $14 Enemy_Hoopstar\n\t.db %00000110 ; $15 Enemy_JarGeneratorShyguy\n\t.db %00000110 ; $16 Enemy_JarGeneratorBobOmb\n\t.db %00000111 ; $17 Enemy_Phanto\n\t.db %00010000 ; $18 Enemy_CobratJar\n\t.db %01010000 ; $19 Enemy_CobratSand\n\t.db %10010000 ; $1A Enemy_Pokey\n\t.db %00000111 ; $1B Enemy_Bullet\n\t.db %00001010 ; $1C Enemy_Birdo\n\t.db %00111011 ; $1D Enemy_Mouser\n\t.db %01000000 ; $1E Enemy_Egg\n\t.db %00011000 ; $1F Enemy_Tryclyde\n\t.db %00000111 ; $20 Enemy_Fireball\n\t.db %00011011 ; $21 Enemy_Clawgrip\n\t.db %00010000 ; $22 Enemy_ClawgripRock\n\t.db %00000111 ; $23 Enemy_PanserStationaryFiresAngled\n\t.db %00000111 ; $24 Enemy_PanserWalking\n\t.db %00000111 ; $25 Enemy_PanserStationaryFiresUp\n\t.db %01010000 ; $26 Enemy_Autobomb\n\t.db %01010011 ; $27 Enemy_AutobombFire\n\t.db %10010110 ; $28 Enemy_WhaleSpout\n\t.db %01010000 ; $29 Enemy_Flurry\n\t.db %10011011 ; $2A Enemy_Fryguy\n\t.db %11010011 ; $2B Enemy_FryguySplit\n\t.db %00011011 ; $2C Enemy_Wart\n\t.db %00001011 ; $2D Enemy_HawkmouthBoss\n\t.db %00000011 ; $2E Enemy_Spark1\n\t.db %00000011 ; $2F Enemy_Spark2\n\t.db %00000011 ; $30 Enemy_Spark3\n\t.db %00000011 ; $31 Enemy_Spark4\n\t.db %00000000 ; $32 Enemy_VegetableSmall\n\t.db %00000000 ; $33 Enemy_VegetableLarge\n\t.db %00000000 ; $34 Enemy_VegetableWart\n\t.db %00000000 ; $35 Enemy_Shell\n\t.db %00000100 ; $36 Enemy_Coin\n\t.db %00000100 ; $37 Enemy_Bomb\n\t.db %00000100 ; $38 Enemy_Rocket\n\t.db %00000000 ; $39 Enemy_MushroomBlock\n\t.db %00000000 ; $3A Enemy_POWBlock\n\t.db %00000110 ; $3B Enemy_FallingLogs\n\t.db %00000100 ; $3C Enemy_SubspaceDoor\n\t.db %00000000 ; $3D Enemy_Key\n\t.db %00000100 ; $3E Enemy_SubspacePotion\n\t.db %00000100 ; $3F Enemy_Mushroom\n\t.db %00000100 ; $40 Enemy_Mushroom1up\n\t.db %00010110 ; $41 Enemy_FlyingCarpet\n\t.db %00000110 ; $42 Enemy_HawkmouthRight\n\t.db %00000110 ; $43 Enemy_HawkmouthLeft\n\t.db %00001100 ; $44 Enemy_CrystalBall\n\t.db %00000100 ; $45 Enemy_Starman\n\t.db %00000100 ; $46 Enemy_Stopwatch\n","htmlComment":"<p>Enemy Behavior 46E</p>\n<p>bit 7 ($80) - uses mirrored sprite for animation\nbit 6 ($40) - double speed\nbit 5 ($20) - wider sprite? used for mouser\nbit 4 ($10) - use tilemap 2\nbit 3 ($08) - squawk on death (prevents despawning offscreen?)\nbit 2 ($04) - disable collision with other enemies\nbit 1 ($02) - unliftable\nbit 0 ($01) - hurts when touched from above</p>\n","htmlContent":"EnemyArray_<span class=\"token decimalnumber string\">46</span>E_Data:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $00 Enemy_Heart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $01 Enemy_ShyguyRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $02 Enemy_Tweeter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $03 Enemy_ShyguyPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000011</span> <span class=\"token comment\">; $04 Enemy_Porcupo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $05 Enemy_SnifitRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $06 Enemy_SnifitGray</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $07 Enemy_SnifitPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01010000</span> <span class=\"token comment\">; $08 Enemy_Ostro</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000000</span> <span class=\"token comment\">; $09 Enemy_BobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000010</span> <span class=\"token comment\">; $0A Enemy_AlbatossCarryingBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000010</span> <span class=\"token comment\">; $0B Enemy_AlbatossStartRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000010</span> <span class=\"token comment\">; $0C Enemy_AlbatossStartLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000000</span> <span class=\"token comment\">; $0D Enemy_NinjiRunning</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000000</span> <span class=\"token comment\">; $0E Enemy_NinjiJumping</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000000</span> <span class=\"token comment\">; $0F Enemy_BeezoDiving</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000000</span> <span class=\"token comment\">; $10 Enemy_BeezoStraight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00010011</span> <span class=\"token comment\">; $11 Enemy_WartBubble</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11010000</span> <span class=\"token comment\">; $12 Enemy_Pidgit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%10000000</span> <span class=\"token comment\">; $13 Enemy_Trouter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $14 Enemy_Hoopstar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000110</span> <span class=\"token comment\">; $15 Enemy_JarGeneratorShyguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000110</span> <span class=\"token comment\">; $16 Enemy_JarGeneratorBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000111</span> <span class=\"token comment\">; $17 Enemy_Phanto</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00010000</span> <span class=\"token comment\">; $18 Enemy_CobratJar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01010000</span> <span class=\"token comment\">; $19 Enemy_CobratSand</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%10010000</span> <span class=\"token comment\">; $1A Enemy_Pokey</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000111</span> <span class=\"token comment\">; $1B Enemy_Bullet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001010</span> <span class=\"token comment\">; $1C Enemy_Birdo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00111011</span> <span class=\"token comment\">; $1D Enemy_Mouser</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01000000</span> <span class=\"token comment\">; $1E Enemy_Egg</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00011000</span> <span class=\"token comment\">; $1F Enemy_Tryclyde</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000111</span> <span class=\"token comment\">; $20 Enemy_Fireball</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00011011</span> <span class=\"token comment\">; $21 Enemy_Clawgrip</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00010000</span> <span class=\"token comment\">; $22 Enemy_ClawgripRock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000111</span> <span class=\"token comment\">; $23 Enemy_PanserStationaryFiresAngled</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000111</span> <span class=\"token comment\">; $24 Enemy_PanserWalking</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000111</span> <span class=\"token comment\">; $25 Enemy_PanserStationaryFiresUp</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01010000</span> <span class=\"token comment\">; $26 Enemy_Autobomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01010011</span> <span class=\"token comment\">; $27 Enemy_AutobombFire</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%10010110</span> <span class=\"token comment\">; $28 Enemy_WhaleSpout</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%01010000</span> <span class=\"token comment\">; $29 Enemy_Flurry</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%10011011</span> <span class=\"token comment\">; $2A Enemy_Fryguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11010011</span> <span class=\"token comment\">; $2B Enemy_FryguySplit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00011011</span> <span class=\"token comment\">; $2C Enemy_Wart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001011</span> <span class=\"token comment\">; $2D Enemy_HawkmouthBoss</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000011</span> <span class=\"token comment\">; $2E Enemy_Spark1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000011</span> <span class=\"token comment\">; $2F Enemy_Spark2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000011</span> <span class=\"token comment\">; $30 Enemy_Spark3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000011</span> <span class=\"token comment\">; $31 Enemy_Spark4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $32 Enemy_VegetableSmall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $33 Enemy_VegetableLarge</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $34 Enemy_VegetableWart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $35 Enemy_Shell</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $36 Enemy_Coin</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $37 Enemy_Bomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $38 Enemy_Rocket</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $39 Enemy_MushroomBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3A Enemy_POWBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000110</span> <span class=\"token comment\">; $3B Enemy_FallingLogs</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $3C Enemy_SubspaceDoor</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3D Enemy_Key</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $3E Enemy_SubspacePotion</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $3F Enemy_Mushroom</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $40 Enemy_Mushroom1up</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00010110</span> <span class=\"token comment\">; $41 Enemy_FlyingCarpet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000110</span> <span class=\"token comment\">; $42 Enemy_HawkmouthRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000110</span> <span class=\"token comment\">; $43 Enemy_HawkmouthLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001100</span> <span class=\"token comment\">; $44 Enemy_CrystalBall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $45 Enemy_Starman</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $46 Enemy_Stopwatch</span>\n","line":3863},{"comment":"\nHeight and horizontal collision detection\n","content":"EnemyArray_492_Data:\n\t.db $00 ; $00 Enemy_Heart\n\t.db $05 ; $01 Enemy_ShyguyRed\n\t.db $05 ; $02 Enemy_Tweeter\n\t.db $05 ; $03 Enemy_ShyguyPink\n\t.db $05 ; $04 Enemy_Porcupo\n\t.db $05 ; $05 Enemy_SnifitRed\n\t.db $05 ; $06 Enemy_SnifitGray\n\t.db $05 ; $07 Enemy_SnifitPink\n\t.db $0C ; $08 Enemy_Ostro\n\t.db $05 ; $09 Enemy_BobOmb\n\t.db $05 ; $0A Enemy_AlbatossCarryingBobOmb\n\t.db $05 ; $0B Enemy_AlbatossStartRight\n\t.db $05 ; $0C Enemy_AlbatossStartLeft\n\t.db $05 ; $0D Enemy_NinjiRunning\n\t.db $05 ; $0E Enemy_NinjiJumping\n\t.db $05 ; $0F Enemy_BeezoDiving\n\t.db $05 ; $10 Enemy_BeezoStraight\n\t.db $05 ; $11 Enemy_WartBubble\n\t.db $05 ; $12 Enemy_Pidgit\n\t.db $05 ; $13 Enemy_Trouter\n\t.db $05 ; $14 Enemy_Hoopstar\n\t.db $0D ; $15 Enemy_JarGeneratorShyguy\n\t.db $0D ; $16 Enemy_JarGeneratorBobOmb\n\t.db $05 ; $17 Enemy_Phanto\n\t.db $0C ; $18 Enemy_CobratJar\n\t.db $0C ; $19 Enemy_CobratSand\n\t.db $05 ; $1A Enemy_Pokey\n\t.db $0D ; $1B Enemy_Bullet\n\t.db $0C ; $1C Enemy_Birdo\n\t.db $0C ; $1D Enemy_Mouser\n\t.db $05 ; $1E Enemy_Egg\n\t.db $0E ; $1F Enemy_Tryclyde\n\t.db $0D ; $20 Enemy_Fireball\n\t.db $0C ; $21 Enemy_Clawgrip\n\t.db $05 ; $22 Enemy_ClawgripRock\n\t.db $05 ; $23 Enemy_PanserStationaryFiresAngled\n\t.db $05 ; $24 Enemy_PanserWalking\n\t.db $05 ; $25 Enemy_PanserStationaryFiresUp\n\t.db $0C ; $26 Enemy_Autobomb\n\t.db $05 ; $27 Enemy_AutobombFire\n\t.db $05 ; $28 Enemy_WhaleSpout\n\t.db $05 ; $29 Enemy_Flurry\n\t.db $05 ; $2A Enemy_Fryguy\n\t.db $05 ; $2B Enemy_FryguySplit\n\t.db $05 ; $2C Enemy_Wart\n\t.db $00 ; $2D Enemy_HawkmouthBoss\n\t.db $0F ; $2E Enemy_Spark1\n\t.db $0F ; $2F Enemy_Spark2\n\t.db $0F ; $30 Enemy_Spark3\n\t.db $0F ; $31 Enemy_Spark4\n\t.db $05 ; $32 Enemy_VegetableSmall\n\t.db $05 ; $33 Enemy_VegetableLarge\n\t.db $05 ; $34 Enemy_VegetableWart\n\t.db $05 ; $35 Enemy_Shell\n\t.db $05 ; $36 Enemy_Coin\n\t.db $05 ; $37 Enemy_Bomb\n\t.db $05 ; $38 Enemy_Rocket\n\t.db $04 ; $39 Enemy_MushroomBlock\n\t.db $04 ; $3A Enemy_POWBlock\n\t.db $04 ; $3B Enemy_FallingLogs\n\t.db $04 ; $3C Enemy_SubspaceDoor\n\t.db $04 ; $3D Enemy_Key\n\t.db $04 ; $3E Enemy_SubspacePotion\n\t.db $04 ; $3F Enemy_Mushroom\n\t.db $04 ; $40 Enemy_Mushroom1up\n\t.db $10 ; $41 Enemy_FlyingCarpet\n\t.db $00 ; $42 Enemy_HawkmouthRight\n\t.db $00 ; $43 Enemy_HawkmouthLeft\n\t.db $05 ; $44 Enemy_CrystalBall\n\t.db $05 ; $45 Enemy_Starman\n\t.db $05 ; $46 Enemy_Stopwatch\n","htmlComment":"<p>Height and horizontal collision detection</p>\n","htmlContent":"EnemyArray_<span class=\"token decimalnumber string\">492</span>_Data:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $00 Enemy_Heart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $01 Enemy_ShyguyRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $02 Enemy_Tweeter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $03 Enemy_ShyguyPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $04 Enemy_Porcupo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $05 Enemy_SnifitRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $06 Enemy_SnifitGray</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $07 Enemy_SnifitPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $08 Enemy_Ostro</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $09 Enemy_BobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $0A Enemy_AlbatossCarryingBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $0B Enemy_AlbatossStartRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $0C Enemy_AlbatossStartLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $0D Enemy_NinjiRunning</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $0E Enemy_NinjiJumping</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $0F Enemy_BeezoDiving</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $10 Enemy_BeezoStraight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $11 Enemy_WartBubble</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $12 Enemy_Pidgit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $13 Enemy_Trouter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $14 Enemy_Hoopstar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; $15 Enemy_JarGeneratorShyguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; $16 Enemy_JarGeneratorBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $17 Enemy_Phanto</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $18 Enemy_CobratJar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $19 Enemy_CobratSand</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $1A Enemy_Pokey</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; $1B Enemy_Bullet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $1C Enemy_Birdo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $1D Enemy_Mouser</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $1E Enemy_Egg</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $1F Enemy_Tryclyde</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; $20 Enemy_Fireball</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $21 Enemy_Clawgrip</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $22 Enemy_ClawgripRock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $23 Enemy_PanserStationaryFiresAngled</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $24 Enemy_PanserWalking</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $25 Enemy_PanserStationaryFiresUp</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0C</span> <span class=\"token comment\">; $26 Enemy_Autobomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $27 Enemy_AutobombFire</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $28 Enemy_WhaleSpout</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $29 Enemy_Flurry</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $2A Enemy_Fryguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $2B Enemy_FryguySplit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $2C Enemy_Wart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2D Enemy_HawkmouthBoss</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $2E Enemy_Spark1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $2F Enemy_Spark2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $30 Enemy_Spark3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $31 Enemy_Spark4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $32 Enemy_VegetableSmall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $33 Enemy_VegetableLarge</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $34 Enemy_VegetableWart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $35 Enemy_Shell</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $36 Enemy_Coin</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $37 Enemy_Bomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $38 Enemy_Rocket</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $39 Enemy_MushroomBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3A Enemy_POWBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3B Enemy_FallingLogs</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3C Enemy_SubspaceDoor</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3D Enemy_Key</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3E Enemy_SubspacePotion</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3F Enemy_Mushroom</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $40 Enemy_Mushroom1up</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $41 Enemy_FlyingCarpet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $42 Enemy_HawkmouthRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $43 Enemy_HawkmouthLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $44 Enemy_CrystalBall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $45 Enemy_Starman</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; $46 Enemy_Stopwatch</span>\n","line":3939},{"comment":"\nHorizontal hitbox, collision detection, and carried height\n","content":"EnemyArray_489_Data:\n\t.db $08 ; $00Enemy_Heart\n\t.db $02 ; $01Enemy_ShyguyRed\n\t.db $02 ; $02Enemy_Tweeter\n\t.db $02 ; $03Enemy_ShyguyPink\n\t.db $02 ; $04Enemy_Porcupo\n\t.db $02 ; $05Enemy_SnifitRed\n\t.db $02 ; $06Enemy_SnifitGray\n\t.db $02 ; $07Enemy_SnifitPink\n\t.db $04 ; $08Enemy_Ostro\n\t.db $02 ; $09Enemy_BobOmb\n\t.db $09 ; $0AEnemy_AlbatossCarryingBobOmb\n\t.db $09 ; $0BEnemy_AlbatossStartRight\n\t.db $09 ; $0CEnemy_AlbatossStartLeft\n\t.db $02 ; $0DEnemy_NinjiRunning\n\t.db $02 ; $0EEnemy_NinjiJumping\n\t.db $02 ; $0FEnemy_BeezoDiving\n\t.db $02 ; $10Enemy_BeezoStraight\n\t.db $02 ; $11Enemy_WartBubble\n\t.db $02 ; $12Enemy_Pidgit\n\t.db $02 ; $13Enemy_Trouter\n\t.db $02 ; $14Enemy_Hoopstar\n\t.db $08 ; $15Enemy_JarGeneratorShyguy\n\t.db $08 ; $16Enemy_JarGeneratorBobOmb\n\t.db $02 ; $17Enemy_Phanto\n\t.db $04 ; $18Enemy_CobratJar\n\t.db $04 ; $19Enemy_CobratSand\n\t.db $0E ; $1AEnemy_Pokey\n\t.db $08 ; $1BEnemy_Bullet\n\t.db $04 ; $1CEnemy_Birdo\n\t.db $04 ; $1DEnemy_Mouser\n\t.db $02 ; $1EEnemy_Egg\n\t.db $0F ; $1FEnemy_Tryclyde\n\t.db $02 ; $20Enemy_Fireball\n\t.db $13 ; $21Enemy_Clawgrip\n\t.db $02 ; $22Enemy_ClawgripRock\n\t.db $02 ; $23Enemy_PanserStationaryFiresAngled\n\t.db $02 ; $24Enemy_PanserWalking\n\t.db $02 ; $25Enemy_PanserStationaryFiresUp\n\t.db $10 ; $26Enemy_Autobomb\n\t.db $02 ; $27Enemy_AutobombFire\n\t.db $12 ; $28Enemy_WhaleSpout\n\t.db $02 ; $29Enemy_Flurry\n\t.db $0F ; $2AEnemy_Fryguy\n\t.db $02 ; $2BEnemy_FryguySplit\n\t.db $11 ; $2CEnemy_Wart\n\t.db $0B ; $2DEnemy_HawkmouthBoss\n\t.db $02 ; $2EEnemy_Spark1\n\t.db $02 ; $2FEnemy_Spark2\n\t.db $02 ; $30Enemy_Spark3\n\t.db $02 ; $31Enemy_Spark4\n\t.db $02 ; $32Enemy_VegetableSmall\n\t.db $02 ; $33Enemy_VegetableLarge\n\t.db $02 ; $34Enemy_VegetableWart\n\t.db $02 ; $35Enemy_Shell\n\t.db $02 ; $36Enemy_Coin\n\t.db $02 ; $37Enemy_Bomb\n\t.db $04 ; $38Enemy_Rocket\n\t.db $03 ; $39Enemy_MushroomBlock\n\t.db $03 ; $3AEnemy_POWBlock\n\t.db $07 ; $3BEnemy_FallingLogs\n\t.db $04 ; $3CEnemy_SubspaceDoor\n\t.db $03 ; $3DEnemy_Key\n\t.db $03 ; $3EEnemy_SubspacePotion\n\t.db $03 ; $3FEnemy_Mushroom\n\t.db $03 ; $40Enemy_Mushroom1up\n\t.db $09 ; $41Enemy_FlyingCarpet\n\t.db $0B ; $42Enemy_HawkmouthRight\n\t.db $0B ; $43Enemy_HawkmouthLeft\n\t.db $02 ; $44Enemy_CrystalBall\n\t.db $02 ; $45Enemy_Starman\n\t.db $02 ; $46Enemy_Stopwatch\n","htmlComment":"<p>Horizontal hitbox, collision detection, and carried height</p>\n","htmlContent":"EnemyArray_<span class=\"token decimalnumber string\">489</span>_Data:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $00Enemy_Heart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $01Enemy_ShyguyRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $02Enemy_Tweeter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $03Enemy_ShyguyPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $04Enemy_Porcupo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $05Enemy_SnifitRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $06Enemy_SnifitGray</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $07Enemy_SnifitPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $08Enemy_Ostro</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $09Enemy_BobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $0AEnemy_AlbatossCarryingBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $0BEnemy_AlbatossStartRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $0CEnemy_AlbatossStartLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0DEnemy_NinjiRunning</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0EEnemy_NinjiJumping</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $0FEnemy_BeezoDiving</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $10Enemy_BeezoStraight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $11Enemy_WartBubble</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $12Enemy_Pidgit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $13Enemy_Trouter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $14Enemy_Hoopstar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $15Enemy_JarGeneratorShyguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $16Enemy_JarGeneratorBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $17Enemy_Phanto</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $18Enemy_CobratJar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $19Enemy_CobratSand</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; $1AEnemy_Pokey</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$08</span> <span class=\"token comment\">; $1BEnemy_Bullet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $1CEnemy_Birdo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $1DEnemy_Mouser</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $1EEnemy_Egg</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $1FEnemy_Tryclyde</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $20Enemy_Fireball</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$13</span> <span class=\"token comment\">; $21Enemy_Clawgrip</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $22Enemy_ClawgripRock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $23Enemy_PanserStationaryFiresAngled</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $24Enemy_PanserWalking</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $25Enemy_PanserStationaryFiresUp</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$10</span> <span class=\"token comment\">; $26Enemy_Autobomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $27Enemy_AutobombFire</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; $28Enemy_WhaleSpout</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $29Enemy_Flurry</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0F</span> <span class=\"token comment\">; $2AEnemy_Fryguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $2BEnemy_FryguySplit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; $2CEnemy_Wart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $2DEnemy_HawkmouthBoss</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $2EEnemy_Spark1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $2FEnemy_Spark2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $30Enemy_Spark3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $31Enemy_Spark4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $32Enemy_VegetableSmall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $33Enemy_VegetableLarge</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $34Enemy_VegetableWart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $35Enemy_Shell</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $36Enemy_Coin</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $37Enemy_Bomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $38Enemy_Rocket</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $39Enemy_MushroomBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $3AEnemy_POWBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; $3BEnemy_FallingLogs</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3CEnemy_SubspaceDoor</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $3DEnemy_Key</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $3EEnemy_SubspacePotion</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $3FEnemy_Mushroom</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $40Enemy_Mushroom1up</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; $41Enemy_FlyingCarpet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $42Enemy_HawkmouthRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; $43Enemy_HawkmouthLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $44Enemy_CrystalBall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $45Enemy_Starman</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $46Enemy_Stopwatch</span>\n","line":4015},{"comment":"More collision (post-throw)","content":"byte_BANKF_F607:\n\t.db $00 ; $00Enemy_Heart\n\t.db $00 ; $01Enemy_ShyguyRed\n\t.db $00 ; $02Enemy_Tweeter\n\t.db $00 ; $03Enemy_ShyguyPink\n\t.db $00 ; $04Enemy_Porcupo\n\t.db $00 ; $05Enemy_SnifitRed\n\t.db $00 ; $06Enemy_SnifitGray\n\t.db $00 ; $07Enemy_SnifitPink\n\t.db $00 ; $08Enemy_Ostro\n\t.db $00 ; $09Enemy_BobOmb\n\t.db $00 ; $0AEnemy_AlbatossCarryingBobOmb\n\t.db $00 ; $0BEnemy_AlbatossStartRight\n\t.db $00 ; $0CEnemy_AlbatossStartLeft\n\t.db $00 ; $0DEnemy_NinjiRunning\n\t.db $00 ; $0EEnemy_NinjiJumping\n\t.db $00 ; $0FEnemy_BeezoDiving\n\t.db $00 ; $10Enemy_BeezoStraight\n\t.db $00 ; $11Enemy_WartBubble\n\t.db $00 ; $12Enemy_Pidgit\n\t.db $00 ; $13Enemy_Trouter\n\t.db $00 ; $14Enemy_Hoopstar\n\t.db $00 ; $15Enemy_JarGeneratorShyguy\n\t.db $00 ; $16Enemy_JarGeneratorBobOmb\n\t.db $00 ; $17Enemy_Phanto\n\t.db $00 ; $18Enemy_CobratJar\n\t.db $00 ; $19Enemy_CobratSand\n\t.db $00 ; $1AEnemy_Pokey\n\t.db $00 ; $1BEnemy_Bullet\n\t.db $00 ; $1CEnemy_Birdo\n\t.db $00 ; $1DEnemy_Mouser\n\t.db $00 ; $1EEnemy_Egg\n\t.db $00 ; $1FEnemy_Tryclyde\n\t.db $00 ; $20Enemy_Fireball\n\t.db $00 ; $21Enemy_Clawgrip\n\t.db $00 ; $22Enemy_ClawgripRock\n\t.db $00 ; $23Enemy_PanserStationaryFiresAngled\n\t.db $00 ; $24Enemy_PanserWalking\n\t.db $00 ; $25Enemy_PanserStationaryFiresUp\n\t.db $00 ; $26Enemy_Autobomb\n\t.db $00 ; $27Enemy_AutobombFire\n\t.db $00 ; $28Enemy_WhaleSpout\n\t.db $00 ; $29Enemy_Flurry\n\t.db $00 ; $2AEnemy_Fryguy\n\t.db $00 ; $2BEnemy_FryguySplit\n\t.db $00 ; $2CEnemy_Wart\n\t.db $00 ; $2DEnemy_HawkmouthBoss\n\t.db $00 ; $2EEnemy_Spark1\n\t.db $00 ; $2FEnemy_Spark2\n\t.db $00 ; $30Enemy_Spark3\n\t.db $00 ; $31Enemy_Spark4\n\t.db $01 ; $32Enemy_VegetableSmall\n\t.db $01 ; $33Enemy_VegetableLarge\n\t.db $01 ; $34Enemy_VegetableWart\n\t.db $01 ; $35Enemy_Shell\n\t.db $02 ; $36Enemy_Coin\n\t.db $01 ; $37Enemy_Bomb\n\t.db $00 ; $38Enemy_Rocket\n\t.db $02 ; $39Enemy_MushroomBlock\n\t.db $03 ; $3AEnemy_POWBlock\n\t.db $02 ; $3BEnemy_FallingLogs\n\t.db $04 ; $3CEnemy_SubspaceDoor\n\t.db $02 ; $3DEnemy_Key\n\t.db $02 ; $3EEnemy_SubspacePotion\n\t.db $02 ; $3FEnemy_Mushroom\n\t.db $02 ; $40Enemy_Mushroom1up\n\t.db $02 ; $41Enemy_FlyingCarpet\n\t.db $02 ; $42Enemy_HawkmouthRight\n\t.db $02 ; $43Enemy_HawkmouthLeft\n\t.db $02 ; $44Enemy_CrystalBall\n\t.db $00 ; $45Enemy_Starman\n\t.db $02 ; $46Enemy_Stopwatch\n","htmlComment":"<p>More collision (post-throw)</p>\n","htmlContent":"byte_BANKF_F<span class=\"token decimalnumber string\">607</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $00Enemy_Heart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $01Enemy_ShyguyRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $02Enemy_Tweeter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $03Enemy_ShyguyPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $04Enemy_Porcupo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $05Enemy_SnifitRed</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $06Enemy_SnifitGray</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $07Enemy_SnifitPink</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $08Enemy_Ostro</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $09Enemy_BobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $0AEnemy_AlbatossCarryingBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $0BEnemy_AlbatossStartRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $0CEnemy_AlbatossStartLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $0DEnemy_NinjiRunning</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $0EEnemy_NinjiJumping</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $0FEnemy_BeezoDiving</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $10Enemy_BeezoStraight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $11Enemy_WartBubble</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $12Enemy_Pidgit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $13Enemy_Trouter</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $14Enemy_Hoopstar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $15Enemy_JarGeneratorShyguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $16Enemy_JarGeneratorBobOmb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $17Enemy_Phanto</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $18Enemy_CobratJar</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $19Enemy_CobratSand</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1AEnemy_Pokey</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1BEnemy_Bullet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1CEnemy_Birdo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1DEnemy_Mouser</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1EEnemy_Egg</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $1FEnemy_Tryclyde</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $20Enemy_Fireball</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $21Enemy_Clawgrip</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $22Enemy_ClawgripRock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $23Enemy_PanserStationaryFiresAngled</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $24Enemy_PanserWalking</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $25Enemy_PanserStationaryFiresUp</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $26Enemy_Autobomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $27Enemy_AutobombFire</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $28Enemy_WhaleSpout</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $29Enemy_Flurry</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2AEnemy_Fryguy</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2BEnemy_FryguySplit</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2CEnemy_Wart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2DEnemy_HawkmouthBoss</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2EEnemy_Spark1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $2FEnemy_Spark2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $30Enemy_Spark3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $31Enemy_Spark4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $32Enemy_VegetableSmall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $33Enemy_VegetableLarge</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $34Enemy_VegetableWart</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $35Enemy_Shell</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $36Enemy_Coin</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; $37Enemy_Bomb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $38Enemy_Rocket</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $39Enemy_MushroomBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; $3AEnemy_POWBlock</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $3BEnemy_FallingLogs</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; $3CEnemy_SubspaceDoor</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $3DEnemy_Key</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $3EEnemy_SubspacePotion</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $3FEnemy_Mushroom</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $40Enemy_Mushroom1up</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $41Enemy_FlyingCarpet</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $42Enemy_HawkmouthRight</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $43Enemy_HawkmouthLeft</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $44Enemy_CrystalBall</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; $45Enemy_Starman</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; $46Enemy_Stopwatch</span>\n","line":4089},{"comment":"@TODO: use flag\nIFNDEF ENABLE_TILE_ATTRIBUTES_TABLE\n\nThis table determines the \"solidness\" of tiles.\n\nSolidness is broken into four tiers:\n- background (no collisions)\n- background to player/enemies, solid to mushroom blocks\n- jumpthrough block (collision on top only)\n- solid block (collision on all sides)\n\nTiles are divided into groups of $40. For each category, the corresponding\nthe groups are divided into two groups: tiles that have a collision rule and\ntiles that don't.\n","content":"TileSolidnessTable:","htmlComment":"<p>@TODO: use flag\nIFNDEF ENABLE_TILE_ATTRIBUTES_TABLE</p>\n<p>This table determines the \"solidness\" of tiles.</p>\n<p>Solidness is broken into four tiers:</p>\n<ul>\n<li>background (no collisions)</li>\n<li>background to player/enemies, solid to mushroom blocks</li>\n<li>jumpthrough block (collision on top only)</li>\n<li>solid block (collision on all sides)</li>\n</ul>\n<p>Tiles are divided into groups of $40. For each category, the corresponding\nthe groups are divided into two groups: tiles that have a collision rule and\ntiles that don't.</p>\n","htmlContent":"TileSolidnessTable:","line":4177},{"comment":"solid to mushroom blocks unless < these values","content":"\t.db $01\n\t.db $43\n\t.db $80\n\t.db $C0","htmlComment":"<p>solid to mushroom blocks unless &#x3C; these values</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$43</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C0</span>","line":4179},{"comment":"solid on top unless < these values","content":"\t.db $12\n\t.db $60\n\t.db $91\n\t.db $CA","htmlComment":"<p>solid on top unless &#x3C; these values</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$91</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span>","line":4184},{"comment":"solid on all sides unless < these values","content":"\t.db $18\n\t.db $69\n\t.db $98\n\t.db $D5\n\nIFDEF ENABLE_TILE_ATTRIBUTES_TABLE","htmlComment":"<p>solid on all sides unless &#x3C; these values</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$69</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D5</span>\n\nIFDEF ENABLE_TILE_ATTRIBUTES_TABLE","line":4189},{"comment":"ELSE\n\nThis table determines the collision properties of a tile\n\n* bit 7: whether bottom is solid to \"background interactive\" enemies\n* bit 6: whether top is solid to \"background interactive\" enemies\n* bit 5: whether right side is solid to \"background interactive\" enemies\n* bit 4: whether left side is solid to \"background interactive\" enemies\n* bit 3: whether bottom is solid\n* bit 2: whether top is solid\n* bit 1: whether right side is solid\n* bit 0: whether left side is solid\n","content":"TileCollisionAttributesTable:\n\t.db %00000000 ; $00\n\t.db %11110000 ; $01\n\t.db %11110000 ; $02\n\t.db %11110000 ; $03\n\t.db %11110000 ; $04\n\t.db %11110000 ; $05\n\t.db %11110000 ; $06\n\t.db %11110000 ; $07\n\t.db %11110000 ; $08\n\t.db %11110000 ; $09\n\t.db %11110000 ; $0A\n\t.db %11110000 ; $0B\n\t.db %11110000 ; $0C\n\t.db %11110000 ; $0D\n\t.db %11110000 ; $0E\n\t.db %11110000 ; $0F\n\t.db %11110000 ; $10\n\t.db %11110000 ; $11\n\t.db %00000100 ; $12\n\t.db %00000100 ; $13\n\t.db %00000100 ; $14\n\t.db %00000100 ; $15\n\t.db %00000100 ; $16\n\t.db %00000100 ; $17\n\t.db %00001111 ; $18\n\t.db %00001111 ; $19\n\t.db %10001111 ; $1A\n\t.db %00001111 ; $1B\n\t.db %00001111 ; $1C\n\t.db %00001111 ; $1D\n\t.db %00001111 ; $1E\n\t.db %00001111 ; $1F\n\t.db %00001111 ; $20\n\t.db %00001111 ; $21\n\t.db %00001111 ; $22\n\t.db %00001111 ; $23\n\t.db %00001111 ; $24\n\t.db %00001111 ; $25\n\t.db %00001111 ; $26\n\t.db %00001111 ; $27\n\t.db %00001111 ; $28\n\t.db %00001111 ; $29\n\t.db %00001111 ; $2A\n\t.db %00001111 ; $2B\n\t.db %00001111 ; $2C\n\t.db %00001111 ; $2D\n\t.db %00001111 ; $2E\n\t.db %00001111 ; $2F\n\t.db %00001111 ; $30\n\t.db %00001111 ; $31\n\t.db %00001111 ; $32\n\t.db %00001111 ; $33\n\t.db %00001111 ; $34\n\t.db %00001111 ; $35\n\t.db %00001111 ; $36\n\t.db %00001111 ; $37\n\t.db %00001111 ; $38\n\t.db %00001111 ; $39\n\t.db %00001111 ; $3A\n\t.db %00001111 ; $3B\n\t.db %00001111 ; $3C\n\t.db %00001111 ; $3D\n\t.db %00001111 ; $3E\n\t.db %00001111 ; $3F\n\t.db %00000000 ; $40\n\t.db %00000000 ; $41\n\t.db %00000000 ; $42\n\t.db %11110000 ; $43\n\t.db %11110000 ; $44\n\t.db %11110000 ; $45\n\t.db %11110000 ; $46\n\t.db %11110000 ; $47\n\t.db %11110000 ; $48\n\t.db %11110000 ; $49\n\t.db %11110000 ; $4A\n\t.db %11110000 ; $4B\n\t.db %11110000 ; $4C\n\t.db %11110000 ; $4D\n\t.db %11110000 ; $4E\n\t.db %11110000 ; $4F\n\t.db %11110000 ; $50\n\t.db %11110000 ; $51\n\t.db %11110000 ; $52\n\t.db %11110000 ; $53\n\t.db %11110000 ; $54\n\t.db %11110000 ; $55\n\t.db %11110000 ; $56\n\t.db %11110000 ; $57\n\t.db %11110000 ; $58\n\t.db %11110000 ; $59\n\t.db %11110000 ; $5A\n\t.db %11110000 ; $5B\n\t.db %11110000 ; $5C\n\t.db %11110000 ; $5D\n\t.db %11110000 ; $5E\n\t.db %11110000 ; $5F\n\t.db %00000100 ; $60\n\t.db %00000100 ; $61\n\t.db %00000100 ; $62\n\t.db %00000100 ; $63\n\t.db %00000100 ; $64\n\t.db %00000100 ; $65\n\t.db %00000100 ; $66\n\t.db %00000100 ; $67\n\t.db %00000100 ; $68\n\t.db %00001111 ; $69\n\t.db %00001111 ; $6A\n\t.db %00001111 ; $6B\n\t.db %00001111 ; $6C\n\t.db %00001111 ; $6D\n\t.db %00001111 ; $6E\n\t.db %00001111 ; $6F\n\t.db %00001111 ; $70\n\t.db %00001111 ; $71\n\t.db %00001111 ; $72\n\t.db %00001111 ; $73\n\t.db %00001111 ; $74\n\t.db %00001111 ; $75\n\t.db %00001111 ; $76\n\t.db %00001111 ; $77\n\t.db %00001111 ; $78\n\t.db %00001111 ; $79\n\t.db %00001111 ; $7A\n\t.db %00001111 ; $7B\n\t.db %00001111 ; $7C\n\t.db %00001111 ; $7D\n\t.db %00001111 ; $7E\n\t.db %00001111 ; $7F\n\t.db %11110000 ; $80\n\t.db %11110000 ; $81\n\t.db %11110000 ; $82\n\t.db %11110000 ; $83\n\t.db %11110000 ; $84\n\t.db %11110000 ; $85\n\t.db %11110000 ; $86\n\t.db %11110000 ; $87\n\t.db %11110000 ; $88\n\t.db %11110000 ; $89\n\t.db %11110000 ; $8A\n\t.db %11110000 ; $8B\n\t.db %11110000 ; $8C\n\t.db %11110000 ; $8D\n\t.db %11110000 ; $8E\n\t.db %11110000 ; $8F\n\t.db %11110000 ; $90\n\t.db %00000100 ; $91\n\t.db %00000100 ; $92\n\t.db %00000100 ; $93\n\t.db %00000100 ; $94\n\t.db %00000100 ; $95\n\t.db %00000100 ; $96\n\t.db %00000100 ; $97\n\t.db %00001111 ; $98\n\t.db %00001111 ; $99\n\t.db %00001111 ; $9A\n\t.db %00001111 ; $9B\n\t.db %00001111 ; $9C\n\t.db %00001111 ; $9D\n\t.db %00001111 ; $9E\n\t.db %00001111 ; $9F\n\t.db %00001111 ; $A0\n\t.db %00001111 ; $A1\n\t.db %00001111 ; $A2\n\t.db %00001111 ; $A3\n\t.db %00001111 ; $A4\n\t.db %00001111 ; $A5\n\t.db %00001111 ; $A6\n\t.db %00001111 ; $A7\n\t.db %00001111 ; $A8\n\t.db %00001111 ; $A9\n\t.db %00001111 ; $AA\n\t.db %00001111 ; $AB\n\t.db %00001111 ; $AC\n\t.db %00001111 ; $AD\n\t.db %00001111 ; $AE\n\t.db %00001111 ; $AF\n\t.db %00001111 ; $B0\n\t.db %00001111 ; $B1\n\t.db %00001111 ; $B2\n\t.db %00001111 ; $B3\n\t.db %00001111 ; $B4\n\t.db %00001111 ; $B5\n\t.db %00001111 ; $B6\n\t.db %00001111 ; $B7\n\t.db %00001111 ; $B8\n\t.db %00001111 ; $B9\n\t.db %00001111 ; $BA\n\t.db %00001111 ; $BB\n\t.db %00001111 ; $BC\n\t.db %00001111 ; $BD\n\t.db %00001111 ; $BE\n\t.db %00001111 ; $BF\n\t.db %11110000 ; $C0\n\t.db %11110000 ; $C1\n\t.db %11110000 ; $C2\n\t.db %11110000 ; $C3\n\t.db %11110000 ; $C4\n\t.db %11110000 ; $C5\n\t.db %11110000 ; $C6\n\t.db %11110000 ; $C7\n\t.db %11110000 ; $C8\n\t.db %11110000 ; $C9\n\t.db %00000100 ; $CA\n\t.db %00000100 ; $CB\n\t.db %00000100 ; $CC\n\t.db %00000100 ; $CD\n\t.db %00000100 ; $CE\n\t.db %00000100 ; $CF\n\t.db %00000100 ; $D0\n\t.db %00000100 ; $D1\n\t.db %00000100 ; $D2\n\t.db %00000100 ; $D3\n\t.db %00000100 ; $D4\n\t.db %00001111 ; $D5\n\t.db %00001111 ; $D6\n\t.db %00001111 ; $D7\n\t.db %00001111 ; $D8\n\t.db %00001111 ; $D9\n\t.db %00001111 ; $DA\n\t.db %00001111 ; $DB\n\t.db %00001111 ; $DC\n\t.db %00001111 ; $DD\n\t.db %00001111 ; $DE\n\t.db %00001111 ; $DF\n\t.db %00001111 ; $E0\n\t.db %00001111 ; $E1\n\t.db %00001111 ; $E2\n\t.db %00001111 ; $E3\n\t.db %00001111 ; $E4\n\t.db %00001111 ; $E5\n\t.db %00001111 ; $E6\n\t.db %00001111 ; $E7\n\t.db %00001111 ; $E8\n\t.db %00001111 ; $E9\n\t.db %00001111 ; $EA\n\t.db %00001111 ; $EB\n\t.db %00001111 ; $EC\n\t.db %00001111 ; $ED\n\t.db %00001111 ; $EE\n\t.db %00001111 ; $EF\n\t.db %00001111 ; $F0\n\t.db %00001111 ; $F1\n\t.db %00001111 ; $F2\n\t.db %00001111 ; $F3\n\t.db %00001111 ; $F4\n\t.db %00001111 ; $F5\n\t.db %00001111 ; $F6\n\t.db %00001111 ; $F7\n\t.db %00001111 ; $F8\n\t.db %00001111 ; $F9\n\t.db %00001111 ; $FA\n\t.db %00001111 ; $FB\n\t.db %00001111 ; $FC\n\t.db %00001111 ; $FD\n\t.db %00001111 ; $FE\n\t.db %00001111 ; $FF\n\n","htmlComment":"<p>ELSE</p>\n<p>This table determines the collision properties of a tile</p>\n<ul>\n<li>bit 7: whether bottom is solid to \"background interactive\" enemies</li>\n<li>bit 6: whether top is solid to \"background interactive\" enemies</li>\n<li>bit 5: whether right side is solid to \"background interactive\" enemies</li>\n<li>bit 4: whether left side is solid to \"background interactive\" enemies</li>\n<li>bit 3: whether bottom is solid</li>\n<li>bit 2: whether top is solid</li>\n<li>bit 1: whether right side is solid</li>\n<li>bit 0: whether left side is solid</li>\n</ul>\n","htmlContent":"TileCollisionAttributesTable:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $15</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $16</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $17</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $19</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%10001111</span> <span class=\"token comment\">; $1A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $1B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $1D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $1F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $21</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $22</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $23</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $25</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $26</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $27</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $29</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $2A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $2B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $2D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $2E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $2F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $31</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $32</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $33</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $35</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $36</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $37</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $39</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $3A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $3B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $3D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $3E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $3F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $41</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $42</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $43</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $45</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $46</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $47</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $49</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $4A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $4B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $4D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $4E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $4F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $51</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $52</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $53</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $55</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $56</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $57</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $59</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $5A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $5B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $5D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $5E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $5F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $61</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $62</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $63</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $65</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $66</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $67</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $69</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $6A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $6B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $6D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $6E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $6F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $71</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $72</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $73</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $75</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $76</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $77</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $79</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $7A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $7B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $7D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $7E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $7F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $81</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $82</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $83</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $85</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $86</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $87</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $89</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $8A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $8B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $8D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $8E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $8F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $91</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $92</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $93</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $95</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $96</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $97</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $99</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $9A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $9B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $9C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $9D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $9E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $9F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $A9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $AA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $AB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $AC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $AD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $AE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $AF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $B9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $BA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $BB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $BC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $BD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $BE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $BF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%11110000</span> <span class=\"token comment\">; $C9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $CA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $CB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $CC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $CD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $CE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $CF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $D0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $D1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $D2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $D3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $D4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $D5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $D6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $D7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $D8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $D9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $DA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $DB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $DC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $DD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $DE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $DF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $E9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $EA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $EB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $EC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $ED</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $EE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $EF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $F9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $FA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $FC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $FD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $FE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001111</span> <span class=\"token comment\">; $FF</span>\n\n","line":4208},{"comment":"Tile attributes\n\nThis table determines properties of each tile, including collision properties and special flags\n\n%76543210\nxxxxMMHH\n\n* M: movement effect (0 = none, 1 = slippery, 2 = quicksand, 3 = conveyor)\n* H: health effect (0 = none, 1 = damage, 2 = kill, 3 = heal)\n","content":"TileInteractionAttributesTable:\n\t.db %00000000 ; $00\n\t.db %00000000 ; $01\n\t.db %00000000 ; $02\n\t.db %00000000 ; $03\n\t.db %00000000 ; $04\n\t.db %00000000 ; $05\n\t.db %00000000 ; $06\n\t.db %00000000 ; $07\n\t.db %00000000 ; $08\n\t.db %00000000 ; $09\n\t.db %00000000 ; $0A\n\t.db %00000000 ; $0B\n\t.db %00000000 ; $0C\n\t.db %00000000 ; $0D\n\t.db %00000000 ; $0E\n\t.db %00000000 ; $0F\n\t.db %00000000 ; $10\n\t.db %00000000 ; $11\n\t.db %00000000 ; $12\n\t.db %00000000 ; $13\n\t.db %00000000 ; $14\n\t.db %00000000 ; $15\n\t.db %00000100 ; $16\n\t.db %00000000 ; $17\n\t.db %00000000 ; $18\n\t.db %00000000 ; $19\n\t.db %00000001 ; $1A\n\t.db %00000000 ; $1B\n\t.db %00000000 ; $1C\n\t.db %00000000 ; $1D\n\t.db %00000000 ; $1E\n\t.db %00000000 ; $1F\n\t.db %00000000 ; $20\n\t.db %00000000 ; $21\n\t.db %00000000 ; $22\n\t.db %00000000 ; $23\n\t.db %00000000 ; $24\n\t.db %00000000 ; $25\n\t.db %00000000 ; $26\n\t.db %00000000 ; $27\n\t.db %00000000 ; $28\n\t.db %00000000 ; $29\n\t.db %00000000 ; $2A\n\t.db %00000000 ; $2B\n\t.db %00000000 ; $2C\n\t.db %00000000 ; $2D\n\t.db %00000000 ; $2E\n\t.db %00000000 ; $2F\n\t.db %00000000 ; $30\n\t.db %00000000 ; $31\n\t.db %00000000 ; $32\n\t.db %00000000 ; $33\n\t.db %00000000 ; $34\n\t.db %00000000 ; $35\n\t.db %00000000 ; $36\n\t.db %00000000 ; $37\n\t.db %00000000 ; $38\n\t.db %00000000 ; $39\n\t.db %00000000 ; $3A\n\t.db %00000000 ; $3B\n\t.db %00000000 ; $3C\n\t.db %00000000 ; $3D\n\t.db %00000000 ; $3E\n\t.db %00000000 ; $3F\n\t.db %00000000 ; $40\n\t.db %00000000 ; $41\n\t.db %00000000 ; $42\n\t.db %00000000 ; $43\n\t.db %00000000 ; $44\n\t.db %00000000 ; $45\n\t.db %00000000 ; $46\n\t.db %00000000 ; $47\n\t.db %00000000 ; $48\n\t.db %00000000 ; $49\n\t.db %00000000 ; $4A\n\t.db %00000000 ; $4B\n\t.db %00000000 ; $4C\n\t.db %00000000 ; $4D\n\t.db %00000000 ; $4E\n\t.db %00000000 ; $4F\n\t.db %00000000 ; $50\n\t.db %00000000 ; $51\n\t.db %00000000 ; $52\n\t.db %00000000 ; $53\n\t.db %00000000 ; $54\n\t.db %00000000 ; $55\n\t.db %00000000 ; $56\n\t.db %00000000 ; $57\n\t.db %00000000 ; $58\n\t.db %00000000 ; $59\n\t.db %00000000 ; $5A\n\t.db %00000000 ; $5B\n\t.db %00000000 ; $5C\n\t.db %00000000 ; $5D\n\t.db %00000000 ; $5E\n\t.db %00000000 ; $5F\n\t.db %00000000 ; $60\n\t.db %00000000 ; $61\n\t.db %00000000 ; $62\n\t.db %00000000 ; $63\n\t.db %00000000 ; $64\n\t.db %00000000 ; $65\n\t.db %00000000 ; $66\n\t.db %00001100 ; $67\n\t.db %00001100 ; $68\n\t.db %00000000 ; $69\n\t.db %00000000 ; $6A\n\t.db %00000000 ; $6B\n\t.db %00000000 ; $6C\n\t.db %00000000 ; $6D\n\t.db %00000000 ; $6E\n\t.db %00000000 ; $6F\n\t.db %00000000 ; $70\n\t.db %00000000 ; $71\n\t.db %00000000 ; $72\n\t.db %00000000 ; $73\n\t.db %00000000 ; $74\n\t.db %00000000 ; $75\n\t.db %00000000 ; $76\n\t.db %00000000 ; $77\n\t.db %00000000 ; $78\n\t.db %00000000 ; $79\n\t.db %00000000 ; $7A\n\t.db %00000000 ; $7B\n\t.db %00000000 ; $7C\n\t.db %00000000 ; $7D\n\t.db %00000000 ; $7E\n\t.db %00000000 ; $7F\n\t.db %00000000 ; $80\n\t.db %00000000 ; $81\n\t.db %00000000 ; $82\n\t.db %00000000 ; $83\n\t.db %00000000 ; $84\n\t.db %00000000 ; $85\n\t.db %00000000 ; $86\n\t.db %00000000 ; $87\n\t.db %00000000 ; $88\n\t.db %00000000 ; $89\n\t.db %00001000 ; $8A\n\t.db %00001000 ; $8B\n\t.db %00000000 ; $8C\n\t.db %00000000 ; $8D\n\t.db %00000000 ; $8E\n\t.db %00000000 ; $8F\n\t.db %00000000 ; $90\n\t.db %00000000 ; $91\n\t.db %00000000 ; $92\n\t.db %00000000 ; $93\n\t.db %00000000 ; $94\n\t.db %00000000 ; $95\n\t.db %00000000 ; $96\n\t.db %00000000 ; $97\n\t.db %00000000 ; $98\n\t.db %00000000 ; $99\n\t.db %00000000 ; $9A\n\t.db %00000000 ; $9B\n\t.db %00000000 ; $9C\n\t.db %00000000 ; $9D\n\t.db %00000000 ; $9E\n\t.db %00000000 ; $9F\n\t.db %00000000 ; $A0\n\t.db %00000000 ; $A1\n\t.db %00000000 ; $A2\n\t.db %00000000 ; $A3\n\t.db %00000000 ; $A4\n\t.db %00000000 ; $A5\n\t.db %00000000 ; $A6\n\t.db %00000000 ; $A7\n\t.db %00000000 ; $A8\n\t.db %00000000 ; $A9\n\t.db %00000000 ; $AA\n\t.db %00000000 ; $AB\n\t.db %00000000 ; $AC\n\t.db %00000000 ; $AD\n\t.db %00000000 ; $AE\n\t.db %00000000 ; $AF\n\t.db %00000000 ; $B0\n\t.db %00000000 ; $B1\n\t.db %00000000 ; $B2\n\t.db %00000000 ; $B3\n\t.db %00000000 ; $B4\n\t.db %00000000 ; $B5\n\t.db %00000000 ; $B6\n\t.db %00000000 ; $B7\n\t.db %00000000 ; $B8\n\t.db %00000000 ; $B9\n\t.db %00000000 ; $BA\n\t.db %00000000 ; $BB\n\t.db %00000000 ; $BC\n\t.db %00000000 ; $BD\n\t.db %00000000 ; $BE\n\t.db %00000000 ; $BF\n\t.db %00000000 ; $C0\n\t.db %00000000 ; $C1\n\t.db %00000000 ; $C2\n\t.db %00000000 ; $C3\n\t.db %00000000 ; $C4\n\t.db %00000000 ; $C5\n\t.db %00000000 ; $C6\n\t.db %00000000 ; $C7\n\t.db %00000000 ; $C8\n\t.db %00000000 ; $C9\n\t.db %00000000 ; $CA\n\t.db %00000000 ; $CB\n\t.db %00000000 ; $CC\n\t.db %00000000 ; $CD\n\t.db %00000000 ; $CE\n\t.db %00000000 ; $CF\n\t.db %00000000 ; $D0\n\t.db %00000000 ; $D1\n\t.db %00000000 ; $D2\n\t.db %00000000 ; $D3\n\t.db %00000000 ; $D4\n\t.db %00000000 ; $D5\n\t.db %00000000 ; $D6\n\t.db %00000000 ; $D7\n\t.db %00000000 ; $D8\n\t.db %00000000 ; $D9\n\t.db %00000000 ; $DA\n\t.db %00000000 ; $DB\n\t.db %00000000 ; $DC\n\t.db %00000000 ; $DD\n\t.db %00000000 ; $DE\n\t.db %00000000 ; $DF\n\t.db %00000000 ; $E0\n\t.db %00000000 ; $E1\n\t.db %00000000 ; $E2\n\t.db %00000000 ; $E3\n\t.db %00000000 ; $E4\n\t.db %00000000 ; $E5\n\t.db %00000000 ; $E6\n\t.db %00000000 ; $E7\n\t.db %00000000 ; $E8\n\t.db %00000000 ; $E9\n\t.db %00000000 ; $EA\n\t.db %00000000 ; $EB\n\t.db %00000000 ; $EC\n\t.db %00000000 ; $ED\n\t.db %00000000 ; $EE\n\t.db %00000000 ; $EF\n\t.db %00000000 ; $F0\n\t.db %00000000 ; $F1\n\t.db %00000000 ; $F2\n\t.db %00000000 ; $F3\n\t.db %00000000 ; $F4\n\t.db %00000000 ; $F5\n\t.db %00000000 ; $F6\n\t.db %00000000 ; $F7\n\t.db %00000000 ; $F8\n\t.db %00000000 ; $F9\n\t.db %00000000 ; $FA\n\t.db %00000000 ; $FB\n\t.db %00000000 ; $FC\n\t.db %00000000 ; $FD\n\t.db %00000000 ; $FE\n\t.db %00000000 ; $FF\nENDIF\n\nWarpDestinations:\n\t.db $03\n\t.db $01\n\t.db $04\n\t.db $05\n\t.db $06\n\t.db $05\n\t.db $06\n\n","htmlComment":"<p>Tile attributes</p>\n<p>This table determines properties of each tile, including collision properties and special flags</p>\n<p>%76543210\nxxxxMMHH</p>\n<ul>\n<li>M: movement effect (0 = none, 1 = slippery, 2 = quicksand, 3 = conveyor)</li>\n<li>H: health effect (0 = none, 1 = damage, 2 = kill, 3 = heal)</li>\n</ul>\n","htmlContent":"TileInteractionAttributesTable:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $02</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $09</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $0A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $0B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $0D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $0F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $11</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $12</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $13</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $15</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000100</span> <span class=\"token comment\">; $16</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $17</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $19</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000001</span> <span class=\"token comment\">; $1A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $1B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $1D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $1E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $1F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $21</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $22</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $23</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $25</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $26</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $27</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $29</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $2A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $2B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $2D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $2E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $2F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $31</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $32</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $33</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $35</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $36</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $37</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $39</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $3F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $41</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $42</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $43</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $45</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $46</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $47</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $49</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $4A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $4B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $4D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $4E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $4F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $51</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $52</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $53</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $55</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $56</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $57</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $59</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $5A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $5B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $5D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $5E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $5F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $61</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $62</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $63</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $65</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $66</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001100</span> <span class=\"token comment\">; $67</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001100</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $69</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $6A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $6B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $6D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $6E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $6F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $71</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $72</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $73</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $75</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $76</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $77</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $79</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $7A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $7B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $7D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $7E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $7F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $81</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $82</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $83</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $85</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $86</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $87</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $89</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001000</span> <span class=\"token comment\">; $8A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00001000</span> <span class=\"token comment\">; $8B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $8D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $8E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $8F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $91</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $92</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $93</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $95</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $96</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $97</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $99</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $9A</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $9B</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $9C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $9D</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $9E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $9F</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $A9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $AA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $AB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $AC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $AD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $AE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $AF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $B9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $BA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $BB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $BC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $BD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $BE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $BF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $C9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $CA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $CB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $CC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $CD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $CE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $CF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $D9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $DA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $DB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $DC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $DD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $DE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $DF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $E9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $EA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $EB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $EC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $ED</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $EE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $EF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $F9</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $FA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $FB</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $FC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $FD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $FE</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token binarynumber string\">%00000000</span> <span class=\"token comment\">; $FF</span>\nENDIF\n\nWarpDestinations:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span>\n\n","line":4477},{"comment":"\nUpdates joypad press/held values\n","content":"UpdateJoypads:\n\tJSR ReadJoypads\n\nUpdateJoypads_DoubleCheck:","htmlComment":"<p>Updates joypad press/held values</p>\n","htmlContent":"UpdateJoypads:\n\t<span class=\"token opcode property\">JSR</span> ReadJoypads\n\nUpdateJoypads_DoubleCheck:","line":4749},{"comment":"Work around DPCM sample bug,\nwhere some spurious inputs are read","content":"IFDEF CONTROLLER_2_DEBUG\n\tLDY Player2JoypadPress\n\tSTY UpdateJoypadsTemp\nENDIF\n\tLDY Player1JoypadPress\n\tJSR ReadJoypads\n\n\tCPY Player1JoypadPress\n\tBNE UpdateJoypads_DoubleCheck\n\nIFDEF CONTROLLER_2_DEBUG\n\tLDY UpdateJoypadsTemp\n\tCPY Player2JoypadPress\n\tBNE UpdateJoypads_DoubleCheck\nENDIF\n\n\tLDX #$01\n\nUpdateJoypads_Loop:\n\tLDA Player1JoypadPress, X ; Update the press/held values\n\tTAY\n\tEOR Player1JoypadHeld, X\n\tAND Player1JoypadPress, X\n\tSTA Player1JoypadPress, X\n\tSTY Player1JoypadHeld, X\n\tDEX\n\tBPL UpdateJoypads_Loop\n\n\tRTS\n\n","htmlComment":"<p>Work around DPCM sample bug,\nwhere some spurious inputs are read</p>\n","htmlContent":"IFDEF CONTROLLER_<span class=\"token decimalnumber string\">2</span>_DEBUG\n\t<span class=\"token opcode property\">LDY</span> Player<span class=\"token decimalnumber string\">2</span>JoypadPress\n\t<span class=\"token opcode property\">STY</span> UpdateJoypadsTemp\nENDIF\n\t<span class=\"token opcode property\">LDY</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">JSR</span> ReadJoypads\n\n\t<span class=\"token opcode property\">CPY</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">BNE</span> UpdateJoypads_DoubleCheck\n\nIFDEF CONTROLLER_<span class=\"token decimalnumber string\">2</span>_DEBUG\n\t<span class=\"token opcode property\">LDY</span> UpdateJoypadsTemp\n\t<span class=\"token opcode property\">CPY</span> Player<span class=\"token decimalnumber string\">2</span>JoypadPress\n\t<span class=\"token opcode property\">BNE</span> UpdateJoypads_DoubleCheck\nENDIF\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$01</span>\n\nUpdateJoypads_Loop:\n\t<span class=\"token opcode property\">LDA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress, <span class=\"token register variable\">X</span> <span class=\"token comment\">; Update the press/held values</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">EOR</span> Player<span class=\"token decimalnumber string\">1</span>JoypadHeld, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">AND</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STY</span> Player<span class=\"token decimalnumber string\">1</span>JoypadHeld, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> UpdateJoypads_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4755},{"comment":"\nReads joypad pressed input\n","content":"ReadJoypads:\n\tLDX #$01\n\tSTX JOY1\n\tDEX\n\tSTX JOY1\n\n\tLDX #$08\nReadJoypadLoop:\n\tLDA JOY1\n\tLSR A\n\tROL Player1JoypadPress\n\tLSR A","htmlComment":"<p>Reads joypad pressed input</p>\n","htmlContent":"ReadJoypads:\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STX</span> JOY<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">STX</span> JOY<span class=\"token decimalnumber string\">1</span>\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$08</span>\nReadJoypadLoop:\n\t<span class=\"token opcode property\">LDA</span> JOY<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROL</span> Player<span class=\"token decimalnumber string\">1</span>JoypadPress\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>","line":4789},{"comment":"@TODO These seem to never be read, and even then are using a\nsecond bit from JOY1/JOY2 ... Was this reading from\nthe expansion port???","content":"\tROL Player1JoypadUnk\n\tLDA JOY2\n\tLSR A\n\tROL Player2JoypadPress\n\tLSR A\n\tROL Player2JoypadUnk\n\tDEX\n\tBNE ReadJoypadLoop\n\n\tRTS\n\n\n","htmlComment":"<p>@TODO These seem to never be read, and even then are using a\nsecond bit from JOY1/JOY2 ... Was this reading from\nthe expansion port???</p>\n","htmlContent":"\t<span class=\"token opcode property\">ROL</span> Player<span class=\"token decimalnumber string\">1</span>JoypadUnk\n\t<span class=\"token opcode property\">LDA</span> JOY<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROL</span> Player<span class=\"token decimalnumber string\">2</span>JoypadPress\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ROL</span> Player<span class=\"token decimalnumber string\">2</span>JoypadUnk\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> ReadJoypadLoop\n\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":4804},{"comment":"=============== S U B R O U T I N E =======================================","content":"sub_BANKF_F6A1:\n\tLDA CurrentLevelPage\n\tASL A\n\tTAY\n\tLDA AreaPointersByPage, Y\n\tSTA CurrentLevel\n\tINY\n\tLDA AreaPointersByPage, Y\n\tLSR A\n\tLSR A\n\tLSR A\n\tLSR A\n\tSTA CurrentLevelArea\n\tLDA AreaPointersByPage, Y\n\tAND #$0F\n\tSTA CurrentLevelEntryPage\n\tRTS\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"sub_BANKF_F<span class=\"token decimalnumber string\">6</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelPage\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevel\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">LDA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelArea\n\t<span class=\"token opcode property\">LDA</span> AreaPointersByPage, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$0F</span>\n\t<span class=\"token opcode property\">STA</span> CurrentLevelEntryPage\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":4817},{"comment":"End of function sub_BANKF_F6A1","content":"","htmlComment":"<p>End of function sub_BANKF_F6A1</p>\n","htmlContent":"","line":4837},{"comment":"\nChecks that we're playing the correct music and switches if necessary, unless\nwe're playing the invincibility music.\n\nInput\nCompareMusicIndex = music we should be playing\nCurrentMusicIndex = music we're actually playing\nStarInvincibilityTimer = whether the player is invincible\n\nOutput\nCurrentMusicIndex = music we should be plathing\nMusicQueue1 = song to play if we need to change the music\n","content":"EnsureCorrectMusic:\n\tLDA CompareMusicIndex\n\tCMP CurrentMusicIndex\n\tBEQ EnsureCorrectMusic_Exit\n\n\tTAX\n\tSTX CurrentMusicIndex\n\tLDA StarInvincibilityTimer\n\tCMP #$08\n\tBCS EnsureCorrectMusic_Exit\n\n\tLDA LevelMusicIndexes, X\n\tSTA MusicQueue1\n\nEnsureCorrectMusic_Exit:\n\tRTS\n\n\nDoAreaReset:\n\tLDA #$00\n\tSTA AreaInitialized\n\tSTA ObjectCarriedOver\n\tSTA SubspaceTimer\n\tSTA SubspaceDoorTimer\nIFDEF CONTROLLER_2_DEBUG\n\tSTA ChangeCharacterPoofTimer\nENDIF\n\tLDX #$08\n\nDoAreaReset_EnemyLoop:\n\tLDA EnemyState, X\n\tBEQ DoAreaReset_EnemyLoopEnd\n\n\tLDA ObjectBeingCarriedTimer, X\n\tBEQ DoAreaReset_AfterCarryOver\n\n\tLDA ObjectType, X\n\tCMP #Enemy_MushroomBlock\n\tBEQ DoAreaReset_AfterCarryOver\n\n\tSTA ObjectCarriedOver\n\nDoAreaReset_AfterCarryOver:\n\tJSR AreaResetEnemyDestroy\n\nDoAreaReset_EnemyLoopEnd:\n\tDEX\n\tBPL DoAreaReset_EnemyLoop\n\n\tLDX byte_RAM_12\n\tRTS\n","htmlComment":"<p>Checks that we're playing the correct music and switches if necessary, unless\nwe're playing the invincibility music.</p>\n<p>Input\nCompareMusicIndex = music we should be playing\nCurrentMusicIndex = music we're actually playing\nStarInvincibilityTimer = whether the player is invincible</p>\n<p>Output\nCurrentMusicIndex = music we should be plathing\nMusicQueue1 = song to play if we need to change the music</p>\n","htmlContent":"EnsureCorrectMusic:\n\t<span class=\"token opcode property\">LDA</span> CompareMusicIndex\n\t<span class=\"token opcode property\">CMP</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">BEQ</span> EnsureCorrectMusic_Exit\n\n\t<span class=\"token opcode property\">TAX</span>\n\t<span class=\"token opcode property\">STX</span> CurrentMusicIndex\n\t<span class=\"token opcode property\">LDA</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$08</span>\n\t<span class=\"token opcode property\">BCS</span> EnsureCorrectMusic_Exit\n\n\t<span class=\"token opcode property\">LDA</span> LevelMusicIndexes, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">1</span>\n\nEnsureCorrectMusic_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n\nDoAreaReset:\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> AreaInitialized\n\t<span class=\"token opcode property\">STA</span> ObjectCarriedOver\n\t<span class=\"token opcode property\">STA</span> SubspaceTimer\n\t<span class=\"token opcode property\">STA</span> SubspaceDoorTimer\nIFDEF CONTROLLER_<span class=\"token decimalnumber string\">2</span>_DEBUG\n\t<span class=\"token opcode property\">STA</span> ChangeCharacterPoofTimer\nENDIF\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$08</span>\n\nDoAreaReset_EnemyLoop:\n\t<span class=\"token opcode property\">LDA</span> EnemyState, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> DoAreaReset_EnemyLoopEnd\n\n\t<span class=\"token opcode property\">LDA</span> ObjectBeingCarriedTimer, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> DoAreaReset_AfterCarryOver\n\n\t<span class=\"token opcode property\">LDA</span> ObjectType, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">CMP</span> #Enemy_MushroomBlock\n\t<span class=\"token opcode property\">BEQ</span> DoAreaReset_AfterCarryOver\n\n\t<span class=\"token opcode property\">STA</span> ObjectCarriedOver\n\nDoAreaReset_AfterCarryOver:\n\t<span class=\"token opcode property\">JSR</span> AreaResetEnemyDestroy\n\nDoAreaReset_EnemyLoopEnd:\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> DoAreaReset_EnemyLoop\n\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">12</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":4852},{"comment":"End of function DoAreaReset","content":"\n","htmlComment":"<p>End of function DoAreaReset</p>\n","htmlContent":"\n","line":4905},{"comment":"=============== S U B R O U T I N E =======================================","content":"AreaResetEnemyDestroy:","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"AreaResetEnemyDestroy:","line":4907},{"comment":"load raw enemy data offset so we can allow the level object to respawn","content":"\tLDY unk_RAM_441, X","htmlComment":"<p>load raw enemy data offset so we can allow the level object to respawn</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> unk_RAM_<span class=\"token decimalnumber string\">441</span>, <span class=\"token register variable\">X</span>","line":4910},{"comment":"nothing to reset if offset is invalid","content":"\tBMI AreaResetEnemyDestroy_AfterAllowRespawn\n","htmlComment":"<p>nothing to reset if offset is invalid</p>\n","htmlContent":"\t<span class=\"token opcode property\">BMI</span> AreaResetEnemyDestroy_AfterAllowRespawn\n","line":4912},{"comment":"disabling bit 7 allows the object to respawn","content":"\tLDA (RawEnemyData), Y\n\tAND #$7F\n\tSTA (RawEnemyData), Y\n\nAreaResetEnemyDestroy_AfterAllowRespawn:\n\tLDA #EnemyState_Inactive\n\tSTA EnemyState, X\n\tRTS\n","htmlComment":"<p>disabling bit 7 allows the object to respawn</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> (RawEnemyData), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">AND</span> <span class=\"token hexnumber string\">#$7F</span>\n\t<span class=\"token opcode property\">STA</span> (RawEnemyData), <span class=\"token register variable\">Y</span>\n\nAreaResetEnemyDestroy_AfterAllowRespawn:\n\t<span class=\"token opcode property\">LDA</span> #EnemyState_Inactive\n\t<span class=\"token opcode property\">STA</span> EnemyState, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":4915},{"comment":"End of function AreaResetEnemyDestroy","content":"\n","htmlComment":"<p>End of function AreaResetEnemyDestroy</p>\n","htmlContent":"\n","line":4925},{"comment":"=============== S U B R O U T I N E =======================================","content":"KillPlayer:\n\tLDA #PlayerState_Dying ; Mark player as dead\n\tSTA PlayerState\n\tLDA #$00 ; Clear some variables\n\tSTA PlayerHealth\n\tSTA CrouchJumpTimer\n\tSTA StarInvincibilityTimer\n\tLDA #SpriteAnimation_Dead ; Set player animation to dead?\n\tSTA PlayerAnimationFrame\n\tLDA HoldingItem\n\tBEQ loc_BANKF_F749\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"KillPlayer:\n\t<span class=\"token opcode property\">LDA</span> #PlayerState_Dying <span class=\"token comment\">; Mark player as dead</span>\n\t<span class=\"token opcode property\">STA</span> PlayerState\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span> <span class=\"token comment\">; Clear some variables</span>\n\t<span class=\"token opcode property\">STA</span> PlayerHealth\n\t<span class=\"token opcode property\">STA</span> CrouchJumpTimer\n\t<span class=\"token opcode property\">STA</span> StarInvincibilityTimer\n\t<span class=\"token opcode property\">LDA</span> #SpriteAnimation_Dead <span class=\"token comment\">; Set player animation to dead?</span>\n\t<span class=\"token opcode property\">STA</span> PlayerAnimationFrame\n\t<span class=\"token opcode property\">LDA</span> HoldingItem\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">749</span>\n","line":4927},{"comment":"Probably something to throw away\na held item on death","content":"\tDEC HoldingItem\n\tLDY ObjectBeingCarriedIndex\n\tSTA EnemyArray_42F, Y\n\tLSR A\n\tSTA ObjectBeingCarriedTimer, Y\n\tSTA ObjectXVelocity, Y\n\tLDA #$E0\n\tSTX byte_RAM_D\n\tLDX EnemyState, Y\n\tCPX #EnemyState_Sinking\n\tBEQ loc_BANKF_F747\n\n\tSTA ObjectYVelocity, Y\n\nloc_BANKF_F747:\n\tLDX byte_RAM_D\n\nloc_BANKF_F749:","htmlComment":"<p>Probably something to throw away\na held item on death</p>\n","htmlContent":"\t<span class=\"token opcode property\">DEC</span> HoldingItem\n\t<span class=\"token opcode property\">LDY</span> ObjectBeingCarriedIndex\n\t<span class=\"token opcode property\">STA</span> EnemyArray_<span class=\"token decimalnumber string\">42</span>F, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LSR</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">STA</span> ObjectBeingCarriedTimer, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> ObjectXVelocity, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$E0</span>\n\t<span class=\"token opcode property\">STX</span> byte_RAM_D\n\t<span class=\"token opcode property\">LDX</span> EnemyState, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CPX</span> #EnemyState_Sinking\n\t<span class=\"token opcode property\">BEQ</span> loc_BANKF_F<span class=\"token decimalnumber string\">747</span>\n\n\t<span class=\"token opcode property\">STA</span> ObjectYVelocity, <span class=\"token register variable\">Y</span>\n\nloc_BANKF_F<span class=\"token decimalnumber string\">747</span>:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_D\n\nloc_BANKF_F<span class=\"token decimalnumber string\">749</span>:","line":4942},{"comment":"Set music to death jingle","content":"\tLDA #Music2_DeathJingle\n\tSTA MusicQueue2","htmlComment":"<p>Set music to death jingle</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #Music<span class=\"token decimalnumber string\">2</span>_DeathJingle\n\t<span class=\"token opcode property\">STA</span> MusicQueue<span class=\"token decimalnumber string\">2</span>","line":4961},{"comment":"BUG: Setting DPCM at the same time as music","content":"\tLDA #DPCM_PlayerDeath\n\tSTA DPCMQueue\n\tRTS\n","htmlComment":"<p>BUG: Setting DPCM at the same time as music</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> #DPCM_PlayerDeath\n\t<span class=\"token opcode property\">STA</span> DPCMQueue\n\t<span class=\"token opcode property\">RTS</span>\n","line":4964},{"comment":"End of function KillPlayer","content":"","htmlComment":"<p>End of function KillPlayer</p>\n","htmlContent":"","line":4969},{"comment":"=============== S U B R O U T I N E =======================================","content":"\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"\n","line":4971},{"comment":"Something to do with loading levels here","content":"GetLevelPointers:\n\tLDY CurrentLevel\n\tLDA LevelAreaStartIndexes, Y\n\tCLC\n\tADC CurrentLevelArea\n\tTAY ; Y now contains the current area or something\n\tLDA LevelDataPointersLo, Y\n\tSTA byte_RAM_5 ; $0005/$0006 are pointers to the level data\n\tLDA LevelDataPointersHi, Y\n\tSTA byte_RAM_6\n\tLDX #$FF ; Set to load level data into $7800 in RAM\n\tLDA #$78\n\tSTA byte_RAM_2\n\tLDY #$00\n\tSTY byte_RAM_1\n\nCopyLevelDataToMemory:\n\tLDA (byte_RAM_5), Y\n\tSTA (byte_RAM_1), Y\n\tINY\n\tDEX\n\tBNE CopyLevelDataToMemory\n\n\tSTA (byte_RAM_1), Y\n","htmlComment":"<p>Something to do with loading levels here</p>\n","htmlContent":"GetLevelPointers:\n\t<span class=\"token opcode property\">LDY</span> CurrentLevel\n\t<span class=\"token opcode property\">LDA</span> LevelAreaStartIndexes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> CurrentLevelArea\n\t<span class=\"token opcode property\">TAY</span> <span class=\"token comment\">; Y now contains the current area or something</span>\n\t<span class=\"token opcode property\">LDA</span> LevelDataPointersLo, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">5</span> <span class=\"token comment\">; $0005/$0006 are pointers to the level data</span>\n\t<span class=\"token opcode property\">LDA</span> LevelDataPointersHi, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$FF</span> <span class=\"token comment\">; Set to load level data into $7800 in RAM</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$78</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\nCopyLevelDataToMemory:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> CopyLevelDataToMemory\n\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n","line":4973},{"comment":"End of function GetLevelPointers","content":"\n","htmlComment":"<p>End of function GetLevelPointers</p>\n","htmlContent":"\n","line":5000},{"comment":"=============== S U B R O U T I N E =======================================","content":"GetEnemyPointers:\n\tLDY CurrentLevel\n\tLDA EnemyPointersByLevel_HiHi, Y\n\tSTA byte_RAM_1\n\tLDA EnemyPointersByLevel_HiLo, Y\n\tSTA byte_RAM_0\n\tLDA EnemyPointersByLevel_LoHi, Y\n\tSTA byte_RAM_3\n\tLDA EnemyPointersByLevel_LoLo, Y\n\tSTA byte_RAM_2\n\tLDA InSubspaceOrJar ; Are we in a jar?\n\tCMP #$01\n\tBNE loc_BANKF_F7A0 ; No, load the area as usual\n\n\tLDY #AreaIndex_Jar\n\tJMP loc_BANKF_F7A3\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"GetEnemyPointers:\n\t<span class=\"token opcode property\">LDY</span> CurrentLevel\n\t<span class=\"token opcode property\">LDA</span> EnemyPointersByLevel_HiHi, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> EnemyPointersByLevel_HiLo, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">LDA</span> EnemyPointersByLevel_LoHi, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">LDA</span> EnemyPointersByLevel_LoLo, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDA</span> InSubspaceOrJar <span class=\"token comment\">; Are we in a jar?</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">BNE</span> loc_BANKF_F<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">0</span> <span class=\"token comment\">; No, load the area as usual</span>\n\n\t<span class=\"token opcode property\">LDY</span> #AreaIndex_Jar\n\t<span class=\"token opcode property\">JMP</span> loc_BANKF_F<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">3</span>\n\n","line":5002},{"comment":"---------------------------------------------------------------------------","content":"loc_BANKF_F7A0:\n\tLDY CurrentLevelArea\n\nloc_BANKF_F7A3:\n\tLDA (byte_RAM_0), Y\n\tSTA byte_RAM_1\n\tLDA (byte_RAM_2), Y\n\tSTA byte_RAM_0\n\tLDX #$FF\n\tLDA #>RawEnemyDataAddr\n\tSTA byte_RAM_3\n\tLDY #<RawEnemyDataAddr\n\tSTY byte_RAM_2\n\nCopyEnemyDataToMemory:\n\tLDA (byte_RAM_0), Y\n\tSTA (byte_RAM_2), Y\n\tINY\n\tDEX\n\tBNE CopyEnemyDataToMemory\n\n\tRTS\n","htmlComment":"<hr>\n","htmlContent":"loc_BANKF_F<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">0</span>:\n\t<span class=\"token opcode property\">LDY</span> CurrentLevelArea\n\nloc_BANKF_F<span class=\"token decimalnumber string\">7</span><span class=\"token register variable\">A</span><span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">0</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">2</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">0</span>\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$FF</span>\n\t<span class=\"token opcode property\">LDA</span> #>RawEnemyDataAddr\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">LDY</span> #&#x3C;RawEnemyDataAddr\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\n\nCopyEnemyDataToMemory:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">0</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">2</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BNE</span> CopyEnemyDataToMemory\n\n\t<span class=\"token opcode property\">RTS</span>\n","line":5021},{"comment":"End of function GetEnemyPointers","content":"\n","htmlComment":"<p>End of function GetEnemyPointers</p>\n","htmlContent":"\n","line":5046},{"comment":"=============== S U B R O U T I N E =======================================","content":"GetJarPointers:\n\tLDY CurrentLevel ; Get the area starting index for the current level\n\tLDA LevelAreaStartIndexes, Y\n\tCLC\n\tADC #AreaIndex_Jar\n\tTAY\n\tLDA LevelDataPointersLo, Y\n\tSTA byte_RAM_5\n\tLDA LevelDataPointersHi, Y\n\tSTA byte_RAM_6\n\tLDA #>RawJarData\n\tSTA byte_RAM_2\n\tLDY #<RawJarData\n\tSTY byte_RAM_1\n\nCopyJarDataToMemory:\n\tLDA (byte_RAM_5), Y\n\tCMP #$FF ; This one actually terminates on any $FF read! Welp.\n\tBEQ CopyJarDataToMemoryFinished\n\n\tSTA (byte_RAM_1), Y\n\tINY\n\tJMP CopyJarDataToMemory\n\n","htmlComment":"<p>=============== S U B R O U T I N E =======================================</p>\n","htmlContent":"GetJarPointers:\n\t<span class=\"token opcode property\">LDY</span> CurrentLevel <span class=\"token comment\">; Get the area starting index for the current level</span>\n\t<span class=\"token opcode property\">LDA</span> LevelAreaStartIndexes, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> #AreaIndex_Jar\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> LevelDataPointersLo, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">LDA</span> LevelDataPointersHi, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">6</span>\n\t<span class=\"token opcode property\">LDA</span> #>RawJarData\n\t<span class=\"token opcode property\">STA</span> byte_RAM_<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDY</span> #&#x3C;RawJarData\n\t<span class=\"token opcode property\">STY</span> byte_RAM_<span class=\"token decimalnumber string\">1</span>\n\nCopyJarDataToMemory:\n\t<span class=\"token opcode property\">LDA</span> (byte_RAM_<span class=\"token decimalnumber string\">5</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$FF</span> <span class=\"token comment\">; This one actually terminates on any $FF read! Welp.</span>\n\t<span class=\"token opcode property\">BEQ</span> CopyJarDataToMemoryFinished\n\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">JMP</span> CopyJarDataToMemory\n\n","line":5048},{"comment":"---------------------------------------------------------------------------","content":"CopyJarDataToMemoryFinished:\n\tSTA (byte_RAM_1), Y\n\tRTS\n\n\n","htmlComment":"<hr>\n","htmlContent":"CopyJarDataToMemoryFinished:\n\t<span class=\"token opcode property\">STA</span> (byte_RAM_<span class=\"token decimalnumber string\">1</span>), <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\n","line":5074},{"comment":"End of function GetJarPointers","content":"TileQuadPointersLo:\n\t.db <TileQuads1\n\t.db <TileQuads2\n\t.db <TileQuads3\n\t.db <TileQuads4\n\nTileQuadPointersHi:\n\t.db >TileQuads1\n\t.db >TileQuads2\n\t.db >TileQuads3\n\t.db >TileQuads4\n\nTileQuads1:\n\t.db $FE,$FE,$FE,$FE ; $00\n\t.db $B4,$B6,$B5,$B7 ; $04\n\t.db $B8,$FA,$B9,$FA ; $08\n\t.db $FA,$FA,$B2,$B3 ; $0C\n\t.db $BE,$BE,$BF,$BF ; $10\n\t.db $BF,$BF,$BF,$BF ; $14\n\t.db $4A,$4A,$4B,$4B ; $18\n\t.db $5E,$5F,$5E,$5F ; $1C\n\t.db $E8,$E8,$A9,$A9 ; $20\n\t.db $46,$FC,$46,$FC ; $24\n\t.db $A9,$A9,$A9,$A9 ; $28\n\t.db $FC,$FC,$FC,$FC ; $2C\n\t.db $E9,$E9,$A9,$A9 ; $30\n\t.db $FC,$48,$FC,$48 ; $34\n\t.db $11,$11,$11,$11 ; $38\n\t.db $22,$22,$22,$22 ; $3C\n\t.db $33,$33,$33,$33 ; $40\n\t.db $E8,$EB,$A9,$A9 ; $44\n\t.db $74,$76,$75,$77 ; $48\n\t.db $98,$9A,$99,$9B ; $4C\n\t.db $9C,$9A,$9D,$9B ; $50\n\t.db $9C,$9E,$9B,$9F ; $54\n\t.db $58,$5A,$59,$5B ; $58\n\t.db $5E,$5F,$5E,$5F ; $5C\n\t.db $8E,$8F,$8F,$8E ; $60\n\t.db $72,$73,$73,$72 ; $64\n\t.db $A6,$A6,$A7,$A7 ; $68\n\t.db $92,$93,$93,$92 ; $6C\n\t.db $74,$76,$75,$77 ; $70\n\t.db $70,$72,$71,$73 ; $74\n\t.db $71,$73,$71,$73 ; $78\n\t.db $24,$26,$25,$27 ; $7C\n\t.db $32,$34,$33,$35 ; $80\n\t.db $33,$35,$33,$35 ; $84\n\t.db $24,$26,$25,$27 ; $88\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads1 + $100, $FC\nENDIF\n\nTileQuads2:\n\t.db $FA,$FA,$FA,$FA ; $00\n\t.db $FA,$FA,$FA,$FA ; $04\n\t.db $FA,$FA,$FA,$FA ; $08\n\t.db $FA,$FA,$B0,$B1 ; $0C\n\t.db $FA,$FA,$B0,$B1 ; $10\n\t.db $FA,$FA,$B0,$B1 ; $14\n\t.db $FA,$FA,$B0,$B1 ; $18\n\t.db $FA,$FA,$B0,$B1 ; $1C\n\t.db $FA,$FA,$B0,$B1 ; $20\n\t.db $FA,$FA,$B0,$B1 ; $24\n\t.db $FA,$FA,$B0,$B1 ; $28\n\t.db $FA,$FA,$B0,$B1 ; $2C\n\t.db $FA,$FA,$B0,$B1 ; $30\n\t.db $FA,$FA,$B0,$B1 ; $34\n\t.db $A0,$A2,$A1,$A3 ; $38\n\t.db $80,$82,$81,$83 ; $3C\n\t.db $F4,$86,$F5,$87 ; $40\n\t.db $84,$86,$85,$87 ; $44\n\t.db $FC,$FC,$FC,$FC ; $48\n\t.db $AD,$FB,$AC,$AD ; $4C\n\t.db $AC,$AC,$AC,$AC ; $50\n\t.db $FB,$3B,$3B,$AC ; $54\n\t.db $FC,$FC,$FC,$FC ; $58\n\t.db $F4,$86,$F5,$87 ; $5C\n\t.db $FB,$49,$49,$FB ; $60\n\t.db $FE,$FE,$FE,$FE ; $64\n\t.db $FE,$FE,$6D,$FE ; $68\n\t.db $3C,$3E,$3D,$3F ; $6C\n\t.db $58,$FD,$59,$5A ; $70\n\t.db $5B,$5A,$FD,$FD ; $74\n\t.db $5B,$5C,$FD,$5D ; $78\n\t.db $FD,$FD,$5B,$5A ; $7C\n\t.db $6C,$FE,$FE,$FE ; $80\n\t.db $FE,$FE,$FE,$FE ; $84\n\t.db $FE,$6E,$FE,$6F ; $88\n\t.db $20,$22,$21,$23 ; $8C\n\t.db $6E,$6F,$70,$71 ; $90\n\t.db $57,$57,$FB,$FB ; $94\n\t.db $57,$57,$FE,$FE ; $98\n\t.db $D3,$D3,$FB,$FB ; $9C\n\t.db $D2,$D2,$FB,$FB ; $A0\n\t.db $7C,$7E,$7D,$7F ; $A4\n\t.db $CA,$CC,$CB,$CD ; $A8\n\t.db $CA,$CC,$CB,$CD ; $AC\n\t.db $C0,$C2,$C1,$C3 ; $B0\n\t.db $2C,$2E,$2D,$2F ; $B4\n\t.db $8E,$8F,$8F,$8E ; $B8\n\t.db $88,$8A,$89,$8B ; $BC\n\t.db $89,$8B,$89,$8B ; $C0\n\t.db $89,$8B,$8C,$8D ; $C4\n\t.db $88,$8A,$8C,$8D ; $C8\n\t.db $88,$8A,$89,$8B ; $CC\n\t.db $88,$8A,$89,$8B ; $D0\n\t.db $6A,$6C,$6B,$6D ; $D4\n\t.db $6C,$6C,$6D,$6D ; $D8\n\t.db $6C,$6E,$6D,$6F ; $DC\n\t.db $6C,$54,$6D,$55 ; $E0\n\t.db $32,$34,$33,$35 ; $E4\n\t.db $33,$35,$33,$35 ; $E8\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads2 + $100, $FC\nENDIF\n\nTileQuads3:\n\t.db $94,$95,$94,$95 ; $00\n\t.db $96,$97,$96,$97 ; $04\n\t.db $48,$49,$48,$49 ; $08\n\t.db $FE,$FE,$FE,$FE ; $0C\n\t.db $FB,$32,$32,$33 ; $10\n\t.db $33,$33,$33,$33 ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $34,$FB,$FD,$34 ; $1C\n\t.db $FB,$30,$FB,$FB ; $20\n\t.db $FB,$FB,$31,$FB ; $24\n\t.db $D0,$D0,$D0,$D0 ; $28\n\t.db $D1,$D1,$D1,$D1 ; $2C\n\t.db $64,$66,$65,$67 ; $30\n\t.db $68,$6A,$69,$6B ; $34\n\t.db $FA,$6C,$FA,$6C ; $38\n\t.db $6D,$FA,$6D,$FA ; $3C\n\t.db $92,$93,$93,$92 ; $40\n\t.db $AE,$AF,$AE,$AF ; $44\n\t.db $78,$7A,$79,$7B ; $48\n\t.db $A8,$A8,$AF,$AE ; $4C\n\t.db $94,$95,$94,$95 ; $50\n\t.db $96,$97,$96,$97 ; $54\n\t.db $22,$24,$23,$25 ; $58\n\t.db $92,$93,$93,$92 ; $5C\n\t.db $50,$51,$50,$51 ; $60\n\t.db $AE,$AF,$AE,$AF ; $64\n\t.db $50,$51,$50,$51 ; $68\n\t.db $8E,$8F,$8F,$8E ; $6C\n\t.db $72,$73,$73,$72 ; $70\n\t.db $50,$52,$51,$53 ; $74\n\t.db $FD,$FD,$FD,$FD ; $78\n\t.db $FB,$36,$36,$4F ; $7C\n\t.db $4F,$4E,$4E,$4F ; $80\n\t.db $4E,$4F,$4F,$4E ; $84\n\t.db $92,$93,$93,$92 ; $88\n\t.db $8E,$8F,$8F,$8E ; $8C\n\t.db $44,$45,$45,$44 ; $90\n\t.db $4F,$37,$4E,$FE ; $94\n\t.db $4F,$3A,$4E,$FE ; $98\n\t.db $4F,$4E,$37,$38 ; $9C\n\t.db $4A,$4B,$FE,$FE ; $A0\n\t.db $72,$73,$4A,$4B ; $A4\n\t.db $40,$42,$41,$43 ; $A8\n\t.db $41,$43,$41,$43 ; $AC\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads3 + $100, $FC\nENDIF\nTileQuads4:\n\t.db $40,$42,$41,$43 ; $00\n\t.db $40,$42,$41,$43 ; $04\n\t.db $BA,$BC,$BB,$BD ; $08\n\t.db $BA,$BC,$90,$91 ; $0C\n\t.db $FA,$FA,$FA,$FA ; $10\n\t.db $FA,$FA,$FA,$FA ; $14\n\t.db $FD,$FD,$FD,$FD ; $18\n\t.db $61,$63,$61,$63 ; $1C\n\t.db $65,$63,$65,$63 ; $20\n\t.db $65,$67,$65,$67 ; $24\n\t.db $60,$62,$61,$63 ; $28\n\t.db $32,$34,$33,$35 ; $2C\n\t.db $64,$62,$65,$63 ; $30\n\t.db $36,$34,$37,$35 ; $34\n\t.db $64,$66,$65,$67 ; $38\n\t.db $36,$38,$37,$39 ; $3C\n\t.db $68,$62,$61,$63 ; $40\n\t.db $64,$69,$65,$67 ; $44\n\t.db $46,$62,$61,$63 ; $48\n\t.db $64,$47,$65,$67 ; $4C\n\t.db $BA,$BC,$BB,$BD ; $50\n\t.db $70,$72,$71,$73 ; $54\n\t.db $8E,$8F,$8F,$8E ; $58\n\t.db $72,$73,$73,$72 ; $5C\n\t.db $44,$45,$45,$44 ; $60\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads4 + $100, $FC\nENDIF\n\nEndOfLevelDoor: ; PPU data\n\t.db $22,$D0,$04,$FC,$FC,$AD,$FA\n\t.db $22,$F0,$04,$FC,$FC,$AC,$AD\n\t.db $23,$10,$06,$FC,$FC,$AC,$AC,$AD,$FA\n\t.db $23,$30,$06,$FC,$FC,$AC,$AC,$AC,$AD\n\t.db $00\n\nEndOfLevelDoorRowOffsets:\n\t.db $00\n\t.db $07\n\t.db $0E\n\t.db $17\n\nDefaultCHRAnimationSpeed_Level:\n\t.db $00 ; 1-1\n\t.db $00 ; 1-1\n\t.db $06 ; 3-1\n\t.db $06 ; 3-1\n\t.db $0A ; 4-2\n\t.db $0A ; 4-2\n\t.db $0B ; 4-3\n\t.db $0D ; 5-2\n\t.db $0E ; 5-3\n\t.db $11 ; 6-3\n\t.db $11 ; 6-3\n\t.db $12 ; 7-1\n\t.db $12 ; 7-1\n\t.db $12 ; 7-1\n\t.db $12 ; 7-1\n\t.db $13 ; 7-2\n\nDefaultCHRAnimationSpeed_Area:\n\t.db $01 ; 1-1 upward climb\n\t.db $05 ; 1-1 birdo\n\t.db $01 ; 3-1 main part\n\t.db $03 ; 3-1 sky part\n\t.db $01 ; 4-2 sky ice\n\t.db $02 ; 4-2 whales\n\t.db $04 ; 4-3 tower tops\n\t.db $02 ; 5-2 upward climb\n\t.db $04 ; 5-3 miniboss birdo\n\t.db $03 ; 6-3 upward climb\n\t.db $04 ; 6-3 sky pyramid\n\t.db $00 ; 7-1 beginning area\n\t.db $01 ; 7-1 albatoss area\n\t.db $02 ; 7-1 cloud maze\n\t.db $03 ; 7-1 upward climb\n\t.db $00 ; 7-2 entrance\n\nBackgroundCHRAnimationSpeedByWorld:\n\t.db $07 ; World 1\n\t.db $07 ; World 2\n\t.db $07 ; World 3\n\t.db $07 ; World 4\n\t.db $09 ; World 5\n\t.db $07 ; World 6\n\t.db $05 ; World 7\n\t.db $0B ; Default\n\n","htmlComment":"<p>End of function GetJarPointers</p>\n","htmlContent":"TileQuadPointersLo:\n\t<span class=\"token directive keyword\">.db</span> &#x3C;TileQuads<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> &#x3C;TileQuads<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token directive keyword\">.db</span> &#x3C;TileQuads<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token directive keyword\">.db</span> &#x3C;TileQuads<span class=\"token decimalnumber string\">4</span>\n\nTileQuadPointersHi:\n\t<span class=\"token directive keyword\">.db</span> >TileQuads<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token directive keyword\">.db</span> >TileQuads<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token directive keyword\">.db</span> >TileQuads<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token directive keyword\">.db</span> >TileQuads<span class=\"token decimalnumber string\">4</span>\n\nTileQuads<span class=\"token decimalnumber string\">1</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B4</span>,<span class=\"token hexnumber string\">$B6</span>,<span class=\"token hexnumber string\">$B5</span>,<span class=\"token hexnumber string\">$B7</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$B8</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B9</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B2</span>,<span class=\"token hexnumber string\">$B3</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BE</span>,<span class=\"token hexnumber string\">$BE</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span>,<span class=\"token hexnumber string\">$BF</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span>,<span class=\"token hexnumber string\">$4B</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span>,<span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E9</span>,<span class=\"token hexnumber string\">$E9</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$48</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$11</span>,<span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$22</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E8</span>,<span class=\"token hexnumber string\">$EB</span>,<span class=\"token hexnumber string\">$A9</span>,<span class=\"token hexnumber string\">$A9</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$74</span>,<span class=\"token hexnumber string\">$76</span>,<span class=\"token hexnumber string\">$75</span>,<span class=\"token hexnumber string\">$77</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$98</span>,<span class=\"token hexnumber string\">$9A</span>,<span class=\"token hexnumber string\">$99</span>,<span class=\"token hexnumber string\">$9B</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$9A</span>,<span class=\"token hexnumber string\">$9D</span>,<span class=\"token hexnumber string\">$9B</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$9C</span>,<span class=\"token hexnumber string\">$9E</span>,<span class=\"token hexnumber string\">$9B</span>,<span class=\"token hexnumber string\">$9F</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$59</span>,<span class=\"token hexnumber string\">$5B</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span>,<span class=\"token hexnumber string\">$5E</span>,<span class=\"token hexnumber string\">$5F</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$72</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A6</span>,<span class=\"token hexnumber string\">$A6</span>,<span class=\"token hexnumber string\">$A7</span>,<span class=\"token hexnumber string\">$A7</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$74</span>,<span class=\"token hexnumber string\">$76</span>,<span class=\"token hexnumber string\">$75</span>,<span class=\"token hexnumber string\">$77</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$27</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$26</span>,<span class=\"token hexnumber string\">$25</span>,<span class=\"token hexnumber string\">$27</span> <span class=\"token comment\">; $88</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads<span class=\"token decimalnumber string\">1</span> + <span class=\"token hexnumber string\">$100</span>, <span class=\"token hexnumber string\">$FC</span>\nENDIF\n\nTileQuads<span class=\"token decimalnumber string\">2</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$B0</span>,<span class=\"token hexnumber string\">$B1</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A0</span>,<span class=\"token hexnumber string\">$A2</span>,<span class=\"token hexnumber string\">$A1</span>,<span class=\"token hexnumber string\">$A3</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$80</span>,<span class=\"token hexnumber string\">$82</span>,<span class=\"token hexnumber string\">$81</span>,<span class=\"token hexnumber string\">$83</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F4</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$F5</span>,<span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$84</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$85</span>,<span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AD</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AD</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$3B</span>,<span class=\"token hexnumber string\">$3B</span>,<span class=\"token hexnumber string\">$AC</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$F4</span>,<span class=\"token hexnumber string\">$86</span>,<span class=\"token hexnumber string\">$F5</span>,<span class=\"token hexnumber string\">$87</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$3C</span>,<span class=\"token hexnumber string\">$3E</span>,<span class=\"token hexnumber string\">$3D</span>,<span class=\"token hexnumber string\">$3F</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$58</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$59</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5B</span>,<span class=\"token hexnumber string\">$5A</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$5B</span>,<span class=\"token hexnumber string\">$5C</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$5D</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$5B</span>,<span class=\"token hexnumber string\">$5A</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$6F</span> <span class=\"token comment\">; $88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$20</span>,<span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$21</span>,<span class=\"token hexnumber string\">$23</span> <span class=\"token comment\">; $8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$6F</span>,<span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$71</span> <span class=\"token comment\">; $90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$57</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D3</span>,<span class=\"token hexnumber string\">$D3</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $9C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D2</span>,<span class=\"token hexnumber string\">$D2</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$7C</span>,<span class=\"token hexnumber string\">$7E</span>,<span class=\"token hexnumber string\">$7D</span>,<span class=\"token hexnumber string\">$7F</span> <span class=\"token comment\">; $A4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span>,<span class=\"token hexnumber string\">$CC</span>,<span class=\"token hexnumber string\">$CB</span>,<span class=\"token hexnumber string\">$CD</span> <span class=\"token comment\">; $A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$CA</span>,<span class=\"token hexnumber string\">$CC</span>,<span class=\"token hexnumber string\">$CB</span>,<span class=\"token hexnumber string\">$CD</span> <span class=\"token comment\">; $AC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$C0</span>,<span class=\"token hexnumber string\">$C2</span>,<span class=\"token hexnumber string\">$C1</span>,<span class=\"token hexnumber string\">$C3</span> <span class=\"token comment\">; $B0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$2C</span>,<span class=\"token hexnumber string\">$2E</span>,<span class=\"token hexnumber string\">$2D</span>,<span class=\"token hexnumber string\">$2F</span> <span class=\"token comment\">; $B4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $B8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $BC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $C0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$8D</span> <span class=\"token comment\">; $C4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$8C</span>,<span class=\"token hexnumber string\">$8D</span> <span class=\"token comment\">; $C8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $CC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$88</span>,<span class=\"token hexnumber string\">$8A</span>,<span class=\"token hexnumber string\">$89</span>,<span class=\"token hexnumber string\">$8B</span> <span class=\"token comment\">; $D0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6A</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6B</span>,<span class=\"token hexnumber string\">$6D</span> <span class=\"token comment\">; $D4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$6D</span> <span class=\"token comment\">; $D8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$6E</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$6F</span> <span class=\"token comment\">; $DC</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$54</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$55</span> <span class=\"token comment\">; $E0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $E4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $E8</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads<span class=\"token decimalnumber string\">2</span> + <span class=\"token hexnumber string\">$100</span>, <span class=\"token hexnumber string\">$FC</span>\nENDIF\n\nTileQuads<span class=\"token decimalnumber string\">3</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span>,<span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$49</span>,<span class=\"token hexnumber string\">$48</span>,<span class=\"token hexnumber string\">$49</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$33</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$33</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$34</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$31</span>,<span class=\"token hexnumber string\">$FB</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$D0</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$D1</span>,<span class=\"token hexnumber string\">$D1</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$66</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$68</span>,<span class=\"token hexnumber string\">$6A</span>,<span class=\"token hexnumber string\">$69</span>,<span class=\"token hexnumber string\">$6B</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$6C</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$6C</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$6D</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$78</span>,<span class=\"token hexnumber string\">$7A</span>,<span class=\"token hexnumber string\">$79</span>,<span class=\"token hexnumber string\">$7B</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$A8</span>,<span class=\"token hexnumber string\">$A8</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AE</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span>,<span class=\"token hexnumber string\">$94</span>,<span class=\"token hexnumber string\">$95</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span>,<span class=\"token hexnumber string\">$96</span>,<span class=\"token hexnumber string\">$97</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$24</span>,<span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$25</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span> <span class=\"token comment\">; $60</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span>,<span class=\"token hexnumber string\">$AE</span>,<span class=\"token hexnumber string\">$AF</span> <span class=\"token comment\">; $64</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$51</span> <span class=\"token comment\">; $68</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $6C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$72</span> <span class=\"token comment\">; $70</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$50</span>,<span class=\"token hexnumber string\">$52</span>,<span class=\"token hexnumber string\">$51</span>,<span class=\"token hexnumber string\">$53</span> <span class=\"token comment\">; $74</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $78</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FB</span>,<span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$4F</span> <span class=\"token comment\">; $7C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4F</span> <span class=\"token comment\">; $80</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4E</span> <span class=\"token comment\">; $84</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$92</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$93</span>,<span class=\"token hexnumber string\">$92</span> <span class=\"token comment\">; $88</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $8C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$44</span> <span class=\"token comment\">; $90</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $94</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$3A</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $98</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4F</span>,<span class=\"token hexnumber string\">$4E</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$38</span> <span class=\"token comment\">; $9C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span>,<span class=\"token hexnumber string\">$FE</span>,<span class=\"token hexnumber string\">$FE</span> <span class=\"token comment\">; $A0</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$4A</span>,<span class=\"token hexnumber string\">$4B</span> <span class=\"token comment\">; $A4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $A8</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $AC</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads<span class=\"token decimalnumber string\">3</span> + <span class=\"token hexnumber string\">$100</span>, <span class=\"token hexnumber string\">$FC</span>\nENDIF\nTileQuads<span class=\"token decimalnumber string\">4</span>:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$40</span>,<span class=\"token hexnumber string\">$42</span>,<span class=\"token hexnumber string\">$41</span>,<span class=\"token hexnumber string\">$43</span> <span class=\"token comment\">; $04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$BB</span>,<span class=\"token hexnumber string\">$BD</span> <span class=\"token comment\">; $08</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$90</span>,<span class=\"token hexnumber string\">$91</span> <span class=\"token comment\">; $0C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $10</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span>,<span class=\"token hexnumber string\">$FA</span> <span class=\"token comment\">; $14</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span>,<span class=\"token hexnumber string\">$FD</span> <span class=\"token comment\">; $18</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $1C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$63</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $20</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $24</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$60</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $28</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$32</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$33</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $2C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $30</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$34</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$35</span> <span class=\"token comment\">; $34</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$66</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$36</span>,<span class=\"token hexnumber string\">$38</span>,<span class=\"token hexnumber string\">$37</span>,<span class=\"token hexnumber string\">$39</span> <span class=\"token comment\">; $3C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$68</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $40</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$69</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $44</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$46</span>,<span class=\"token hexnumber string\">$62</span>,<span class=\"token hexnumber string\">$61</span>,<span class=\"token hexnumber string\">$63</span> <span class=\"token comment\">; $48</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$64</span>,<span class=\"token hexnumber string\">$47</span>,<span class=\"token hexnumber string\">$65</span>,<span class=\"token hexnumber string\">$67</span> <span class=\"token comment\">; $4C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BA</span>,<span class=\"token hexnumber string\">$BC</span>,<span class=\"token hexnumber string\">$BB</span>,<span class=\"token hexnumber string\">$BD</span> <span class=\"token comment\">; $50</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$70</span>,<span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$71</span>,<span class=\"token hexnumber string\">$73</span> <span class=\"token comment\">; $54</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$8E</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8F</span>,<span class=\"token hexnumber string\">$8E</span> <span class=\"token comment\">; $58</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$72</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$73</span>,<span class=\"token hexnumber string\">$72</span> <span class=\"token comment\">; $5C</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$44</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$45</span>,<span class=\"token hexnumber string\">$44</span> <span class=\"token comment\">; $60</span>\nIFDEF EXPAND_TABLES\n\tunusedSpace TileQuads<span class=\"token decimalnumber string\">4</span> + <span class=\"token hexnumber string\">$100</span>, <span class=\"token hexnumber string\">$FC</span>\nENDIF\n\nEndOfLevelDoor: <span class=\"token comment\">; PPU data</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$D0</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$AD</span>,<span class=\"token hexnumber string\">$FA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$22</span>,<span class=\"token hexnumber string\">$F0</span>,<span class=\"token hexnumber string\">$04</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$10</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AD</span>,<span class=\"token hexnumber string\">$FA</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$23</span>,<span class=\"token hexnumber string\">$30</span>,<span class=\"token hexnumber string\">$06</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$FC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AC</span>,<span class=\"token hexnumber string\">$AD</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\nEndOfLevelDoorRowOffsets:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$17</span>\n\nDefaultCHRAnimationSpeed_Level:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; 1-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; 1-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span> <span class=\"token comment\">; 3-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$06</span> <span class=\"token comment\">; 3-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; 4-2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0A</span> <span class=\"token comment\">; 4-2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; 4-3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0D</span> <span class=\"token comment\">; 5-2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0E</span> <span class=\"token comment\">; 5-3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; 6-3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$11</span> <span class=\"token comment\">; 6-3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 7-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 7-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 7-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$12</span> <span class=\"token comment\">; 7-1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$13</span> <span class=\"token comment\">; 7-2</span>\n\nDefaultCHRAnimationSpeed_Area:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; 1-1 upward climb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; 1-1 birdo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; 3-1 main part</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; 3-1 sky part</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; 4-2 sky ice</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; 4-2 whales</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; 4-3 tower tops</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; 5-2 upward climb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; 5-3 miniboss birdo</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; 6-3 upward climb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span> <span class=\"token comment\">; 6-3 sky pyramid</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; 7-1 beginning area</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span> <span class=\"token comment\">; 7-1 albatoss area</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$02</span> <span class=\"token comment\">; 7-1 cloud maze</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$03</span> <span class=\"token comment\">; 7-1 upward climb</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span> <span class=\"token comment\">; 7-2 entrance</span>\n\nBackgroundCHRAnimationSpeedByWorld:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; World 1</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; World 2</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; World 3</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; World 4</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$09</span> <span class=\"token comment\">; World 5</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$07</span> <span class=\"token comment\">; World 6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$05</span> <span class=\"token comment\">; World 7</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$0B</span> <span class=\"token comment\">; Default</span>\n\n","line":5080},{"comment":"\nIncrements the frame of the CHR animation using the world/area speed\n","content":"AnimateCHRRoutine:\n\tDEC BackgroundCHR2Timer\n\tBPL AnimateCHRRoutine_Exit\n\n\tLDX #$07 ; default index for animation speed table\n","htmlComment":"<p>Increments the frame of the CHR animation using the world/area speed</p>\n","htmlContent":"AnimateCHRRoutine:\n\t<span class=\"token opcode property\">DEC</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>Timer\n\t<span class=\"token opcode property\">BPL</span> AnimateCHRRoutine_Exit\n\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$07</span> <span class=\"token comment\">; default index for animation speed table</span>\n","line":5339},{"comment":"Certain level/area combinations use a fixed animation speed.\nIt seems to be used in areas that prominently feature cloud platforms.\nThis loop performs the lookup to see if that should happen.","content":"\tLDY #(DefaultCHRAnimationSpeed_Area - DefaultCHRAnimationSpeed_Level - 1)\nAnimateCHRRoutine_DefaultSpeedLoop:\n\tLDA CurrentLevel_Init\n\tCMP DefaultCHRAnimationSpeed_Level, Y\n\tBNE AnimateCHRRoutine_DefaultSpeedNext\n\n\tLDA CurrentLevelArea_Init\n\tCMP DefaultCHRAnimationSpeed_Area, Y\n\tBEQ AnimateCHRRoutine_SetSpeed\n\nAnimateCHRRoutine_DefaultSpeedNext:\n\tDEY\n\tBPL AnimateCHRRoutine_DefaultSpeedLoop\n\n\tLDX CurrentWorldTileset\n\nAnimateCHRRoutine_SetSpeed:\n\tLDA BackgroundCHRAnimationSpeedByWorld, X\n\tSTA BackgroundCHR2Timer\n\tLDY BackgroundCHR2\n\tINY\n\tINY\n\nAnimatedCHRCheck:\nIFDEF FIX_CHR_CYCLE\n\tCPY #CHRBank_Animated8 + 1\nELSE","htmlComment":"<p>Certain level/area combinations use a fixed animation speed.\nIt seems to be used in areas that prominently feature cloud platforms.\nThis loop performs the lookup to see if that should happen.</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> #(DefaultCHRAnimationSpeed_Area - DefaultCHRAnimationSpeed_Level - <span class=\"token decimalnumber string\">1</span>)\nAnimateCHRRoutine_DefaultSpeedLoop:\n\t<span class=\"token opcode property\">LDA</span> CurrentLevel_Init\n\t<span class=\"token opcode property\">CMP</span> DefaultCHRAnimationSpeed_Level, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BNE</span> AnimateCHRRoutine_DefaultSpeedNext\n\n\t<span class=\"token opcode property\">LDA</span> CurrentLevelArea_Init\n\t<span class=\"token opcode property\">CMP</span> DefaultCHRAnimationSpeed_Area, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">BEQ</span> AnimateCHRRoutine_SetSpeed\n\nAnimateCHRRoutine_DefaultSpeedNext:\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> AnimateCHRRoutine_DefaultSpeedLoop\n\n\t<span class=\"token opcode property\">LDX</span> CurrentWorldTileset\n\nAnimateCHRRoutine_SetSpeed:\n\t<span class=\"token opcode property\">LDA</span> BackgroundCHRAnimationSpeedByWorld, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>Timer\n\t<span class=\"token opcode property\">LDY</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">INY</span>\n\nAnimatedCHRCheck:\nIFDEF FIX_CHR_CYCLE\n\t<span class=\"token opcode property\">CPY</span> #CHRBank_Animated<span class=\"token decimalnumber string\">8</span> + <span class=\"token decimalnumber string\">1</span>\nELSE","line":5348},{"comment":"Bug: This is in the original game\nThe last frame of the animation is effectively skipped because\nwe immediately reset to the first frame when we hit it.","content":"\tCPY #CHRBank_Animated8\nENDIF\n\n\tBCC AnimateCHRRoutine_SetCHR\n\n\tLDY #CHRBank_Animated1\n\nAnimateCHRRoutine_SetCHR:\n\tSTY BackgroundCHR2\n\nAnimateCHRRoutine_Exit:\n\tRTS\n\n","htmlComment":"<p>Bug: This is in the original game\nThe last frame of the animation is effectively skipped because\nwe immediately reset to the first frame when we hit it.</p>\n","htmlContent":"\t<span class=\"token opcode property\">CPY</span> #CHRBank_Animated<span class=\"token decimalnumber string\">8</span>\nENDIF\n\n\t<span class=\"token opcode property\">BCC</span> AnimateCHRRoutine_SetCHR\n\n\t<span class=\"token opcode property\">LDY</span> #CHRBank_Animated<span class=\"token decimalnumber string\">1</span>\n\nAnimateCHRRoutine_SetCHR:\n\t<span class=\"token opcode property\">STY</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\nAnimateCHRRoutine_Exit:\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":5378},{"comment":"\nLooks for an unused sprite slot\n\nInput\nX = enemy slot\nOutput\nX = byte_RAM_12\nY = sprite slot\n","content":"FindSpriteSlot:\n\tLDX #$08\n\nFindSpriteSlot_Loop:\n\tLDA EnemyState, X\n\tBEQ FindSpriteSlot_CheckInactiveSlot\n\nFindSpriteSlot_LoopNext:\n\tDEX\n\tBPL FindSpriteSlot_Loop\n\nFindSpriteSlot_Default:","htmlComment":"<p>Looks for an unused sprite slot</p>\n<p>Input\nX = enemy slot\nOutput\nX = byte_RAM_12\nY = sprite slot</p>\n","htmlContent":"FindSpriteSlot:\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$08</span>\n\nFindSpriteSlot_Loop:\n\t<span class=\"token opcode property\">LDA</span> EnemyState, <span class=\"token register variable\">X</span>\n\t<span class=\"token opcode property\">BEQ</span> FindSpriteSlot_CheckInactiveSlot\n\nFindSpriteSlot_LoopNext:\n\t<span class=\"token opcode property\">DEX</span>\n\t<span class=\"token opcode property\">BPL</span> FindSpriteSlot_Loop\n\nFindSpriteSlot_Default:","line":5401},{"comment":"Check that both halves of the default sprite slot are unused","content":"\tLDY #$00\n\tLDA SpriteDMAArea, Y\n\tCMP #$F8\n\tBNE FindSpriteSlot_FallbackExit\n\n\tLDA SpriteDMAArea + 4, Y\n\tCMP #$F8\n\tBEQ FindSpriteSlot_Exit\n\nFindSpriteSlot_FallbackExit:","htmlComment":"<p>Check that both halves of the default sprite slot are unused</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">LDA</span> SpriteDMAArea, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F8</span>\n\t<span class=\"token opcode property\">BNE</span> FindSpriteSlot_FallbackExit\n\n\t<span class=\"token opcode property\">LDA</span> SpriteDMAArea + <span class=\"token decimalnumber string\">4</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F8</span>\n\t<span class=\"token opcode property\">BEQ</span> FindSpriteSlot_Exit\n\nFindSpriteSlot_FallbackExit:","line":5414},{"comment":"If all else fails, here's $10","content":"\tLDY #$10\n\nFindSpriteSlot_Exit:\n\tLDX byte_RAM_12\n\tRTS\n","htmlComment":"<p>If all else fails, here's $10</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$10</span>\n\nFindSpriteSlot_Exit:\n\t<span class=\"token opcode property\">LDX</span> byte_RAM_<span class=\"token decimalnumber string\">12</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":5425},{"comment":"The object slot is inactive, so check that something else hasn't claimed the\ncorresponding sprite slot.","content":"FindSpriteSlot_CheckInactiveSlot:","htmlComment":"<p>The object slot is inactive, so check that something else hasn't claimed the\ncorresponding sprite slot.</p>\n","htmlContent":"FindSpriteSlot_CheckInactiveSlot:","line":5433},{"comment":"Calculate the sprite slot using the flicker offset","content":"\tTXA\n\tCLC\n\tADC SpriteFlickerSlot\n\tTAY\n\tLDA SpriteFlickerDMAOffset, Y\n","htmlComment":"<p>Calculate the sprite slot using the flicker offset</p>\n","htmlContent":"\t<span class=\"token opcode property\">TXA</span>\n\t<span class=\"token opcode property\">CLC</span>\n\t<span class=\"token opcode property\">ADC</span> SpriteFlickerSlot\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> SpriteFlickerDMAOffset, <span class=\"token register variable\">Y</span>\n","line":5435},{"comment":"Check that both halves of the object's sprite slot are unused","content":"\tTAY\n\tLDA SpriteDMAArea, Y\n\tCMP #$F8\n\tBNE FindSpriteSlot_LoopNext\n\tLDA SpriteDMAArea + 4, Y\n\tCMP #$F8\n\tBNE FindSpriteSlot_LoopNext\n\tBEQ FindSpriteSlot_Exit\n\n","htmlComment":"<p>Check that both halves of the object's sprite slot are unused</p>\n","htmlContent":"\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> SpriteDMAArea, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F8</span>\n\t<span class=\"token opcode property\">BNE</span> FindSpriteSlot_LoopNext\n\t<span class=\"token opcode property\">LDA</span> SpriteDMAArea + <span class=\"token decimalnumber string\">4</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">CMP</span> <span class=\"token hexnumber string\">#$F8</span>\n\t<span class=\"token opcode property\">BNE</span> FindSpriteSlot_LoopNext\n\t<span class=\"token opcode property\">BEQ</span> FindSpriteSlot_Exit\n\n","line":5442},{"comment":"Unused space in the original ($FB36 - $FDFF)","content":"unusedSpace $FE00, $FF\n\nIFDEF RESET_CHR_LATCH\nCHRBank_Boss:\n\t.db CHRBank_EnemiesGrass ; Mouser\n\t.db CHRBank_EnemiesDesert ; Tryclyde\n\t.db CHRBank_EnemiesIce ; Fryguy\n\t.db CHRBank_EnemiesGrass ; Clawgrip\n\t.db CHRBank_EnemiesSky ; Wart\nENDIF\n\nCHRBank_WorldEnemies:\n\t.db CHRBank_EnemiesGrass\n\t.db CHRBank_EnemiesDesert\n\t.db CHRBank_EnemiesGrass\n\t.db CHRBank_EnemiesIce\n\t.db CHRBank_EnemiesGrass\n\t.db CHRBank_EnemiesDesert\n\t.db CHRBank_EnemiesSky\n\nCHRBank_WorldBossBackground:\n\t.db CHRBank_BackgroundGrass\n\t.db CHRBank_BackgroundDesert\n\t.db CHRBank_BackgroundGrass\n\t.db CHRBank_BackgroundIce\n\t.db CHRBank_BackgroundGrassClawgrip\n\t.db CHRBank_BackgroundDesert\n\t.db CHRBank_BackgroundSky\n\nCHRBank_CharacterSize:\n\t.db CHRBank_Mario\n\t.db CHRBank_MarioSmall\n\t.db CHRBank_Princess\n\t.db CHRBank_PrincessSmall\n\t.db CHRBank_Toad\n\t.db CHRBank_ToadSmall\n\t.db CHRBank_Luigi\n\t.db CHRBank_LuigiSmall\n\n\nLoadWorldCHRBanks:\n\tLDY #CHRBank_CommonEnemies1\n\tSTY SpriteCHR2\n\tINY\n\tSTY SpriteCHR3\n\tLDY CurrentWorldTileset\n\tLDA CHRBank_WorldEnemies, Y\n\tSTA SpriteCHR4\n\tLDA CHRBank_WorldBossBackground, Y\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_Animated1\n\tSTA BackgroundCHR2\n\nIFDEF RESET_CHR_LATCH\n\tLDY BossTileset\n\tBMI LoadCharacterCHRBanks\n\tLDA CHRBank_Boss, Y\n\tSTA SpriteCHR4\nENDIF\n\nLoadCharacterCHRBanks:\n\tLDA CurrentCharacter\n\tASL A\n\tORA PlayerCurrentSize\n\tTAY\n\tLDA CHRBank_CharacterSize, Y\n\tSTA SpriteCHR1\n\tRTS\n\nIFDEF RESET_CHR_LATCH\nCheckResetCHRLatch:\n\tLDA ResetCHRLatch\n\tBEQ CheckResetCHRLatch_Exit\n\n\tLDA #$00\n\tSTA ResetCHRLatch\n\n\tLDY #CHRBank_CommonEnemies1\n\tSTY SpriteCHR2\n\tINY\n\tSTY SpriteCHR3\n\n\tLDY CurrentWorldTileset\n\tLDA CHRBank_WorldEnemies, Y\n\tSTA SpriteCHR4\n\tLDA CHRBank_WorldBossBackground, Y\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_Animated1\n\tSTA BackgroundCHR2\n\n\tLDY BossTileset\n\tBMI CheckResetCHRLatch_Exit\n\tLDA CHRBank_Boss, Y\n\tSTA SpriteCHR4\n\nCheckResetCHRLatch_Exit:\n\tRTS\nENDIF\n\n\nLoadTitleScreenCHRBanks:\n\tLDA #CHRBank_TitleScreenBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_TitleScreenBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadCelebrationSceneBackgroundCHR:\n\tLDA #CHRBank_CelebrationBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_CelebrationBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadCharacterSelectCHRBanks:\n\tLDA #CHRBank_CharacterSelectSprites\n\tSTA SpriteCHR1\n\tLDA #CHRBank_CharacterSelectBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_CharacterSelectBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nTitleCardCHRBanks:\n\t.db CHRBank_TitleCardGrass\n\t.db CHRBank_TitleCardDesert\n\t.db CHRBank_TitleCardGrass\n\t.db CHRBank_TitleCardIce\n\t.db CHRBank_TitleCardGrass\n\t.db CHRBank_TitleCardDesert\n\t.db CHRBank_TitleCardSky\n\n\nChangeTitleCardCHR:\n\tLDY CurrentWorld\n\tLDA TitleCardCHRBanks, Y\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadBonusChanceCHRBanks:\n\tLDA #CHRBank_ChanceBG1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_ChanceBG2\n\tSTA BackgroundCHR2\n\tRTS\n\n\nLoadMarioSleepingCHRBanks:\n\tLDY #CHRBank_EndingSprites\n\tSTY SpriteCHR1\n\tINY\n\tSTY SpriteCHR2\n\tLDA #CHRBank_EndingBackground1\n\tSTA BackgroundCHR1\n\tLDA #CHRBank_EndingBackground1 + 2\n\tSTA BackgroundCHR2\n\tRTS\n\n","htmlComment":"<p>Unused space in the original ($FB36 - $FDFF)</p>\n","htmlContent":"unusedSpace <span class=\"token hexnumber string\">$FE00</span>, <span class=\"token hexnumber string\">$FF</span>\n\nIFDEF RESET_CHR_LATCH\nCHRBank_Boss:\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesGrass <span class=\"token comment\">; Mouser</span>\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesDesert <span class=\"token comment\">; Tryclyde</span>\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesIce <span class=\"token comment\">; Fryguy</span>\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesGrass <span class=\"token comment\">; Clawgrip</span>\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesSky <span class=\"token comment\">; Wart</span>\nENDIF\n\nCHRBank_WorldEnemies:\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesDesert\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesIce\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesDesert\n\t<span class=\"token directive keyword\">.db</span> CHRBank_EnemiesSky\n\nCHRBank_WorldBossBackground:\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundDesert\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundIce\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundGrassClawgrip\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundDesert\n\t<span class=\"token directive keyword\">.db</span> CHRBank_BackgroundSky\n\nCHRBank_CharacterSize:\n\t<span class=\"token directive keyword\">.db</span> CHRBank_Mario\n\t<span class=\"token directive keyword\">.db</span> CHRBank_MarioSmall\n\t<span class=\"token directive keyword\">.db</span> CHRBank_Princess\n\t<span class=\"token directive keyword\">.db</span> CHRBank_PrincessSmall\n\t<span class=\"token directive keyword\">.db</span> CHRBank_Toad\n\t<span class=\"token directive keyword\">.db</span> CHRBank_ToadSmall\n\t<span class=\"token directive keyword\">.db</span> CHRBank_Luigi\n\t<span class=\"token directive keyword\">.db</span> CHRBank_LuigiSmall\n\n\nLoadWorldCHRBanks:\n\t<span class=\"token opcode property\">LDY</span> #CHRBank_CommonEnemies<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STY</span> SpriteCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">STY</span> SpriteCHR<span class=\"token decimalnumber string\">3</span>\n\t<span class=\"token opcode property\">LDY</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> CHRBank_WorldEnemies, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteCHR<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">LDA</span> CHRBank_WorldBossBackground, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_Animated<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\nIFDEF RESET_CHR_LATCH\n\t<span class=\"token opcode property\">LDY</span> BossTileset\n\t<span class=\"token opcode property\">BMI</span> LoadCharacterCHRBanks\n\t<span class=\"token opcode property\">LDA</span> CHRBank_Boss, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteCHR<span class=\"token decimalnumber string\">4</span>\nENDIF\n\nLoadCharacterCHRBanks:\n\t<span class=\"token opcode property\">LDA</span> CurrentCharacter\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\t<span class=\"token opcode property\">ORA</span> PlayerCurrentSize\n\t<span class=\"token opcode property\">TAY</span>\n\t<span class=\"token opcode property\">LDA</span> CHRBank_CharacterSize, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">RTS</span>\n\nIFDEF RESET_CHR_LATCH\nCheckResetCHRLatch:\n\t<span class=\"token opcode property\">LDA</span> ResetCHRLatch\n\t<span class=\"token opcode property\">BEQ</span> CheckResetCHRLatch_Exit\n\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> ResetCHRLatch\n\n\t<span class=\"token opcode property\">LDY</span> #CHRBank_CommonEnemies<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STY</span> SpriteCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">STY</span> SpriteCHR<span class=\"token decimalnumber string\">3</span>\n\n\t<span class=\"token opcode property\">LDY</span> CurrentWorldTileset\n\t<span class=\"token opcode property\">LDA</span> CHRBank_WorldEnemies, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteCHR<span class=\"token decimalnumber string\">4</span>\n\t<span class=\"token opcode property\">LDA</span> CHRBank_WorldBossBackground, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_Animated<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\n\t<span class=\"token opcode property\">LDY</span> BossTileset\n\t<span class=\"token opcode property\">BMI</span> CheckResetCHRLatch_Exit\n\t<span class=\"token opcode property\">LDA</span> CHRBank_Boss, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> SpriteCHR<span class=\"token decimalnumber string\">4</span>\n\nCheckResetCHRLatch_Exit:\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\n\nLoadTitleScreenCHRBanks:\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_TitleScreenBG<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_TitleScreenBG<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nLoadCelebrationSceneBackgroundCHR:\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_CelebrationBG<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_CelebrationBG<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nLoadCharacterSelectCHRBanks:\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_CharacterSelectSprites\n\t<span class=\"token opcode property\">STA</span> SpriteCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_CharacterSelectBG<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_CharacterSelectBG<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nTitleCardCHRBanks:\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardDesert\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardIce\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardGrass\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardDesert\n\t<span class=\"token directive keyword\">.db</span> CHRBank_TitleCardSky\n\n\nChangeTitleCardCHR:\n\t<span class=\"token opcode property\">LDY</span> CurrentWorld\n\t<span class=\"token opcode property\">LDA</span> TitleCardCHRBanks, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nLoadBonusChanceCHRBanks:\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_ChanceBG<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_ChanceBG<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n\nLoadMarioSleepingCHRBanks:\n\t<span class=\"token opcode property\">LDY</span> #CHRBank_EndingSprites\n\t<span class=\"token opcode property\">STY</span> SpriteCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">INY</span>\n\t<span class=\"token opcode property\">STY</span> SpriteCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_EndingBackground<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>\n\t<span class=\"token opcode property\">LDA</span> #CHRBank_EndingBackground<span class=\"token decimalnumber string\">1</span> + <span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">STA</span> BackgroundCHR<span class=\"token decimalnumber string\">2</span>\n\t<span class=\"token opcode property\">RTS</span>\n\n","line":5453},{"comment":"Unused space in the original ($FE97 - $FF4F)","content":"unusedSpace $FF50, $FF\n\n","htmlComment":"<p>Unused space in the original ($FE97 - $FF4F)</p>\n","htmlContent":"unusedSpace <span class=\"token hexnumber string\">$FF50</span>, <span class=\"token hexnumber string\">$FF</span>\n\n","line":5617},{"comment":"public RESET\nThis code is called when the NES is reset","content":"RESET:\n\tSEI\n\tCLD\n\tLDA #PPUCtrl_Base2000 | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite0000 | PPUCtrl_Background0000 | PPUCtrl_SpriteSize8x8 | PPUCtrl_NMIDisabled\n\tSTA PPUCTRL\n\tLDX #$FF ; Reset stack pointer\n\tTXS\n\nRESET_VBlankLoop:","htmlComment":"<p>public RESET\nThis code is called when the NES is reset</p>\n","htmlContent":"RESET:\n\t<span class=\"token opcode property\">SEI</span>\n\t<span class=\"token opcode property\">CLD</span>\n\t<span class=\"token opcode property\">LDA</span> #PPUCtrl_Base<span class=\"token decimalnumber string\">2000</span> | PPUCtrl_WriteHorizontal | PPUCtrl_Sprite<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_Background<span class=\"token decimalnumber string\">0000</span> | PPUCtrl_SpriteSize<span class=\"token decimalnumber string\">8</span><span class=\"token register variable\">x</span><span class=\"token decimalnumber string\">8</span> | PPUCtrl_NMIDisabled\n\t<span class=\"token opcode property\">STA</span> PPUCTRL\n\t<span class=\"token opcode property\">LDX</span> <span class=\"token hexnumber string\">#$FF</span> <span class=\"token comment\">; Reset stack pointer</span>\n\t<span class=\"token opcode property\">TXS</span>\n\nRESET_VBlankLoop:","line":5622},{"comment":"Wait for first VBlank","content":"\tLDA PPUSTATUS\n\tAND #PPUStatus_VBlankHit\n\tBEQ RESET_VBlankLoop\n\nRESET_VBlank2Loop:","htmlComment":"<p>Wait for first VBlank</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">AND</span> #PPUStatus_VBlankHit\n\t<span class=\"token opcode property\">BEQ</span> RESET_VBlankLoop\n\nRESET_VBlank<span class=\"token decimalnumber string\">2</span>Loop:","line":5632},{"comment":"Wait for second VBlank","content":"\tLDA PPUSTATUS\n\tBPL RESET_VBlank2Loop\n\nIFDEF DEBUG\n\tLDA #$00\n\tSTA Debug_InMenu\nENDIF\n\nIF INES_MAPPER == MAPPER_FME7\n\tLDA #$0C\n\tSTA $8000\n\tLDA #VMirror\n\tSTA $A000\nELSE\n\tLDA #VMirror\n\tSTA NametableMapping\n\tLDA #$80\n\tSTA $A001 ; PRG-RAM protect\nENDIF\n\tJMP StartGame\n\n","htmlComment":"<p>Wait for second VBlank</p>\n","htmlContent":"\t<span class=\"token opcode property\">LDA</span> PPUSTATUS\n\t<span class=\"token opcode property\">BPL</span> RESET_VBlank<span class=\"token decimalnumber string\">2</span>Loop\n\nIFDEF DEBUG\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$00</span>\n\t<span class=\"token opcode property\">STA</span> Debug_InMenu\nENDIF\n\nIF INES_MAPPER == MAPPER_FME<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0C</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> #VMirror\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\nELSE\n\t<span class=\"token opcode property\">LDA</span> #VMirror\n\t<span class=\"token opcode property\">STA</span> NametableMapping\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$80</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A001</span> <span class=\"token comment\">; PRG-RAM protect</span>\nENDIF\n\t<span class=\"token opcode property\">JMP</span> StartGame\n\n","line":5638},{"comment":"\nSwitches the current CHR banks\n","content":"IF INES_MAPPER == MAPPER_FME7\nChangeCHRBanks:\n\tJMP ChangeCHRBanks_FME7\n","htmlComment":"<p>Switches the current CHR banks</p>\n","htmlContent":"IF INES_MAPPER == MAPPER_FME<span class=\"token decimalnumber string\">7</span>\nChangeCHRBanks:\n\t<span class=\"token opcode property\">JMP</span> ChangeCHRBanks_FME<span class=\"token decimalnumber string\">7</span>\n","line":5663},{"comment":"Maintain location of the next subroutine","content":"\tunusedSpace $FF85, $FF\n\nELSEIF INES_MAPPER == MAPPER_MMC5\nChangeCHRBanks:\n\tJMP ChangeCHRBanks_MMC5\n","htmlComment":"<p>Maintain location of the next subroutine</p>\n","htmlContent":"\tunusedSpace <span class=\"token hexnumber string\">$FF85</span>, <span class=\"token hexnumber string\">$FF</span>\n\nELSEIF INES_MAPPER == MAPPER_MMC<span class=\"token decimalnumber string\">5</span>\nChangeCHRBanks:\n\t<span class=\"token opcode property\">JMP</span> ChangeCHRBanks_MMC<span class=\"token decimalnumber string\">5</span>\n","line":5668},{"comment":"Maintain location of the next subroutine","content":"\tunusedSpace $FF85, $FF\n\nELSE ; INES_MAPPER == MAPPER_MMC3\nChangeCHRBanks:\n\tLDY #$05\nChangeCHRBanks_Loop:\n\tTYA\n\tORA #$80\n\tSTA $8000\n\tLDA BackgroundCHR1, Y\n\tSTA $8001\n\tDEY\n\tBPL ChangeCHRBanks_Loop\n\n\tRTS\nENDIF\n\n","htmlComment":"<p>Maintain location of the next subroutine</p>\n","htmlContent":"\tunusedSpace <span class=\"token hexnumber string\">$FF85</span>, <span class=\"token hexnumber string\">$FF</span>\n\nELSE <span class=\"token comment\">; INES_MAPPER == MAPPER_MMC3</span>\nChangeCHRBanks:\n\t<span class=\"token opcode property\">LDY</span> <span class=\"token hexnumber string\">#$05</span>\nChangeCHRBanks_Loop:\n\t<span class=\"token opcode property\">TYA</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$80</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">LDA</span> BackgroundCHR<span class=\"token decimalnumber string\">1</span>, <span class=\"token register variable\">Y</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8001</span>\n\t<span class=\"token opcode property\">DEY</span>\n\t<span class=\"token opcode property\">BPL</span> ChangeCHRBanks_Loop\n\n\t<span class=\"token opcode property\">RTS</span>\nENDIF\n\n","line":5675},{"comment":"\nCalling this one will save the changed bank\nto RAM, so if something uses the below version\nthe original bank set with this can be restored.\n","content":"ChangeMappedPRGBank:\n\tSTA MMC3PRGBankTemp ; See below comment.\n","htmlComment":"<p>Calling this one will save the changed bank\nto RAM, so if something uses the below version\nthe original bank set with this can be restored.</p>\n","htmlContent":"ChangeMappedPRGBank:\n\t<span class=\"token opcode property\">STA</span> MMC<span class=\"token decimalnumber string\">3</span>PRGBankTemp <span class=\"token comment\">; See below comment.</span>\n","line":5698},{"comment":"\nAny call to this sub switches the lower two banks together, eg:\nLDA 0 JSR Change... = Bank 0/1\nLDA 1 JSR Change... = Bank 2/3\netc.\n\nThis version changes the bank numbers without\nsaving the change to RAM, so the previous bank\ncan be recalled later (mostly for temporary switches,\nlike music handling and such)\n","content":"ChangeMappedPRGBankWithoutSaving:\n\tASL A\n\nIF INES_MAPPER == MAPPER_FME7\n\tPHA\n\tLDA #$09\n\tSTA $8000\n\tPLA\n\tSTA $A000 ; Change first bank\n\tORA #$01 ; Use the bank right after this one next\n\tPHA\n\tLDA #$0A\n\tSTA $8000\n\tPLA\n\tSTA $A000 ; Change second bank\n\n\tRTS\n\nELSEIF INES_MAPPER == MAPPER_MMC5\n\tORA #$80\n\tSTA $5114\n\tORA #$01\n\tSTA $5115\n\tRTS\n","htmlComment":"<p>Any call to this sub switches the lower two banks together, eg:\nLDA 0 JSR Change... = Bank 0/1\nLDA 1 JSR Change... = Bank 2/3\netc.</p>\n<p>This version changes the bank numbers without\nsaving the change to RAM, so the previous bank\ncan be recalled later (mostly for temporary switches,\nlike music handling and such)</p>\n","htmlContent":"ChangeMappedPRGBankWithoutSaving:\n\t<span class=\"token opcode property\">ASL</span> <span class=\"token register variable\">A</span>\n\nIF INES_MAPPER == MAPPER_FME<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$09</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span> <span class=\"token comment\">; Change first bank</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$01</span> <span class=\"token comment\">; Use the bank right after this one next</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0A</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span> <span class=\"token comment\">; Change second bank</span>\n\n\t<span class=\"token opcode property\">RTS</span>\n\nELSEIF INES_MAPPER == MAPPER_MMC<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$80</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5114</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$01</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$5115</span>\n\t<span class=\"token opcode property\">RTS</span>\n","line":5712},{"comment":"Maintain location of the next subroutine","content":"\tunusedSpace $FFA0, $FF\n\nELSE ; INES_MAPPER == MAPPER_MMC3\n\tPHA\n\tLDA #$86\n\tSTA $8000\n\tPLA\n\tSTA $8001 ; Change first bank\n\tORA #$01 ; Use the bank right after this one next\n\tPHA\n\tLDA #$87\n\tSTA $8000\n\tPLA\n\tSTA $8001 ; Change second bank\n\tRTS\n\nENDIF\n\n","htmlComment":"<p>Maintain location of the next subroutine</p>\n","htmlContent":"\tunusedSpace <span class=\"token hexnumber string\">$FFA0</span>, <span class=\"token hexnumber string\">$FF</span>\n\nELSE <span class=\"token comment\">; INES_MAPPER == MAPPER_MMC3</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$86</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8001</span> <span class=\"token comment\">; Change first bank</span>\n\t<span class=\"token opcode property\">ORA</span> <span class=\"token hexnumber string\">#$01</span> <span class=\"token comment\">; Use the bank right after this one next</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$87</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8001</span> <span class=\"token comment\">; Change second bank</span>\n\t<span class=\"token opcode property\">RTS</span>\n\nENDIF\n\n","line":5738},{"comment":"\nWriting to $A000 sets mirroring.\nA = $00 for vertical\nA = $01 for horizontal\n","content":"ChangeNametableMirroring:\nIF INES_MAPPER == MAPPER_FME7\n\tPHA\n\tLDA #$0C\n\tSTA $8000\n\tPLA\n\tSTA $A000\nELSE\n\tSTA NametableMapping\nENDIF\n\tRTS\n","htmlComment":"<p>Writing to $A000 sets mirroring.\nA = $00 for vertical\nA = $01 for horizontal</p>\n","htmlContent":"ChangeNametableMirroring:\nIF INES_MAPPER == MAPPER_FME<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token opcode property\">PHA</span>\n\t<span class=\"token opcode property\">LDA</span> <span class=\"token hexnumber string\">#$0C</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$8000</span>\n\t<span class=\"token opcode property\">PLA</span>\n\t<span class=\"token opcode property\">STA</span> <span class=\"token hexnumber string\">$A000</span>\nELSE\n\t<span class=\"token opcode property\">STA</span> NametableMapping\nENDIF\n\t<span class=\"token opcode property\">RTS</span>\n","line":5762},{"comment":"Unused space in the original ($FFA4 - $FFEA)","content":"unusedSpace $FFEB, $FF\n","htmlComment":"<p>Unused space in the original ($FFA4 - $FFEA)</p>\n","htmlContent":"unusedSpace <span class=\"token hexnumber string\">$FFEB</span>, <span class=\"token hexnumber string\">$FF</span>\n","line":5775},{"comment":"Technically you can delete the stuff from here to the vector table as well,\nbut because it looks slightly less like unused space it isn't being removed.","content":"","htmlComment":"<p>Technically you can delete the stuff from here to the vector table as well,\nbut because it looks slightly less like unused space it isn't being removed.</p>\n","htmlContent":"","line":5779},{"comment":"Not used; leftover part of FamicomBox cart title?","content":"UnusedTextZELDA:\n\t.db 'ZELDA'\n","htmlComment":"<p>Not used; leftover part of FamicomBox cart title?</p>\n","htmlContent":"UnusedTextZELDA:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token string\">'ZELDA'</span>\n","line":5781},{"comment":"Note that this is NOT CODE.\nIf the NES actually hits a BRK, the game will probably just explode.\nIf you wanted, you could write  some sort of crash handler though.","content":"IRQ:\n\t.db $DF\n\t.db $E6\n\t.db $00\n\t.db $00\n\t.db $38\n\t.db $04\n\t.db $01\n\t.db $04\n\t.db $01\n\t.db $BE\n","htmlComment":"<p>Note that this is NOT CODE.\nIf the NES actually hits a BRK, the game will probably just explode.\nIf you wanted, you could write  some sort of crash handler though.</p>\n","htmlContent":"IRQ:\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$DF</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$E6</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$00</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$38</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$04</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$01</span>\n\t<span class=\"token directive keyword\">.db</span> <span class=\"token hexnumber string\">$BE</span>\n","line":5787},{"comment":"Ensure our vectors are always here","content":"\t.pad $FFFA, $FF\n","htmlComment":"<p>Ensure our vectors are always here</p>\n","htmlContent":"\t<span class=\"token directive keyword\">.pad</span> <span class=\"token hexnumber string\">$FFFA</span>, <span class=\"token hexnumber string\">$FF</span>\n","line":5800},{"comment":"Vectors for the NES CPU. These should ALWAYS be at $FFFA!\nAdd a .pad or .base before here if you change code above.\nNMI = VBlank\nRESET = ...well, reset.\nIRQ is not used, but you could if you wanted.","content":"NESVectorTables:\n\t.dw NMI\nIF INES_MAPPER == MAPPER_FME7\n\t.dw RESET_FME7\nELSEIF INES_MAPPER == MAPPER_MMC5\n\t.dw RESET_MMC5\nELSE ; INES_MAPPER == MAPPER_MMC3\n\t.dw RESET\nENDIF\n\t.dw IRQ\n","htmlComment":"<p>Vectors for the NES CPU. These should ALWAYS be at $FFFA!\nAdd a .pad or .base before here if you change code above.\nNMI = VBlank\nRESET = ...well, reset.\nIRQ is not used, but you could if you wanted.</p>\n","htmlContent":"NESVectorTables:\n\t<span class=\"token directive keyword\">.dw</span> NMI\nIF INES_MAPPER == MAPPER_FME<span class=\"token decimalnumber string\">7</span>\n\t<span class=\"token directive keyword\">.dw</span> RESET_FME<span class=\"token decimalnumber string\">7</span>\nELSEIF INES_MAPPER == MAPPER_MMC<span class=\"token decimalnumber string\">5</span>\n\t<span class=\"token directive keyword\">.dw</span> RESET_MMC<span class=\"token decimalnumber string\">5</span>\nELSE <span class=\"token comment\">; INES_MAPPER == MAPPER_MMC3</span>\n\t<span class=\"token directive keyword\">.dw</span> RESET\nENDIF\n\t<span class=\"token directive keyword\">.dw</span> IRQ\n","line":5807}]}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}